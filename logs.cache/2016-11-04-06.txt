04.11 06:10:18 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:10:18 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:10:18 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:10:18 TIME: core/server.query : 1.31 ms
04.11 06:10:18 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:10:18 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:10:18 TIME: core/user.isOnlineID : 0.15 ms
04.11 06:10:18 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:10:18 STATS: cache [user], get [11 calls, 2 cache hits, 9 cache misses, 0 same version, 0 not found]
04.11 06:10:18 STATS: cache [user], segments [47 calls, 27 hits, 17 misses]
04.11 06:10:18 STATS: cache [user], database [8412 calls, 9 reads, 14 writes]
04.11 06:10:18 STATS: cache [user], lock [10 calls, 10 attempts, 0 failures]
04.11 06:10:18 READDB: SELECT * FROM Users WHERE ID = 107
04.11 06:10:18 STATS: cache manager [1], get [18 calls, total 0.03 sec spent, avg 1.91 ms]
04.11 06:10:18 STATS: cache manager [1], update [25 calls, total 0 sec spent, avg 0.15 ms]
04.11 06:10:18 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 0, id => 107 } }
04.11 06:10:18 TIME: core/cache.get : 2.4 ms
04.11 06:10:18 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:10:18 STATS: cache [questdata], get [8 calls, 0 cache hits, 8 cache misses, 0 same version, 0 not found]
04.11 06:10:18 STATS: cache [questdata], segments [34 calls, 17 hits, 16 misses]
04.11 06:10:18 STATS: cache [questdata], database [8412 calls, 8 reads, 8 writes]
04.11 06:10:18 STATS: cache [questdata], lock [9 calls, 9 attempts, 0 failures]
04.11 06:10:18 READDB: SELECT * FROM UserQuests WHERE ID = 107
04.11 06:10:18 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 107 } }
04.11 06:10:18 TIME: core/cache.get : 1.46 ms
04.11 06:10:18 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:10:18 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:10:18 TIME: core/user.loginPost : 0.11 ms
04.11 06:10:25 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:10:25 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:10:25 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }, { id => 49 }, { id => 32 }, { id => 33 }, { id => 35 }, { id => 50 }, { id => 51 }}, errorCode => ok, _type => core/server.query }
04.11 06:10:25 TIME: core/server.query : 1.35 ms
04.11 06:10:25 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 51, _type => vdl/cache.battle.infoRoom }
04.11 06:10:25 STATS: cache [battle], get [79 calls, 57 cache hits, 21 cache misses, 0 same version, 2 not found]
04.11 06:10:25 STATS: cache [battle], segments [105 calls, 83 hits, 21 misses]
04.11 06:10:25 STATS: cache [battle], database [8419 calls, 21 reads, 18 writes]
04.11 06:10:25 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:10:25 READDB: SELECT * FROM Battle WHERE ID = 51
04.11 06:10:25 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:10:25 TIME: vdl/cache.battle.infoRoom : 1.42 ms
04.11 06:10:25 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 51, _type => vdl/cache.battle.deleteRoom }
04.11 06:10:25 ROOM: deleted room 51
04.11 06:10:25 DB: DELETE FROM Battle WHERE ID = 51
04.11 06:10:25 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:10:25 TIME: vdl/cache.battle.deleteRoom : 21.91 ms
04.11 06:10:25 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 51, _type => vdl/cache.battle.finishRoom }
04.11 06:10:25 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:10:25 TIME: vdl/cache.battle.finishRoom : 0.1 ms
04.11 06:10:25 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:10:25 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:10:25 TIME: core/user.sendTo : 0.1 ms
04.11 06:10:25 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:10:25 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:10:25 TIME: core/cache.update : 0.14 ms
04.11 06:10:25 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:10:25 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:10:25 TIME: core/cache.update : 0.11 ms
04.11 06:10:25 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:10:25 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:10:25 TIME: core/user.logoutPost : 0.09 ms
04.11 06:10:26 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:10:26 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:10:30 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481820', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 51
04.11 06:10:33 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:10:33 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:10:33 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:10:33 TIME: core/server.query : 1.22 ms
04.11 06:10:33 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:10:33 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:10:33 TIME: core/user.isOnlineID : 0.08 ms
04.11 06:10:33 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:10:33 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 1, id => 107 } }
04.11 06:10:33 TIME: core/cache.get : 0.29 ms
04.11 06:10:33 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:10:33 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 107 } }
04.11 06:10:33 TIME: core/cache.get : 0.2 ms
04.11 06:10:33 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:10:33 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:10:33 TIME: core/user.loginPost : 0.1 ms
04.11 06:10:40 BLOCKREMOVE: battle 51 removed
04.11 06:10:40 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:10:40 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:10:40 TIME: core/cache.update : 0.18 ms
04.11 06:10:41 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:11:06 TIMER: Clans cache...
04.11 06:11:06 TIMER: Clans cache: 0ms
04.11 06:11:06 TIMER: Check tournament...
04.11 06:11:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:11' OR rounddate = '2016-04-11 06:11' AND status <> 'finished'
04.11 06:11:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.06624094' AND avaliable = true AND finished <> true
04.11 06:11:06 TIMER: Check tournament: 2ms
04.11 06:11:06 TIMER: Clans cache...
04.11 06:11:06 TIMER: Clans cache: 0ms
04.11 06:11:06 TIMER: Check tournament...
04.11 06:11:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:12' OR rounddate = '2016-04-11 06:12' AND status <> 'finished'
04.11 06:11:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.12625506' AND avaliable = true AND finished <> true
04.11 06:11:06 TIMER: Check tournament: 2ms
04.11 06:11:06 TIMER: Clans cache...
04.11 06:11:06 TIMER: Clans cache: 0ms
04.11 06:11:06 TIMER: Check tournament...
04.11 06:11:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:13' OR rounddate = '2016-04-11 06:13' AND status <> 'finished'
04.11 06:11:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.18626558' AND avaliable = true AND finished <> true
04.11 06:11:06 TIMER: Check tournament: 1ms
04.11 06:11:06 TIMER: Clans cache...
04.11 06:11:06 TIMER: Clans cache: 0ms
04.11 06:11:06 TIMER: Check tournament...
04.11 06:11:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:14' OR rounddate = '2016-04-11 06:14' AND status <> 'finished'
04.11 06:11:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.24627563' AND avaliable = true AND finished <> true
04.11 06:11:06 TIMER: Check tournament: 1ms
04.11 06:11:06 TIMER: Clans cache...
04.11 06:11:06 TIMER: Clans cache: 0ms
04.11 06:11:06 TIMER: Check tournament...
04.11 06:11:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:15' OR rounddate = '2016-04-11 06:15' AND status <> 'finished'
04.11 06:11:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.3062887' AND avaliable = true AND finished <> true
04.11 06:11:06 TIMER: Check tournament: 1ms
04.11 06:15:11 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:15:11 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:15:11 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }, { id => 49 }, { id => 32 }, { id => 33 }, { id => 35 }, { id => 50 }}, errorCode => ok, _type => core/server.query }
04.11 06:15:11 TIME: core/server.query : 1.2 ms
04.11 06:15:11 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 50, _type => vdl/cache.battle.infoRoom }
04.11 06:15:11 STATS: cache [battle], get [81 calls, 58 cache hits, 22 cache misses, 0 same version, 2 not found]
04.11 06:15:11 STATS: cache [battle], segments [109 calls, 86 hits, 22 misses]
04.11 06:15:11 STATS: cache [battle], database [8705 calls, 22 reads, 19 writes]
04.11 06:15:11 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:15:11 READDB: SELECT * FROM Battle WHERE ID = 50
04.11 06:15:11 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 116 }
04.11 06:15:11 TIME: vdl/cache.battle.infoRoom : 2.62 ms
04.11 06:15:11 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 50, _type => vdl/cache.battle.deleteRoom }
04.11 06:15:11 ROOM: deleted room 50
04.11 06:15:11 DB: DELETE FROM Battle WHERE ID = 50
04.11 06:15:11 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:15:11 TIME: vdl/cache.battle.deleteRoom : 18.58 ms
04.11 06:15:11 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 50, _type => vdl/cache.battle.finishRoom }
04.11 06:15:11 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:15:11 TIME: vdl/cache.battle.finishRoom : 0.21 ms
04.11 06:15:11 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:15:11 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:15:11 TIME: core/user.sendTo : 0.13 ms
04.11 06:15:11 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:15:11 STATS: cache [user], get [13 calls, 3 cache hits, 10 cache misses, 0 same version, 0 not found]
04.11 06:15:11 STATS: cache [user], segments [54 calls, 32 hits, 19 misses]
04.11 06:15:11 STATS: cache [user], database [8705 calls, 10 reads, 16 writes]
04.11 06:15:11 STATS: cache [user], lock [11 calls, 11 attempts, 0 failures]
04.11 06:15:11 STATS: cache manager [1], get [21 calls, total 0.04 sec spent, avg 1.7 ms]
04.11 06:15:11 STATS: cache manager [1], update [29 calls, total 0 sec spent, avg 0.14 ms]
04.11 06:15:11 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
04.11 06:15:11 TIME: core/cache.update : 0.61 ms
04.11 06:15:11 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:15:11 STATS: cache [questdata], get [10 calls, 1 cache hits, 9 cache misses, 0 same version, 0 not found]
04.11 06:15:11 STATS: cache [questdata], segments [40 calls, 21 hits, 18 misses]
04.11 06:15:11 STATS: cache [questdata], database [8705 calls, 9 reads, 9 writes]
04.11 06:15:11 STATS: cache [questdata], lock [10 calls, 10 attempts, 0 failures]
04.11 06:15:11 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:15:11 TIME: core/cache.update : 0.67 ms
04.11 06:15:11 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:15:11 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:15:11 TIME: core/user.logoutPost : 0.22 ms
04.11 06:15:12 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:15:12 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:15:17 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'116', finished = E'true', endtime = E'1481820', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 50
04.11 06:15:22 BLOCKREMOVE: user 107 removed
04.11 06:15:22 BLOCKREMOVE: questdata 107 removed
04.11 06:15:27 BLOCKREMOVE: battle 50 removed
04.11 06:16:06 TIMER: Clans cache...
04.11 06:16:06 TIMER: Clans cache: 0ms
04.11 06:16:06 TIMER: Check tournament...
04.11 06:16:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:16' OR rounddate = '2016-04-11 06:16' AND status <> 'finished'
04.11 06:16:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.36629842' AND avaliable = true AND finished <> true
04.11 06:16:06 TIMER: Check tournament: 1ms
04.11 06:16:06 TIMER: Clans cache...
04.11 06:16:06 TIMER: Clans cache: 0ms
04.11 06:16:06 TIMER: Check tournament...
04.11 06:16:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:17' OR rounddate = '2016-04-11 06:17' AND status <> 'finished'
04.11 06:16:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.42630884' AND avaliable = true AND finished <> true
04.11 06:16:06 TIMER: Check tournament: 1ms
04.11 06:16:06 TIMER: Clans cache...
04.11 06:16:06 TIMER: Clans cache: 0ms
04.11 06:16:06 TIMER: Check tournament...
04.11 06:16:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:18' OR rounddate = '2016-04-11 06:18' AND status <> 'finished'
04.11 06:16:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.48632193' AND avaliable = true AND finished <> true
04.11 06:16:06 TIMER: Check tournament: 2ms
04.11 06:18:47 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:18:47 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:18:47 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:18:47 TIME: core/server.query : 0.99 ms
04.11 06:18:47 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:18:47 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:18:47 TIME: core/user.isOnlineID : 0.1 ms
04.11 06:18:47 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:18:47 STATS: cache [user], get [13 calls, 3 cache hits, 10 cache misses, 0 same version, 0 not found]
04.11 06:18:47 STATS: cache [user], segments [56 calls, 34 hits, 19 misses]
04.11 06:18:47 STATS: cache [user], database [8920 calls, 10 reads, 17 writes]
04.11 06:18:47 STATS: cache [user], lock [12 calls, 12 attempts, 0 failures]
04.11 06:18:47 READDB: SELECT * FROM Users WHERE ID = 107
04.11 06:18:47 STATS: cache manager [1], get [22 calls, total 0.04 sec spent, avg 1.68 ms]
04.11 06:18:47 STATS: cache manager [1], update [30 calls, total 0 sec spent, avg 0.15 ms]
04.11 06:18:47 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 0, id => 107 } }
04.11 06:18:47 TIME: core/cache.get : 1.6 ms
04.11 06:18:47 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:18:47 STATS: cache [questdata], get [10 calls, 1 cache hits, 9 cache misses, 0 same version, 0 not found]
04.11 06:18:47 STATS: cache [questdata], segments [42 calls, 23 hits, 18 misses]
04.11 06:18:47 STATS: cache [questdata], database [8920 calls, 9 reads, 10 writes]
04.11 06:18:47 STATS: cache [questdata], lock [11 calls, 11 attempts, 0 failures]
04.11 06:18:47 READDB: SELECT * FROM UserQuests WHERE ID = 107
04.11 06:18:47 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 107 } }
04.11 06:18:47 TIME: core/cache.get : 1.15 ms
04.11 06:18:47 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:18:47 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:18:47 TIME: core/user.loginPost : 0.12 ms
04.11 06:18:55 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:18:55 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:18:55 TIME: core/cache.update : 0.18 ms
04.11 06:18:56 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:19:06 TIMER: Clans cache...
04.11 06:19:06 TIMER: Clans cache: 0ms
04.11 06:19:06 TIMER: Check tournament...
04.11 06:19:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:19' OR rounddate = '2016-04-11 06:19' AND status <> 'finished'
04.11 06:19:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.54633266' AND avaliable = true AND finished <> true
04.11 06:19:06 TIMER: Check tournament: 1ms
04.11 06:20:04 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:20:04 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:20:04 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }, { id => 49 }, { id => 32 }, { id => 33 }, { id => 35 }}, errorCode => ok, _type => core/server.query }
04.11 06:20:04 TIME: core/server.query : 1.19 ms
04.11 06:20:04 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 35, _type => vdl/cache.battle.infoRoom }
04.11 06:20:04 STATS: cache [battle], get [83 calls, 59 cache hits, 23 cache misses, 0 same version, 2 not found]
04.11 06:20:04 STATS: cache [battle], segments [113 calls, 89 hits, 23 misses]
04.11 06:20:04 STATS: cache [battle], database [8998 calls, 23 reads, 20 writes]
04.11 06:20:04 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:20:04 READDB: SELECT * FROM Battle WHERE ID = 35
04.11 06:20:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:20:04 TIME: vdl/cache.battle.infoRoom : 1.45 ms
04.11 06:20:04 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 35, _type => vdl/cache.battle.deleteRoom }
04.11 06:20:04 ROOM: deleted room 35
04.11 06:20:04 DB: DELETE FROM Battle WHERE ID = 35
04.11 06:20:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:20:04 TIME: vdl/cache.battle.deleteRoom : 21.22 ms
04.11 06:20:04 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 35, _type => vdl/cache.battle.finishRoom }
04.11 06:20:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:20:04 TIME: vdl/cache.battle.finishRoom : 0.2 ms
04.11 06:20:04 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:20:04 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:20:04 TIME: core/user.sendTo : 0.09 ms
04.11 06:20:04 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:20:04 STATS: cache [user], get [14 calls, 3 cache hits, 11 cache misses, 0 same version, 0 not found]
04.11 06:20:04 STATS: cache [user], segments [59 calls, 35 hits, 21 misses]
04.11 06:20:04 STATS: cache [user], database [8998 calls, 11 reads, 18 writes]
04.11 06:20:04 STATS: cache [user], lock [12 calls, 12 attempts, 0 failures]
04.11 06:20:04 STATS: cache manager [1], get [23 calls, total 0.04 sec spent, avg 1.65 ms]
04.11 06:20:04 STATS: cache manager [1], update [32 calls, total 0 sec spent, avg 0.15 ms]
04.11 06:20:04 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:20:04 TIME: core/cache.update : 0.59 ms
04.11 06:20:04 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:20:04 STATS: cache [questdata], get [11 calls, 1 cache hits, 10 cache misses, 0 same version, 0 not found]
04.11 06:20:04 STATS: cache [questdata], segments [44 calls, 23 hits, 20 misses]
04.11 06:20:04 STATS: cache [questdata], database [8998 calls, 10 reads, 10 writes]
04.11 06:20:04 STATS: cache [questdata], lock [11 calls, 11 attempts, 0 failures]
04.11 06:20:04 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:20:04 TIME: core/cache.update : 0.4 ms
04.11 06:20:04 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:20:04 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:20:04 TIME: core/user.logoutPost : 0.14 ms
04.11 06:20:05 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:20:05 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:20:06 TIMER: Clans cache...
04.11 06:20:06 TIMER: Clans cache: 0ms
04.11 06:20:06 TIMER: Check tournament...
04.11 06:20:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:20' OR rounddate = '2016-04-11 06:20' AND status <> 'finished'
04.11 06:20:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.60634279' AND avaliable = true AND finished <> true
04.11 06:20:06 TIMER: Check tournament: 1ms
04.11 06:20:10 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 35
04.11 06:20:12 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:20:12 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:20:12 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:20:12 TIME: core/server.query : 1.02 ms
04.11 06:20:12 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:20:12 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:20:12 TIME: core/user.isOnlineID : 0.08 ms
04.11 06:20:12 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:20:12 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 2, id => 107 } }
04.11 06:20:12 TIME: core/cache.get : 0.34 ms
04.11 06:20:12 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:20:12 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 107 } }
04.11 06:20:12 TIME: core/cache.get : 0.19 ms
04.11 06:20:12 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:20:12 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:20:12 TIME: core/user.loginPost : 0.11 ms
04.11 06:20:20 BLOCKREMOVE: battle 35 removed
04.11 06:20:20 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:20:20 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
04.11 06:20:20 TIME: core/cache.update : 0.18 ms
04.11 06:20:21 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:21:06 TIMER: Clans cache...
04.11 06:21:06 TIMER: Clans cache: 0ms
04.11 06:21:06 TIMER: Check tournament...
04.11 06:21:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:21' OR rounddate = '2016-04-11 06:21' AND status <> 'finished'
04.11 06:21:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.6663529' AND avaliable = true AND finished <> true
04.11 06:21:06 TIMER: Check tournament: 1ms
04.11 06:21:06 TIMER: Clans cache...
04.11 06:21:06 TIMER: Clans cache: 0ms
04.11 06:21:06 TIMER: Check tournament...
04.11 06:21:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:22' OR rounddate = '2016-04-11 06:22' AND status <> 'finished'
04.11 06:21:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.72636647' AND avaliable = true AND finished <> true
04.11 06:21:06 TIMER: Check tournament: 1ms
04.11 06:22:09 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:22:09 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:22:09 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }, { id => 49 }, { id => 32 }, { id => 33 }}, errorCode => ok, _type => core/server.query }
04.11 06:22:09 TIME: core/server.query : 1.19 ms
04.11 06:22:09 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 33, _type => vdl/cache.battle.infoRoom }
04.11 06:22:09 STATS: cache [battle], get [85 calls, 60 cache hits, 24 cache misses, 0 same version, 2 not found]
04.11 06:22:09 STATS: cache [battle], segments [117 calls, 92 hits, 24 misses]
04.11 06:22:09 STATS: cache [battle], database [9123 calls, 24 reads, 21 writes]
04.11 06:22:09 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:22:09 READDB: SELECT * FROM Battle WHERE ID = 33
04.11 06:22:09 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:22:09 TIME: vdl/cache.battle.infoRoom : 1.41 ms
04.11 06:22:09 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 33, _type => vdl/cache.battle.deleteRoom }
04.11 06:22:09 ROOM: deleted room 33
04.11 06:22:09 DB: DELETE FROM Battle WHERE ID = 33
04.11 06:22:09 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:22:09 TIME: vdl/cache.battle.deleteRoom : 19.06 ms
04.11 06:22:09 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 33, _type => vdl/cache.battle.finishRoom }
04.11 06:22:09 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:22:09 TIME: vdl/cache.battle.finishRoom : 0.15 ms
04.11 06:22:09 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:22:09 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:22:09 TIME: core/user.sendTo : 0.11 ms
04.11 06:22:09 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:22:09 STATS: cache [user], get [15 calls, 4 cache hits, 11 cache misses, 0 same version, 0 not found]
04.11 06:22:09 STATS: cache [user], segments [64 calls, 40 hits, 21 misses]
04.11 06:22:09 STATS: cache [user], database [9123 calls, 11 reads, 20 writes]
04.11 06:22:09 STATS: cache [user], lock [13 calls, 13 attempts, 0 failures]
04.11 06:22:09 STATS: cache manager [1], get [25 calls, total 0.04 sec spent, avg 1.52 ms]
04.11 06:22:09 STATS: cache manager [1], update [35 calls, total 0.01 sec spent, avg 0.16 ms]
04.11 06:22:09 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 4, _type => core/cache.update }
04.11 06:22:09 TIME: core/cache.update : 0.51 ms
04.11 06:22:09 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:22:09 STATS: cache [questdata], get [12 calls, 2 cache hits, 10 cache misses, 0 same version, 0 not found]
04.11 06:22:09 STATS: cache [questdata], segments [48 calls, 27 hits, 20 misses]
04.11 06:22:09 STATS: cache [questdata], database [9123 calls, 10 reads, 11 writes]
04.11 06:22:09 STATS: cache [questdata], lock [12 calls, 12 attempts, 0 failures]
04.11 06:22:09 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:22:09 TIME: core/cache.update : 0.53 ms
04.11 06:22:09 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:22:09 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:22:09 TIME: core/user.logoutPost : 0.19 ms
04.11 06:22:10 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:22:10 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:22:14 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 33
04.11 06:22:20 BLOCKREMOVE: user 107 removed
04.11 06:22:20 BLOCKREMOVE: questdata 107 removed
04.11 06:22:24 BLOCKREMOVE: battle 33 removed
04.11 06:22:44 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:22:44 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:22:44 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:22:44 TIME: core/server.query : 1.24 ms
04.11 06:22:44 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:22:44 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:22:44 TIME: core/user.isOnlineID : 0.12 ms
04.11 06:22:44 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:22:44 READDB: SELECT * FROM Users WHERE ID = 107
04.11 06:22:44 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 0, id => 107 } }
04.11 06:22:44 TIME: core/cache.get : 1.92 ms
04.11 06:22:44 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:22:44 READDB: SELECT * FROM UserQuests WHERE ID = 107
04.11 06:22:44 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 107 } }
04.11 06:22:44 TIME: core/cache.get : 1.08 ms
04.11 06:22:44 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:22:44 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:22:44 TIME: core/user.loginPost : 0.16 ms
04.11 06:22:50 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:22:50 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:22:50 TIME: core/cache.update : 0.18 ms
04.11 06:22:51 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:23:06 TIMER: Clans cache...
04.11 06:23:06 TIMER: Clans cache: 0ms
04.11 06:23:06 TIMER: Check tournament...
04.11 06:23:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:23' OR rounddate = '2016-04-11 06:23' AND status <> 'finished'
04.11 06:23:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.78637658' AND avaliable = true AND finished <> true
04.11 06:23:06 TIMER: Check tournament: 1ms
04.11 06:23:06 TIMER: Clans cache...
04.11 06:23:06 TIMER: Clans cache: 0ms
04.11 06:23:06 TIMER: Check tournament...
04.11 06:23:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:24' OR rounddate = '2016-04-11 06:24' AND status <> 'finished'
04.11 06:23:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.84638688' AND avaliable = true AND finished <> true
04.11 06:23:06 TIMER: Check tournament: 1ms
04.11 06:24:07 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:24:07 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:24:07 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }, { id => 49 }, { id => 32 }}, errorCode => ok, _type => core/server.query }
04.11 06:24:07 TIME: core/server.query : 1.22 ms
04.11 06:24:07 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 32, _type => vdl/cache.battle.infoRoom }
04.11 06:24:07 STATS: cache [battle], get [87 calls, 61 cache hits, 25 cache misses, 0 same version, 2 not found]
04.11 06:24:07 STATS: cache [battle], segments [121 calls, 95 hits, 25 misses]
04.11 06:24:07 STATS: cache [battle], database [9240 calls, 25 reads, 22 writes]
04.11 06:24:07 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:24:07 READDB: SELECT * FROM Battle WHERE ID = 32
04.11 06:24:07 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:24:07 TIME: vdl/cache.battle.infoRoom : 1.15 ms
04.11 06:24:07 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 32, _type => vdl/cache.battle.deleteRoom }
04.11 06:24:07 ROOM: deleted room 32
04.11 06:24:07 DB: DELETE FROM Battle WHERE ID = 32
04.11 06:24:07 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:24:07 TIME: vdl/cache.battle.deleteRoom : 16.56 ms
04.11 06:24:07 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 32, _type => vdl/cache.battle.finishRoom }
04.11 06:24:07 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:24:07 TIME: vdl/cache.battle.finishRoom : 0.17 ms
04.11 06:24:07 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:24:07 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:24:07 TIME: core/user.sendTo : 0.1 ms
04.11 06:24:07 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:24:07 STATS: cache [user], get [16 calls, 4 cache hits, 12 cache misses, 0 same version, 0 not found]
04.11 06:24:07 STATS: cache [user], segments [69 calls, 43 hits, 23 misses]
04.11 06:24:07 STATS: cache [user], database [9240 calls, 12 reads, 22 writes]
04.11 06:24:07 STATS: cache [user], lock [14 calls, 14 attempts, 0 failures]
04.11 06:24:07 STATS: cache manager [1], get [27 calls, total 0.04 sec spent, avg 1.5 ms]
04.11 06:24:07 STATS: cache manager [1], update [38 calls, total 0.01 sec spent, avg 0.16 ms]
04.11 06:24:07 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:24:07 TIME: core/cache.update : 0.54 ms
04.11 06:24:07 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:24:07 STATS: cache [questdata], get [13 calls, 2 cache hits, 11 cache misses, 0 same version, 0 not found]
04.11 06:24:07 STATS: cache [questdata], segments [52 calls, 29 hits, 22 misses]
04.11 06:24:07 STATS: cache [questdata], database [9240 calls, 11 reads, 12 writes]
04.11 06:24:07 STATS: cache [questdata], lock [13 calls, 13 attempts, 0 failures]
04.11 06:24:07 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:24:07 TIME: core/cache.update : 0.47 ms
04.11 06:24:07 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:24:07 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:24:07 TIME: core/user.logoutPost : 0.11 ms
04.11 06:24:07 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:24:07 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:24:12 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 32
04.11 06:24:16 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:24:16 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:24:16 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:24:16 TIME: core/server.query : 1.33 ms
04.11 06:24:16 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:24:16 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:24:16 TIME: core/user.isOnlineID : 0.11 ms
04.11 06:24:16 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:24:16 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 2, id => 107 } }
04.11 06:24:16 TIME: core/cache.get : 0.37 ms
04.11 06:24:16 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:24:16 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 107 } }
04.11 06:24:16 TIME: core/cache.get : 0.26 ms
04.11 06:24:16 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:24:16 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:24:16 TIME: core/user.loginPost : 0.12 ms
04.11 06:24:22 BLOCKREMOVE: battle 32 removed
04.11 06:24:25 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:24:25 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
04.11 06:24:25 TIME: core/cache.update : 0.17 ms
04.11 06:24:26 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:25:06 TIMER: Clans cache...
04.11 06:25:06 TIMER: Clans cache: 0ms
04.11 06:25:06 TIMER: Check tournament...
04.11 06:25:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:25' OR rounddate = '2016-04-11 06:25' AND status <> 'finished'
04.11 06:25:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.90639915' AND avaliable = true AND finished <> true
04.11 06:25:06 TIMER: Check tournament: 1ms
04.11 06:25:06 TIMER: Clans cache...
04.11 06:25:06 TIMER: Clans cache: 0ms
04.11 06:25:06 TIMER: Check tournament...
04.11 06:25:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:26' OR rounddate = '2016-04-11 06:26' AND status <> 'finished'
04.11 06:25:06 DB: SELECT * FROM battle WHERE endtime >= '1478229.96640952' AND avaliable = true AND finished <> true
04.11 06:25:06 TIMER: Check tournament: 2ms
04.11 06:25:06 TIMER: Clans cache...
04.11 06:25:06 TIMER: Clans cache: 0ms
04.11 06:25:06 TIMER: Check tournament...
04.11 06:25:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:27' OR rounddate = '2016-04-11 06:27' AND status <> 'finished'
04.11 06:25:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.0264203' AND avaliable = true AND finished <> true
04.11 06:25:06 TIMER: Check tournament: 2ms
04.11 06:27:12 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:27:12 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:27:12 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }, { id => 49 }}, errorCode => ok, _type => core/server.query }
04.11 06:27:12 TIME: core/server.query : 1.15 ms
04.11 06:27:12 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 49, _type => vdl/cache.battle.infoRoom }
04.11 06:27:12 STATS: cache [battle], get [89 calls, 62 cache hits, 26 cache misses, 0 same version, 2 not found]
04.11 06:27:12 STATS: cache [battle], segments [125 calls, 98 hits, 26 misses]
04.11 06:27:12 STATS: cache [battle], database [9425 calls, 26 reads, 23 writes]
04.11 06:27:12 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:27:12 READDB: SELECT * FROM Battle WHERE ID = 49
04.11 06:27:12 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:27:12 TIME: vdl/cache.battle.infoRoom : 0.95 ms
04.11 06:27:12 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 49, _type => vdl/cache.battle.deleteRoom }
04.11 06:27:12 ROOM: deleted room 49
04.11 06:27:12 DB: DELETE FROM Battle WHERE ID = 49
04.11 06:27:12 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:27:12 TIME: vdl/cache.battle.deleteRoom : 11.58 ms
04.11 06:27:12 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 49, _type => vdl/cache.battle.finishRoom }
04.11 06:27:12 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:27:12 TIME: vdl/cache.battle.finishRoom : 0.15 ms
04.11 06:27:12 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:27:12 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:27:12 TIME: core/user.sendTo : 0.11 ms
04.11 06:27:12 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:27:12 STATS: cache [user], get [17 calls, 5 cache hits, 12 cache misses, 0 same version, 0 not found]
04.11 06:27:12 STATS: cache [user], segments [74 calls, 48 hits, 23 misses]
04.11 06:27:12 STATS: cache [user], database [9425 calls, 12 reads, 24 writes]
04.11 06:27:12 STATS: cache [user], lock [15 calls, 15 attempts, 0 failures]
04.11 06:27:12 STATS: cache manager [1], get [29 calls, total 0.04 sec spent, avg 1.4 ms]
04.11 06:27:12 STATS: cache manager [1], update [41 calls, total 0.01 sec spent, avg 0.16 ms]
04.11 06:27:12 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 4, _type => core/cache.update }
04.11 06:27:12 TIME: core/cache.update : 0.36 ms
04.11 06:27:12 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:27:12 STATS: cache [questdata], get [14 calls, 3 cache hits, 11 cache misses, 0 same version, 0 not found]
04.11 06:27:12 STATS: cache [questdata], segments [56 calls, 33 hits, 22 misses]
04.11 06:27:12 STATS: cache [questdata], database [9425 calls, 11 reads, 13 writes]
04.11 06:27:12 STATS: cache [questdata], lock [14 calls, 14 attempts, 0 failures]
04.11 06:27:12 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:27:12 TIME: core/cache.update : 0.35 ms
04.11 06:27:12 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:27:12 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:27:12 TIME: core/user.logoutPost : 0.11 ms
04.11 06:27:12 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:27:12 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:27:17 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481820', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 49
04.11 06:27:19 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:27:19 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:27:19 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:27:19 TIME: core/server.query : 1.33 ms
04.11 06:27:19 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:27:19 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:27:19 TIME: core/user.isOnlineID : 0.12 ms
04.11 06:27:19 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:27:19 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 4, id => 107 } }
04.11 06:27:19 TIME: core/cache.get : 0.38 ms
04.11 06:27:19 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:27:19 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 2, id => 107 } }
04.11 06:27:19 TIME: core/cache.get : 0.2 ms
04.11 06:27:19 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:27:19 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:27:19 TIME: core/user.loginPost : 0.12 ms
04.11 06:27:25 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:27:25 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 5, _type => core/cache.update }
04.11 06:27:25 TIME: core/cache.update : 0.13 ms
04.11 06:27:26 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:27:27 BLOCKREMOVE: battle 49 removed
04.11 06:28:06 TIMER: Clans cache...
04.11 06:28:06 TIMER: Clans cache: 0ms
04.11 06:28:06 TIMER: Check tournament...
04.11 06:28:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:28' OR rounddate = '2016-04-11 06:28' AND status <> 'finished'
04.11 06:28:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.08643052' AND avaliable = true AND finished <> true
04.11 06:28:06 TIMER: Check tournament: 1ms
04.11 06:28:06 TIMER: Clans cache...
04.11 06:28:06 TIMER: Clans cache: 0ms
04.11 06:28:06 TIMER: Check tournament...
04.11 06:28:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:29' OR rounddate = '2016-04-11 06:29' AND status <> 'finished'
04.11 06:28:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.14644373' AND avaliable = true AND finished <> true
04.11 06:28:06 TIMER: Check tournament: 2ms
04.11 06:29:58 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:29:58 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:29:58 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }, { id => 30 }}, errorCode => ok, _type => core/server.query }
04.11 06:29:58 TIME: core/server.query : 1.05 ms
04.11 06:29:58 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 30, _type => vdl/cache.battle.infoRoom }
04.11 06:29:58 STATS: cache [battle], get [91 calls, 63 cache hits, 27 cache misses, 0 same version, 2 not found]
04.11 06:29:58 STATS: cache [battle], segments [129 calls, 101 hits, 27 misses]
04.11 06:29:58 STATS: cache [battle], database [9591 calls, 27 reads, 24 writes]
04.11 06:29:58 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:29:58 READDB: SELECT * FROM Battle WHERE ID = 30
04.11 06:29:58 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:29:58 TIME: vdl/cache.battle.infoRoom : 1.22 ms
04.11 06:29:58 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 30, _type => vdl/cache.battle.deleteRoom }
04.11 06:29:58 ROOM: deleted room 30
04.11 06:29:58 DB: DELETE FROM Battle WHERE ID = 30
04.11 06:29:58 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:29:58 TIME: vdl/cache.battle.deleteRoom : 16 ms
04.11 06:29:58 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 30, _type => vdl/cache.battle.finishRoom }
04.11 06:29:58 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:29:58 TIME: vdl/cache.battle.finishRoom : 0.16 ms
04.11 06:29:58 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:29:58 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:29:58 TIME: core/user.sendTo : 0.11 ms
04.11 06:29:58 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:29:58 STATS: cache [user], get [18 calls, 6 cache hits, 12 cache misses, 0 same version, 0 not found]
04.11 06:29:58 STATS: cache [user], segments [79 calls, 53 hits, 23 misses]
04.11 06:29:58 STATS: cache [user], database [9591 calls, 12 reads, 26 writes]
04.11 06:29:58 STATS: cache [user], lock [16 calls, 16 attempts, 0 failures]
04.11 06:29:58 STATS: cache manager [1], get [31 calls, total 0.04 sec spent, avg 1.31 ms]
04.11 06:29:58 STATS: cache manager [1], update [44 calls, total 0.01 sec spent, avg 0.16 ms]
04.11 06:29:58 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 6, _type => core/cache.update }
04.11 06:29:58 TIME: core/cache.update : 0.59 ms
04.11 06:29:58 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:29:58 STATS: cache [questdata], get [15 calls, 4 cache hits, 11 cache misses, 0 same version, 0 not found]
04.11 06:29:58 STATS: cache [questdata], segments [60 calls, 37 hits, 22 misses]
04.11 06:29:58 STATS: cache [questdata], database [9591 calls, 11 reads, 14 writes]
04.11 06:29:58 STATS: cache [questdata], lock [15 calls, 15 attempts, 0 failures]
04.11 06:29:58 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
04.11 06:29:58 TIME: core/cache.update : 0.87 ms
04.11 06:29:58 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:29:58 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:29:58 TIME: core/user.logoutPost : 0.26 ms
04.11 06:29:58 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:29:58 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:30:03 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 30
04.11 06:30:06 TIMER: Clans cache...
04.11 06:30:06 TIMER: Clans cache: 0ms
04.11 06:30:06 TIMER: Check tournament...
04.11 06:30:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:30' OR rounddate = '2016-04-11 06:30' AND status <> 'finished'
04.11 06:30:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.2064547' AND avaliable = true AND finished <> true
04.11 06:30:06 TIMER: Check tournament: 2ms
04.11 06:30:08 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:30:08 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:30:08 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:30:08 TIME: core/server.query : 1.35 ms
04.11 06:30:08 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:30:08 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:30:08 TIME: core/user.isOnlineID : 0.11 ms
04.11 06:30:08 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:30:08 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 6, id => 107 } }
04.11 06:30:08 TIME: core/cache.get : 0.39 ms
04.11 06:30:08 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:30:08 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 3, id => 107 } }
04.11 06:30:08 TIME: core/cache.get : 0.25 ms
04.11 06:30:08 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:30:08 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:30:08 TIME: core/user.loginPost : 0.12 ms
04.11 06:30:13 BLOCKREMOVE: battle 30 removed
04.11 06:30:15 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:30:15 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 7, _type => core/cache.update }
04.11 06:30:15 TIME: core/cache.update : 0.19 ms
04.11 06:30:16 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:31:01 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:31:01 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:31:01 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }, { id => 29 }}, errorCode => ok, _type => core/server.query }
04.11 06:31:01 TIME: core/server.query : 0.97 ms
04.11 06:31:01 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 29, _type => vdl/cache.battle.infoRoom }
04.11 06:31:01 STATS: cache [battle], get [93 calls, 64 cache hits, 28 cache misses, 0 same version, 2 not found]
04.11 06:31:01 STATS: cache [battle], segments [133 calls, 104 hits, 28 misses]
04.11 06:31:01 STATS: cache [battle], database [9654 calls, 28 reads, 25 writes]
04.11 06:31:01 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:31:01 READDB: SELECT * FROM Battle WHERE ID = 29
04.11 06:31:01 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 107, firstId => 116, _type => vdl/cache.battle.infoRoom, turnId => 116 }
04.11 06:31:01 TIME: vdl/cache.battle.infoRoom : 1.68 ms
04.11 06:31:01 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 29, _type => vdl/cache.battle.deleteRoom }
04.11 06:31:01 ROOM: deleted room 29
04.11 06:31:01 DB: DELETE FROM Battle WHERE ID = 29
04.11 06:31:01 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:31:01 TIME: vdl/cache.battle.deleteRoom : 14.86 ms
04.11 06:31:01 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 29, _type => vdl/cache.battle.finishRoom }
04.11 06:31:01 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:31:01 TIME: vdl/cache.battle.finishRoom : 0.17 ms
04.11 06:31:01 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:31:01 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:31:01 TIME: core/user.sendTo : 0.12 ms
04.11 06:31:01 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:31:01 STATS: cache [user], get [19 calls, 7 cache hits, 12 cache misses, 0 same version, 0 not found]
04.11 06:31:01 STATS: cache [user], segments [84 calls, 58 hits, 23 misses]
04.11 06:31:01 STATS: cache [user], database [9654 calls, 12 reads, 28 writes]
04.11 06:31:01 STATS: cache [user], lock [17 calls, 17 attempts, 0 failures]
04.11 06:31:01 STATS: cache manager [1], get [33 calls, total 0.04 sec spent, avg 1.24 ms]
04.11 06:31:01 STATS: cache manager [1], update [47 calls, total 0.01 sec spent, avg 0.17 ms]
04.11 06:31:01 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 8, _type => core/cache.update }
04.11 06:31:01 TIME: core/cache.update : 0.55 ms
04.11 06:31:01 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:31:01 STATS: cache [questdata], get [16 calls, 5 cache hits, 11 cache misses, 0 same version, 0 not found]
04.11 06:31:01 STATS: cache [questdata], segments [64 calls, 41 hits, 22 misses]
04.11 06:31:01 STATS: cache [questdata], database [9654 calls, 11 reads, 15 writes]
04.11 06:31:01 STATS: cache [questdata], lock [16 calls, 16 attempts, 0 failures]
04.11 06:31:01 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 4, _type => core/cache.update }
04.11 06:31:01 TIME: core/cache.update : 0.41 ms
04.11 06:31:01 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:31:01 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:31:01 TIME: core/user.logoutPost : 0.21 ms
04.11 06:31:01 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:31:01 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:31:06 TIMER: Clans cache...
04.11 06:31:06 TIMER: Clans cache: 0ms
04.11 06:31:06 TIMER: Check tournament...
04.11 06:31:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:31' OR rounddate = '2016-04-11 06:31' AND status <> 'finished'
04.11 06:31:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.2664651' AND avaliable = true AND finished <> true
04.11 06:31:06 TIMER: Check tournament: 2ms
04.11 06:31:06 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'107', turnid = E'116', finished = E'true', endtime = E'1481810', firstid = E'116', params = E'{}', avaliable = E'false' WHERE ID = 29
04.11 06:31:11 BLOCKREMOVE: user 107 removed
04.11 06:31:11 BLOCKREMOVE: questdata 107 removed
04.11 06:31:15 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:31:15 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:31:15 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:31:15 TIME: core/server.query : 1.27 ms
04.11 06:31:15 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:31:15 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:31:15 TIME: core/user.isOnlineID : 0.12 ms
04.11 06:31:15 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:31:15 READDB: SELECT * FROM Users WHERE ID = 107
04.11 06:31:15 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 0, id => 107 } }
04.11 06:31:15 TIME: core/cache.get : 2.54 ms
04.11 06:31:15 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:31:15 READDB: SELECT * FROM UserQuests WHERE ID = 107
04.11 06:31:15 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 107 } }
04.11 06:31:15 TIME: core/cache.get : 1.13 ms
04.11 06:31:15 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:31:15 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:31:15 TIME: core/user.loginPost : 0.12 ms
04.11 06:31:16 BLOCKREMOVE: battle 29 removed
04.11 06:31:20 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:31:20 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:31:20 TIME: core/cache.update : 0.13 ms
04.11 06:31:21 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:32:06 TIMER: Clans cache...
04.11 06:32:06 TIMER: Clans cache: 0ms
04.11 06:32:06 TIMER: Check tournament...
04.11 06:32:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:32' OR rounddate = '2016-04-11 06:32' AND status <> 'finished'
04.11 06:32:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.32647883' AND avaliable = true AND finished <> true
04.11 06:32:06 TIMER: Check tournament: 2ms
04.11 06:32:18 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:32:18 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:32:18 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }, { id => 28 }}, errorCode => ok, _type => core/server.query }
04.11 06:32:18 TIME: core/server.query : 1.05 ms
04.11 06:32:18 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 28, _type => vdl/cache.battle.infoRoom }
04.11 06:32:18 STATS: cache [battle], get [95 calls, 65 cache hits, 29 cache misses, 0 same version, 2 not found]
04.11 06:32:18 STATS: cache [battle], segments [137 calls, 107 hits, 29 misses]
04.11 06:32:18 STATS: cache [battle], database [9732 calls, 29 reads, 26 writes]
04.11 06:32:18 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:32:18 READDB: SELECT * FROM Battle WHERE ID = 28
04.11 06:32:18 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:32:18 TIME: vdl/cache.battle.infoRoom : 1.3 ms
04.11 06:32:18 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 28, _type => vdl/cache.battle.deleteRoom }
04.11 06:32:18 ROOM: deleted room 28
04.11 06:32:18 DB: DELETE FROM Battle WHERE ID = 28
04.11 06:32:18 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:32:18 TIME: vdl/cache.battle.deleteRoom : 15.76 ms
04.11 06:32:18 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 28, _type => vdl/cache.battle.finishRoom }
04.11 06:32:18 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:32:18 TIME: vdl/cache.battle.finishRoom : 0.14 ms
04.11 06:32:18 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:32:18 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:32:18 TIME: core/user.sendTo : 0.11 ms
04.11 06:32:18 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:32:18 STATS: cache [user], get [20 calls, 7 cache hits, 13 cache misses, 0 same version, 0 not found]
04.11 06:32:18 STATS: cache [user], segments [89 calls, 61 hits, 25 misses]
04.11 06:32:18 STATS: cache [user], database [9732 calls, 13 reads, 30 writes]
04.11 06:32:18 STATS: cache [user], lock [18 calls, 18 attempts, 0 failures]
04.11 06:32:18 STATS: cache manager [1], get [35 calls, total 0.04 sec spent, avg 1.26 ms]
04.11 06:32:18 STATS: cache manager [1], update [50 calls, total 0.01 sec spent, avg 0.17 ms]
04.11 06:32:18 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:32:18 TIME: core/cache.update : 0.56 ms
04.11 06:32:18 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:32:18 STATS: cache [questdata], get [17 calls, 5 cache hits, 12 cache misses, 0 same version, 0 not found]
04.11 06:32:18 STATS: cache [questdata], segments [68 calls, 43 hits, 24 misses]
04.11 06:32:18 STATS: cache [questdata], database [9732 calls, 12 reads, 16 writes]
04.11 06:32:18 STATS: cache [questdata], lock [17 calls, 17 attempts, 0 failures]
04.11 06:32:18 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:32:18 TIME: core/cache.update : 0.62 ms
04.11 06:32:18 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:32:18 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:32:18 TIME: core/user.logoutPost : 0.2 ms
04.11 06:32:19 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:32:19 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:32:24 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 28
04.11 06:32:29 BLOCKREMOVE: user 107 removed
04.11 06:32:29 BLOCKREMOVE: questdata 107 removed
04.11 06:32:34 BLOCKREMOVE: battle 28 removed
04.11 06:33:03 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:33:03 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:33:03 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:33:03 TIME: core/server.query : 1.33 ms
04.11 06:33:03 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:33:03 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:33:03 TIME: core/user.isOnlineID : 0.16 ms
04.11 06:33:03 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:33:03 READDB: SELECT * FROM Users WHERE ID = 107
04.11 06:33:03 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 0, id => 107 } }
04.11 06:33:03 TIME: core/cache.get : 1.91 ms
04.11 06:33:03 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:33:03 READDB: SELECT * FROM UserQuests WHERE ID = 107
04.11 06:33:03 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 107 } }
04.11 06:33:03 TIME: core/cache.get : 1.24 ms
04.11 06:33:03 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:33:03 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:33:03 TIME: core/user.loginPost : 0.13 ms
04.11 06:33:06 TIMER: Clans cache...
04.11 06:33:06 TIMER: Clans cache: 0ms
04.11 06:33:06 TIMER: Check tournament...
04.11 06:33:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:33' OR rounddate = '2016-04-11 06:33' AND status <> 'finished'
04.11 06:33:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.38648914' AND avaliable = true AND finished <> true
04.11 06:33:06 TIMER: Check tournament: 2ms
04.11 06:33:10 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:33:10 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:33:10 TIME: core/cache.update : 0.19 ms
04.11 06:33:11 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:34:06 TIMER: Clans cache...
04.11 06:34:06 TIMER: Clans cache: 0ms
04.11 06:34:06 TIMER: Check tournament...
04.11 06:34:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:34' OR rounddate = '2016-04-11 06:34' AND status <> 'finished'
04.11 06:34:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.44649997' AND avaliable = true AND finished <> true
04.11 06:34:06 TIMER: Check tournament: 1ms
04.11 06:35:04 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:35:04 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:35:04 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }, { id => 27 }}, errorCode => ok, _type => core/server.query }
04.11 06:35:04 TIME: core/server.query : 2.09 ms
04.11 06:35:04 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
04.11 06:35:04 STATS: cache [battle], get [97 calls, 66 cache hits, 30 cache misses, 0 same version, 2 not found]
04.11 06:35:04 STATS: cache [battle], segments [141 calls, 110 hits, 30 misses]
04.11 06:35:04 STATS: cache [battle], database [9897 calls, 30 reads, 27 writes]
04.11 06:35:04 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:35:04 READDB: SELECT * FROM Battle WHERE ID = 27
04.11 06:35:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:35:04 TIME: vdl/cache.battle.infoRoom : 2.05 ms
04.11 06:35:04 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 27, _type => vdl/cache.battle.deleteRoom }
04.11 06:35:04 ROOM: deleted room 27
04.11 06:35:04 DB: DELETE FROM Battle WHERE ID = 27
04.11 06:35:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:35:04 TIME: vdl/cache.battle.deleteRoom : 20.78 ms
04.11 06:35:04 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 27, _type => vdl/cache.battle.finishRoom }
04.11 06:35:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:35:04 TIME: vdl/cache.battle.finishRoom : 0.2 ms
04.11 06:35:04 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:35:04 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:35:04 TIME: core/user.sendTo : 0.14 ms
04.11 06:35:04 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:35:04 STATS: cache [user], get [21 calls, 7 cache hits, 14 cache misses, 0 same version, 0 not found]
04.11 06:35:04 STATS: cache [user], segments [94 calls, 64 hits, 27 misses]
04.11 06:35:04 STATS: cache [user], database [9897 calls, 14 reads, 32 writes]
04.11 06:35:04 STATS: cache [user], lock [19 calls, 19 attempts, 0 failures]
04.11 06:35:04 STATS: cache manager [1], get [37 calls, total 0.05 sec spent, avg 1.26 ms]
04.11 06:35:04 STATS: cache manager [1], update [53 calls, total 0.01 sec spent, avg 0.18 ms]
04.11 06:35:04 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:35:04 TIME: core/cache.update : 0.58 ms
04.11 06:35:04 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:35:04 STATS: cache [questdata], get [18 calls, 5 cache hits, 13 cache misses, 0 same version, 0 not found]
04.11 06:35:04 STATS: cache [questdata], segments [72 calls, 45 hits, 26 misses]
04.11 06:35:04 STATS: cache [questdata], database [9897 calls, 13 reads, 17 writes]
04.11 06:35:04 STATS: cache [questdata], lock [18 calls, 18 attempts, 0 failures]
04.11 06:35:04 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:35:04 TIME: core/cache.update : 0.49 ms
04.11 06:35:04 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:35:04 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:35:04 TIME: core/user.logoutPost : 0.17 ms
04.11 06:35:04 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:35:04 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:35:06 TIMER: Clans cache...
04.11 06:35:06 TIMER: Clans cache: 0ms
04.11 06:35:06 TIMER: Check tournament...
04.11 06:35:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:35' OR rounddate = '2016-04-11 06:35' AND status <> 'finished'
04.11 06:35:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.50651345' AND avaliable = true AND finished <> true
04.11 06:35:06 TIMER: Check tournament: 1ms
04.11 06:35:09 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 27
04.11 06:35:14 BLOCKREMOVE: user 107 removed
04.11 06:35:14 BLOCKREMOVE: questdata 107 removed
04.11 06:35:19 BLOCKREMOVE: battle 27 removed
04.11 06:36:06 TIMER: Clans cache...
04.11 06:36:06 TIMER: Clans cache: 0ms
04.11 06:36:06 TIMER: Check tournament...
04.11 06:36:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:36' OR rounddate = '2016-04-11 06:36' AND status <> 'finished'
04.11 06:36:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.5665264' AND avaliable = true AND finished <> true
04.11 06:36:06 TIMER: Check tournament: 1ms
04.11 06:36:06 TIMER: Clans cache...
04.11 06:36:06 TIMER: Clans cache: 0ms
04.11 06:36:06 TIMER: Check tournament...
04.11 06:36:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:37' OR rounddate = '2016-04-11 06:37' AND status <> 'finished'
04.11 06:36:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.62653693' AND avaliable = true AND finished <> true
04.11 06:36:06 TIMER: Check tournament: 1ms
04.11 06:36:06 TIMER: Clans cache...
04.11 06:36:06 TIMER: Clans cache: 0ms
04.11 06:36:06 TIMER: Check tournament...
04.11 06:36:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:38' OR rounddate = '2016-04-11 06:38' AND status <> 'finished'
04.11 06:36:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.68654691' AND avaliable = true AND finished <> true
04.11 06:36:06 TIMER: Check tournament: 1ms
04.11 06:38:53 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:38:53 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:38:53 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:38:53 TIME: core/server.query : 1.26 ms
04.11 06:38:53 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:38:53 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:38:53 TIME: core/user.isOnlineID : 0.12 ms
04.11 06:38:53 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:38:53 STATS: cache [user], get [21 calls, 7 cache hits, 14 cache misses, 0 same version, 0 not found]
04.11 06:38:53 STATS: cache [user], segments [96 calls, 66 hits, 27 misses]
04.11 06:38:53 STATS: cache [user], database [10126 calls, 14 reads, 33 writes]
04.11 06:38:53 STATS: cache [user], lock [20 calls, 20 attempts, 0 failures]
04.11 06:38:53 READDB: SELECT * FROM Users WHERE ID = 107
04.11 06:38:53 STATS: cache manager [1], get [38 calls, total 0.05 sec spent, avg 1.27 ms]
04.11 06:38:53 STATS: cache manager [1], update [54 calls, total 0.01 sec spent, avg 0.18 ms]
04.11 06:38:53 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 0, id => 107 } }
04.11 06:38:53 TIME: core/cache.get : 2.17 ms
04.11 06:38:53 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:38:53 STATS: cache [questdata], get [18 calls, 5 cache hits, 13 cache misses, 0 same version, 0 not found]
04.11 06:38:53 STATS: cache [questdata], segments [74 calls, 47 hits, 26 misses]
04.11 06:38:53 STATS: cache [questdata], database [10126 calls, 13 reads, 18 writes]
04.11 06:38:53 STATS: cache [questdata], lock [19 calls, 19 attempts, 0 failures]
04.11 06:38:53 READDB: SELECT * FROM UserQuests WHERE ID = 107
04.11 06:38:53 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 107 } }
04.11 06:38:53 TIME: core/cache.get : 1.38 ms
04.11 06:38:53 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:38:53 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:38:53 TIME: core/user.loginPost : 0.12 ms
04.11 06:39:00 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:39:00 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:39:00 TIME: core/cache.update : 0.19 ms
04.11 06:39:01 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:39:06 TIMER: Clans cache...
04.11 06:39:06 TIMER: Clans cache: 0ms
04.11 06:39:06 TIMER: Check tournament...
04.11 06:39:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:39' OR rounddate = '2016-04-11 06:39' AND status <> 'finished'
04.11 06:39:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.74655718' AND avaliable = true AND finished <> true
04.11 06:39:06 TIMER: Check tournament: 1ms
04.11 06:39:06 TIMER: Clans cache...
04.11 06:39:06 TIMER: Clans cache: 0ms
04.11 06:39:06 TIMER: Check tournament...
04.11 06:39:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:40' OR rounddate = '2016-04-11 06:40' AND status <> 'finished'
04.11 06:39:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.80656774' AND avaliable = true AND finished <> true
04.11 06:39:06 TIMER: Check tournament: 1ms
04.11 06:40:54 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:40:54 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:40:54 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }, { id => 18 }}, errorCode => ok, _type => core/server.query }
04.11 06:40:54 TIME: core/server.query : 5.67 ms
04.11 06:40:54 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 18, _type => vdl/cache.battle.infoRoom }
04.11 06:40:54 STATS: cache [battle], get [99 calls, 67 cache hits, 31 cache misses, 0 same version, 2 not found]
04.11 06:40:54 STATS: cache [battle], segments [145 calls, 113 hits, 31 misses]
04.11 06:40:54 STATS: cache [battle], database [10247 calls, 31 reads, 28 writes]
04.11 06:40:54 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:40:54 READDB: SELECT * FROM Battle WHERE ID = 18
04.11 06:40:54 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:40:54 TIME: vdl/cache.battle.infoRoom : 1.59 ms
04.11 06:40:54 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 18, _type => vdl/cache.battle.deleteRoom }
04.11 06:40:54 ROOM: deleted room 18
04.11 06:40:54 DB: DELETE FROM Battle WHERE ID = 18
04.11 06:40:54 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:40:54 TIME: vdl/cache.battle.deleteRoom : 21.92 ms
04.11 06:40:54 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 18, _type => vdl/cache.battle.finishRoom }
04.11 06:40:54 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:40:54 TIME: vdl/cache.battle.finishRoom : 0.21 ms
04.11 06:40:54 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:40:54 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:40:54 TIME: core/user.sendTo : 0.14 ms
04.11 06:40:54 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:40:54 STATS: cache [user], get [22 calls, 7 cache hits, 15 cache misses, 0 same version, 0 not found]
04.11 06:40:54 STATS: cache [user], segments [99 calls, 67 hits, 29 misses]
04.11 06:40:54 STATS: cache [user], database [10247 calls, 15 reads, 34 writes]
04.11 06:40:54 STATS: cache [user], lock [20 calls, 20 attempts, 0 failures]
04.11 06:40:54 STATS: cache manager [1], get [39 calls, total 0.05 sec spent, avg 1.27 ms]
04.11 06:40:54 STATS: cache manager [1], update [56 calls, total 0.01 sec spent, avg 0.18 ms]
04.11 06:40:54 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:40:54 TIME: core/cache.update : 0.61 ms
04.11 06:40:54 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:40:54 STATS: cache [questdata], get [19 calls, 5 cache hits, 14 cache misses, 0 same version, 0 not found]
04.11 06:40:54 STATS: cache [questdata], segments [76 calls, 47 hits, 28 misses]
04.11 06:40:54 STATS: cache [questdata], database [10247 calls, 14 reads, 18 writes]
04.11 06:40:54 STATS: cache [questdata], lock [19 calls, 19 attempts, 0 failures]
04.11 06:40:54 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
04.11 06:40:54 TIME: core/cache.update : 0.43 ms
04.11 06:40:54 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:40:54 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:40:54 TIME: core/user.logoutPost : 0.23 ms
04.11 06:40:54 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:40:55 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:41:00 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481800', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 18
04.11 06:41:02 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:41:02 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:41:02 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:41:02 TIME: core/server.query : 1.3 ms
04.11 06:41:02 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:41:02 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:41:02 TIME: core/user.isOnlineID : 0.1 ms
04.11 06:41:02 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:41:02 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 2, id => 107 } }
04.11 06:41:02 TIME: core/cache.get : 0.36 ms
04.11 06:41:02 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:41:02 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 107 } }
04.11 06:41:02 TIME: core/cache.get : 0.15 ms
04.11 06:41:02 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:41:02 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:41:02 TIME: core/user.loginPost : 0.12 ms
04.11 06:41:06 TIMER: Clans cache...
04.11 06:41:06 TIMER: Clans cache: 0ms
04.11 06:41:06 TIMER: Check tournament...
04.11 06:41:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:41' OR rounddate = '2016-04-11 06:41' AND status <> 'finished'
04.11 06:41:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.866581' AND avaliable = true AND finished <> true
04.11 06:41:06 TIMER: Check tournament: 1ms
04.11 06:41:10 BLOCKREMOVE: battle 18 removed
04.11 06:41:11 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:41:11 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
04.11 06:41:11 TIME: core/cache.update : 0.18 ms
04.11 06:41:11 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:41:46 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:41:46 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:41:46 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }, { id => 21 }}, errorCode => ok, _type => core/server.query }
04.11 06:41:46 TIME: core/server.query : 1.03 ms
04.11 06:41:46 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 21, _type => vdl/cache.battle.infoRoom }
04.11 06:41:46 READDB: SELECT * FROM Battle WHERE ID = 21
04.11 06:41:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:41:46 TIME: vdl/cache.battle.infoRoom : 1.12 ms
04.11 06:41:46 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 21, _type => vdl/cache.battle.deleteRoom }
04.11 06:41:46 ROOM: deleted room 21
04.11 06:41:46 DB: DELETE FROM Battle WHERE ID = 21
04.11 06:41:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:41:46 TIME: vdl/cache.battle.deleteRoom : 24.51 ms
04.11 06:41:46 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 21, _type => vdl/cache.battle.finishRoom }
04.11 06:41:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:41:46 TIME: vdl/cache.battle.finishRoom : 0.17 ms
04.11 06:41:46 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:41:46 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:41:46 TIME: core/user.sendTo : 0.13 ms
04.11 06:41:46 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:41:46 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 4, _type => core/cache.update }
04.11 06:41:46 TIME: core/cache.update : 0.17 ms
04.11 06:41:46 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:41:46 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
04.11 06:41:46 TIME: core/cache.update : 0.16 ms
04.11 06:41:46 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:41:46 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:41:46 TIME: core/user.logoutPost : 0.12 ms
04.11 06:41:46 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:41:46 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:41:51 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 21
04.11 06:41:55 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107', _type => core/server.query }
04.11 06:41:55 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid107' AND Password = E'uid107'
04.11 06:41:55 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid107, networkid => , isbanned => false, id => 107 }}, errorCode => ok, _type => core/server.query }
04.11 06:41:55 TIME: core/server.query : 1.02 ms
04.11 06:41:55 NET: vdl.0 (thread) request core/user.isOnlineID { id => 107, _type => core/user.isOnlineID }
04.11 06:41:55 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
04.11 06:41:55 TIME: core/user.isOnlineID : 0.06 ms
04.11 06:41:55 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 107, _type => core/cache.get }
04.11 06:41:55 STATS: cache [user], get [23 calls, 8 cache hits, 15 cache misses, 0 same version, 0 not found]
04.11 06:41:55 STATS: cache [user], segments [106 calls, 74 hits, 29 misses]
04.11 06:41:55 STATS: cache [user], database [10307 calls, 15 reads, 37 writes]
04.11 06:41:55 STATS: cache [user], lock [22 calls, 22 attempts, 0 failures]
04.11 06:41:55 STATS: cache manager [1], get [42 calls, total 0.05 sec spent, avg 1.19 ms]
04.11 06:41:55 STATS: cache manager [1], update [60 calls, total 0.01 sec spent, avg 0.17 ms]
04.11 06:41:55 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid107, deleted => false, email => , networktype =>   , password => uid107, isbanned => false, regdate => 2016-10-28 16:37:18.693533+03, language => en, networkid => , params => { info => { city => null, year => null, email => null }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1478178267, lastLoginDate => 309, lastLoadDate => 1105 }, effects => { list => [] } }}, version => 4, id => 107 } }
04.11 06:41:55 TIME: core/cache.get : 0.4 ms
04.11 06:41:55 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 107, _type => core/cache.get }
04.11 06:41:55 STATS: cache [questdata], get [20 calls, 6 cache hits, 14 cache misses, 0 same version, 0 not found]
04.11 06:41:55 STATS: cache [questdata], segments [82 calls, 53 hits, 28 misses]
04.11 06:41:55 STATS: cache [questdata], database [10307 calls, 14 reads, 20 writes]
04.11 06:41:55 STATS: cache [questdata], lock [21 calls, 21 attempts, 0 failures]
04.11 06:41:55 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 2, id => 107 } }
04.11 06:41:55 TIME: core/cache.get : 0.23 ms
04.11 06:41:55 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 107, _type => core/user.loginPost, ipAddr => 172.16.10.1 }
04.11 06:41:55 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
04.11 06:41:55 TIME: core/user.loginPost : 0.06 ms
04.11 06:42:01 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 107, _type => core/cache.update }
04.11 06:42:01 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 5, _type => core/cache.update }
04.11 06:42:01 TIME: core/cache.update : 0.19 ms
04.11 06:42:01 BLOCKREMOVE: battle 21 removed
04.11 06:42:01 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:42:06 TIMER: Clans cache...
04.11 06:42:06 TIMER: Clans cache: 0ms
04.11 06:42:06 TIMER: Check tournament...
04.11 06:42:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:42' OR rounddate = '2016-04-11 06:42' AND status <> 'finished'
04.11 06:42:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.9265913' AND avaliable = true AND finished <> true
04.11 06:42:06 TIMER: Check tournament: 1ms
04.11 06:42:06 TIMER: Clans cache...
04.11 06:42:06 TIMER: Clans cache: 0ms
04.11 06:42:06 TIMER: Check tournament...
04.11 06:42:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:43' OR rounddate = '2016-04-11 06:43' AND status <> 'finished'
04.11 06:42:06 DB: SELECT * FROM battle WHERE endtime >= '1478230.98660133' AND avaliable = true AND finished <> true
04.11 06:42:06 TIMER: Check tournament: 2ms
04.11 06:42:06 TIMER: Clans cache...
04.11 06:42:06 TIMER: Clans cache: 0ms
04.11 06:42:06 TIMER: Check tournament...
04.11 06:42:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:44' OR rounddate = '2016-04-11 06:44' AND status <> 'finished'
04.11 06:42:06 DB: SELECT * FROM battle WHERE endtime >= '1478231.04661635' AND avaliable = true AND finished <> true
04.11 06:42:06 TIMER: Check tournament: 1ms
04.11 06:45:05 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true, _type => core/server.query }
04.11 06:45:05 DB: SELECT id FROM battle WHERE firstid=107 OR secondid=107 AND finished <> true
04.11 06:45:05 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 25 }, { id => 23 }, { id => 26 }}, errorCode => ok, _type => core/server.query }
04.11 06:45:05 TIME: core/server.query : 1.25 ms
04.11 06:45:05 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 26, _type => vdl/cache.battle.infoRoom }
04.11 06:45:05 STATS: cache [battle], get [103 calls, 69 cache hits, 33 cache misses, 0 same version, 2 not found]
04.11 06:45:05 STATS: cache [battle], segments [153 calls, 119 hits, 33 misses]
04.11 06:45:05 STATS: cache [battle], database [10498 calls, 33 reads, 30 writes]
04.11 06:45:05 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
04.11 06:45:05 READDB: SELECT * FROM Battle WHERE ID = 26
04.11 06:45:05 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 116, firstId => 107, _type => vdl/cache.battle.infoRoom, turnId => 107 }
04.11 06:45:05 TIME: vdl/cache.battle.infoRoom : 1.42 ms
04.11 06:45:05 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 26, _type => vdl/cache.battle.deleteRoom }
04.11 06:45:05 ROOM: deleted room 26
04.11 06:45:05 DB: DELETE FROM Battle WHERE ID = 26
04.11 06:45:05 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
04.11 06:45:05 TIME: vdl/cache.battle.deleteRoom : 24.29 ms
04.11 06:45:05 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 26, _type => vdl/cache.battle.finishRoom }
04.11 06:45:05 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
04.11 06:45:05 TIME: vdl/cache.battle.finishRoom : 0.15 ms
04.11 06:45:05 NET: vdl.0 (thread) request core/user.sendTo { id => 116, _type => core/user.sendTo, msg => { _type => battle.leave } }
04.11 06:45:05 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
04.11 06:45:05 TIME: core/user.sendTo : 0.1 ms
04.11 06:45:05 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 107, _type => core/cache.update }
04.11 06:45:05 STATS: cache [user], get [24 calls, 9 cache hits, 15 cache misses, 0 same version, 0 not found]
04.11 06:45:05 STATS: cache [user], segments [109 calls, 77 hits, 29 misses]
04.11 06:45:05 STATS: cache [user], database [10498 calls, 15 reads, 38 writes]
04.11 06:45:05 STATS: cache [user], lock [22 calls, 22 attempts, 0 failures]
04.11 06:45:05 STATS: cache manager [1], get [43 calls, total 0.05 sec spent, avg 1.16 ms]
04.11 06:45:05 STATS: cache manager [1], update [62 calls, total 0.01 sec spent, avg 0.18 ms]
04.11 06:45:05 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 6, _type => core/cache.update }
04.11 06:45:05 TIME: core/cache.update : 0.68 ms
04.11 06:45:05 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 107, _type => core/cache.update }
04.11 06:45:05 STATS: cache [questdata], get [21 calls, 7 cache hits, 14 cache misses, 0 same version, 0 not found]
04.11 06:45:05 STATS: cache [questdata], segments [84 calls, 55 hits, 28 misses]
04.11 06:45:05 STATS: cache [questdata], database [10498 calls, 14 reads, 20 writes]
04.11 06:45:05 STATS: cache [questdata], lock [21 calls, 21 attempts, 0 failures]
04.11 06:45:05 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
04.11 06:45:05 TIME: core/cache.update : 0.45 ms
04.11 06:45:05 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 107, _type => core/user.logoutPost }
04.11 06:45:05 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
04.11 06:45:05 TIME: core/user.logoutPost : 0.1 ms
04.11 06:45:06 WRITEDB: UPDATE Users SET name = E'uid107', deleted = E'false', email = E'', networktype = E'  ', password = E'uid107', isbanned = E'false', regdate = E'2016-10-28 16:37:18.693533+03', language = E'en', networkid = E'', params = E'{"info":{"city":null,"year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1478178267,"lastLoginDate":309,"lastLoadDate":1105},"effects":{"list":[]}}' WHERE ID = 107
04.11 06:45:06 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 107
04.11 06:45:06 TIMER: Clans cache...
04.11 06:45:06 TIMER: Clans cache: 0ms
04.11 06:45:06 TIMER: Check tournament...
04.11 06:45:06 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:45' OR rounddate = '2016-04-11 06:45' AND status <> 'finished'
04.11 06:45:06 DB: SELECT * FROM battle WHERE endtime >= '1478231.10662667' AND avaliable = true AND finished <> true
04.11 06:45:06 TIMER: Check tournament: 1ms
04.11 06:45:11 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'116', turnid = E'107', finished = E'true', endtime = E'1481810', firstid = E'107', params = E'{}', avaliable = E'false' WHERE ID = 26
04.11 06:45:16 BLOCKREMOVE: user 107 removed
04.11 06:45:16 BLOCKREMOVE: questdata 107 removed
04.11 06:45:21 BLOCKREMOVE: battle 26 removed
04.11 06:50:24 TIMER: Starting timer...
04.11 06:50:24 DB: SELECT * FROM GameVars
04.11 06:50:24 TIMER: Timer running...
04.11 06:50:24 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd + '1day'::interval) AS TimeEnd FROM CalendarEvents ORDER BY ID
04.11 06:50:24 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
04.11 06:50:24 DB: SELECT * FROM Shops WHERE ID = 1
04.11 06:50:24 TEMP: load ./tmp/quest_daily_ids
04.11 06:50:24 DB: SELECT ID FROM QuestChains WHERE IsEnabled = 't' AND Params LIKE '%"isDaily":true%' ORDER BY ID
04.11 06:50:24 TEMP: save ./tmp/quest_daily_ids
04.11 06:50:24 NET: ??? request core/server.login { host => 172.16.35.23, name => vdl.0, port => 2010, type => game, _type => core/server.login, externalHost => 172.16.35.23, externalPort => 2010 }
04.11 06:50:24 QUEUE: vdl.0 (thread) response server.login
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM LocalizationStrings, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM LocalizationStrings
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 21.87 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM GameVars, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM GameVars
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.37 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestParameterTypes ORDER BY ID, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM QuestParameterTypes ORDER BY ID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 2.42 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestConditionTypes ORDER BY ID, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM QuestConditionTypes ORDER BY ID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.52 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestChains WHERE IsEnabled = 't', _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM QuestChains WHERE IsEnabled = 't'
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.69 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f'), _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f')
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 3.03 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/quest.getDaily { _type => core/quest.getDaily }
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/quest.getDaily
04.11 06:50:24 TIME: core/quest.getDaily : 0.06 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserAttributeTypes, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM UserAttributeTypes
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.21 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserVariableTypes, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM UserVariableTypes
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.15 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID, _type => core/server.query }
04.11 06:50:24 DB: SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 3.13 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM ItemGroups, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM ItemGroups
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 0.96 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Bundles ORDER BY ID, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM Bundles ORDER BY ID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.54 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM BundleItems ORDER BY ID, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM BundleItems ORDER BY ID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.45 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/shop.getList { _type => core/shop.getList }
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/shop.getList
04.11 06:50:24 TIME: core/shop.getList : 0.12 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM EffectAttributeTypes, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM EffectAttributeTypes
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.21 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Effects, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM Effects
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.29 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID, _type => core/server.query }
04.11 06:50:24 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 2.37 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID, _type => core/server.query }
04.11 06:50:24 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 2.45 ms
04.11 06:50:24 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Badges, _type => core/server.query }
04.11 06:50:24 DB: SELECT * FROM Badges
04.11 06:50:24 QUEUE: vdl.0 (thread) response core/server.query
04.11 06:50:24 TIME: core/server.query : 1.42 ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:51' OR rounddate = '2016-04-11 06:51' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.48453435' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 3ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:52' OR rounddate = '2016-04-11 06:52' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.54454753' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 4ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:53' OR rounddate = '2016-04-11 06:53' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.60455916' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:54' OR rounddate = '2016-04-11 06:54' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.66457222' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:55' OR rounddate = '2016-04-11 06:55' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.72458236' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:56' OR rounddate = '2016-04-11 06:56' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.78459385' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 2ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:57' OR rounddate = '2016-04-11 06:57' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.84460459' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:58' OR rounddate = '2016-04-11 06:58' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.90461525' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 06:59' OR rounddate = '2016-04-11 06:59' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478231.96462567' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 PENDING: INSERT INTO LogUserOnlineCount (Date, Min, Max, Avg) VALUES (now(), 0, 0, 0)
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:00' OR rounddate = '2016-04-11 07:00' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.02463591' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:01' OR rounddate = '2016-04-11 07:01' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.08464635' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:02' OR rounddate = '2016-04-11 07:02' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.14465975' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:03' OR rounddate = '2016-04-11 07:03' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.20466963' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:04' OR rounddate = '2016-04-11 07:04' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.26467958' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:05' OR rounddate = '2016-04-11 07:05' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.32468999' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 1ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:06' OR rounddate = '2016-04-11 07:06' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.38470097' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 2ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:07' OR rounddate = '2016-04-11 07:07' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.44471178' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 2ms
04.11 06:50:24 TIMER: Clans cache...
04.11 06:50:24 TIMER: Clans cache: 0ms
04.11 06:50:24 TIMER: Check tournament...
04.11 06:50:24 DB: SELECT * FROM tournament WHERE startdate = '2016-04-11 07:08' OR rounddate = '2016-04-11 07:08' AND status <> 'finished'
04.11 06:50:24 DB: SELECT * FROM battle WHERE endtime >= '1478232.50472312' AND avaliable = true AND finished <> true
04.11 06:50:24 TIMER: Check tournament: 2ms
