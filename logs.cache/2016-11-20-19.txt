20.11 19:00:01 TIMER: Check step...
20.11 19:00:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:01 TIMER: Check step: 1ms
20.11 19:00:06 PENDING: INSERT INTO LogUserOnlineCount (Date, Min, Max, Avg) VALUES (now(), 1, 1, 1)
20.11 19:00:06 TIMER: Clans cache...
20.11 19:00:06 TIMER: Clans cache: 0ms
20.11 19:00:06 TIMER: Check step...
20.11 19:00:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:06 TIMER: Check step: 0ms
20.11 19:00:06 TIMER: Check round...
20.11 19:00:06 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:00' OR rounddate = '2016-20-11 22:00' AND status <> 'finished'
20.11 19:00:06 DB: SELECT * FROM battle WHERE endtime >= '1479657.60625335' AND avaliable = true AND finished <> true
20.11 19:00:06 TIMER: Check round: 1ms
20.11 19:00:11 TIMER: Check step...
20.11 19:00:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:11 TIMER: Check step: 1ms
20.11 19:00:16 TIMER: Check step...
20.11 19:00:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:16 TIMER: Check step: 0ms
20.11 19:00:21 TIMER: Check step...
20.11 19:00:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:21 TIMER: Check step: 0ms
20.11 19:00:26 TIMER: Check step...
20.11 19:00:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:26 TIMER: Check step: 1ms
20.11 19:00:31 TIMER: Check step...
20.11 19:00:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:31 TIMER: Check step: 0ms
20.11 19:00:36 TIMER: Check step...
20.11 19:00:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:36 TIMER: Check step: 0ms
20.11 19:00:41 TIMER: Check step...
20.11 19:00:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:41 TIMER: Check step: 0ms
20.11 19:00:46 TIMER: Check step...
20.11 19:00:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:46 TIMER: Check step: 1ms
20.11 19:00:51 TIMER: Check step...
20.11 19:00:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:51 TIMER: Check step: 1ms
20.11 19:00:56 TIMER: Check step...
20.11 19:00:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:00:56 TIMER: Check step: 0ms
20.11 19:01:01 TIMER: Check step...
20.11 19:01:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:01 TIMER: Check step: 0ms
20.11 19:01:03 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=156 OR secondid=156 AND finished <> true, _type => core/server.query }
20.11 19:01:03 DB: SELECT id FROM battle WHERE firstid=156 OR secondid=156 AND finished <> true
20.11 19:01:03 QUEUE: vdl.0 (thread) response core/server.query { list => {}, errorCode => ok, _type => core/server.query }
20.11 19:01:03 TIME: core/server.query : 0.92 ms
20.11 19:01:03 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 0, _type => vdl/cache.battle.infoRoom }
20.11 19:01:03 STATS: cache [battle], get [5 calls, 0 cache hits, 4 cache misses, 0 same version, 4 not found]
20.11 19:01:03 STATS: cache [battle], segments [5 calls, 0 hits, 4 misses]
20.11 19:01:03 STATS: cache [battle], database [298 calls, 4 reads, 0 writes]
20.11 19:01:03 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
20.11 19:01:03 READDB: SELECT * FROM Battle WHERE ID = 0
20.11 19:01:03 TRACE: vdl/cache.battle.infoRoom : Invalid field access : get
20.11 19:01:03 TRACE: vdl/cache.battle.infoRoom : 
Called from modules/VDLCache.hx line 223
Called from modules/VDLCache.hx line 216
Called from modules/VDLCache.hx line 153
Called from snipe/cache/CacheServer.hx line 487
20.11 19:01:03 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { errorCode => _requestException, _type => vdl/cache.battle.infoRoom }
20.11 19:01:03 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 156, _type => core/cache.update }
20.11 19:01:03 STATS: cache [user], get [14 calls, 6 cache hits, 8 cache misses, 0 same version, 0 not found]
20.11 19:01:03 STATS: cache [user], segments [42 calls, 25 hits, 13 misses]
20.11 19:01:03 STATS: cache [user], database [298 calls, 8 reads, 9 writes]
20.11 19:01:03 STATS: cache [user], lock [8 calls, 8 attempts, 0 failures]
20.11 19:01:03 STATS: cache manager [1], get [13 calls, total 0.01 sec spent, avg 0.98 ms]
20.11 19:01:03 STATS: cache manager [1], update [18 calls, total 0 sec spent, avg 0.14 ms]
20.11 19:01:03 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
20.11 19:01:03 TIME: core/cache.update : 0.22 ms
20.11 19:01:03 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 156, _type => core/cache.update }
20.11 19:01:03 STATS: cache [questdata], get [5 calls, 0 cache hits, 5 cache misses, 0 same version, 0 not found]
20.11 19:01:03 STATS: cache [questdata], segments [20 calls, 9 hits, 10 misses]
20.11 19:01:03 STATS: cache [questdata], database [298 calls, 5 reads, 4 writes]
20.11 19:01:03 STATS: cache [questdata], lock [5 calls, 5 attempts, 0 failures]
20.11 19:01:03 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
20.11 19:01:03 TIME: core/cache.update : 0.13 ms
20.11 19:01:03 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 156, _type => core/user.logoutPost }
20.11 19:01:03 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
20.11 19:01:03 TIME: core/user.logoutPost : 0.11 ms
20.11 19:01:04 WRITEDB: UPDATE Users SET name = E'Test5', deleted = E'false', email = E'', networktype = E'  ', password = E'1111', isbanned = E'false', regdate = E'2016-11-20 18:57:55.997177+03', language = E'en', networkid = E'', params = E'{"info":{"city":"Testcity","year":"1111","email":"2testemail2"},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1479657476,"lastLoginDate":325,"lastLoadDate":1121},"effects":{"list":[]}}' WHERE ID = 156
20.11 19:01:04 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 156
20.11 19:01:06 TIMER: Clans cache...
20.11 19:01:06 TIMER: Clans cache: 0ms
20.11 19:01:06 TIMER: Check step...
20.11 19:01:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:06 TIMER: Check step: 0ms
20.11 19:01:06 TIMER: Check round...
20.11 19:01:06 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:01' OR rounddate = '2016-20-11 22:01' AND status <> 'finished'
20.11 19:01:06 DB: SELECT * FROM battle WHERE endtime >= '1479657.6662793' AND avaliable = true AND finished <> true
20.11 19:01:06 TIMER: Check round: 1ms
20.11 19:01:11 TIMER: Check step...
20.11 19:01:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:11 TIMER: Check step: 1ms
20.11 19:01:14 BLOCKREMOVE: user 156 removed
20.11 19:01:14 BLOCKREMOVE: questdata 156 removed
20.11 19:01:16 TIMER: Check step...
20.11 19:01:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:16 TIMER: Check step: 1ms
20.11 19:01:21 TIMER: Check step...
20.11 19:01:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:21 TIMER: Check step: 0ms
20.11 19:01:26 TIMER: Check step...
20.11 19:01:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:26 TIMER: Check step: 1ms
20.11 19:01:31 TIMER: Check step...
20.11 19:01:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:31 TIMER: Check step: 1ms
20.11 19:01:36 TIMER: Check step...
20.11 19:01:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:36 TIMER: Check step: 1ms
20.11 19:01:41 TIMER: Check step...
20.11 19:01:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:01:41 TIMER: Check step: 0ms
20.11 19:07:37 TIMER: Starting timer...
20.11 19:07:37 TIMER: Timer running...
20.11 19:07:37 DB: SELECT * FROM GameVars
20.11 19:07:37 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd + '1day'::interval) AS TimeEnd FROM CalendarEvents ORDER BY ID
20.11 19:07:37 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
20.11 19:07:37 DB: SELECT * FROM Shops WHERE ID = 1
20.11 19:07:37 TEMP: load ./tmp/quest_daily_ids
20.11 19:07:37 DB: SELECT ID FROM QuestChains WHERE IsEnabled = 't' AND Params LIKE '%"isDaily":true%' ORDER BY ID
20.11 19:07:37 TEMP: save ./tmp/quest_daily_ids
20.11 19:07:37 NET: ??? request core/server.login { host => 172.16.30.23, name => vdl.0, port => 2030, type => game, _type => core/server.login, externalHost => 172.16.30.23, externalPort => 2030 }
20.11 19:07:37 QUEUE: vdl.0 (thread) response server.login
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM LocalizationStrings, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM LocalizationStrings
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 6.68 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM GameVars, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM GameVars
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.49 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestParameterTypes ORDER BY ID, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM QuestParameterTypes ORDER BY ID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.65 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestConditionTypes ORDER BY ID, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM QuestConditionTypes ORDER BY ID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.36 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestChains WHERE IsEnabled = 't', _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM QuestChains WHERE IsEnabled = 't'
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.51 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f'), _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f')
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 1.09 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/quest.getDaily { _type => core/quest.getDaily }
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/quest.getDaily
20.11 19:07:37 TIME: core/quest.getDaily : 0.03 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserAttributeTypes, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM UserAttributeTypes
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.64 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserVariableTypes, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM UserVariableTypes
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.39 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID, _type => core/server.query }
20.11 19:07:37 DB: SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 1.4 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM ItemGroups, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM ItemGroups
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.35 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Bundles ORDER BY ID, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM Bundles ORDER BY ID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.57 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM BundleItems ORDER BY ID, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM BundleItems ORDER BY ID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.48 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/shop.getList { _type => core/shop.getList }
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/shop.getList
20.11 19:07:37 TIME: core/shop.getList : 0.02 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM EffectAttributeTypes, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM EffectAttributeTypes
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.42 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Effects, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM Effects
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.35 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID, _type => core/server.query }
20.11 19:07:37 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.71 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID, _type => core/server.query }
20.11 19:07:37 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.5 ms
20.11 19:07:37 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Badges, _type => core/server.query }
20.11 19:07:37 DB: SELECT * FROM Badges
20.11 19:07:37 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:07:37 TIME: core/server.query : 0.28 ms
20.11 19:07:42 TIMER: Check step...
20.11 19:07:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:07:42 TIMER: Check step: 3ms
20.11 19:07:47 TIMER: Check step...
20.11 19:07:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:07:47 TIMER: Check step: 3ms
20.11 19:07:52 TIMER: Check step...
20.11 19:07:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:07:52 TIMER: Check step: 3ms
20.11 19:07:57 TIMER: Check step...
20.11 19:07:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:07:57 TIMER: Check step: 2ms
20.11 19:08:02 TIMER: Check step...
20.11 19:08:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:02 TIMER: Check step: 1ms
20.11 19:08:07 TIMER: Check step...
20.11 19:08:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:07 TIMER: Check step: 1ms
20.11 19:08:12 TIMER: Check step...
20.11 19:08:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:12 TIMER: Check step: 1ms
20.11 19:08:17 TIMER: Check step...
20.11 19:08:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:17 TIMER: Check step: 5ms
20.11 19:08:22 TIMER: Check step...
20.11 19:08:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:22 TIMER: Check step: 1ms
20.11 19:08:27 TIMER: Check step...
20.11 19:08:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:27 TIMER: Check step: 1ms
20.11 19:08:32 TIMER: Check step...
20.11 19:08:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:32 TIMER: Check step: 0ms
20.11 19:08:37 TIMER: Clans cache...
20.11 19:08:37 TIMER: Clans cache: 0ms
20.11 19:08:37 TIMER: Check step...
20.11 19:08:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:37 TIMER: Check step: 0ms
20.11 19:08:37 TIMER: Check round...
20.11 19:08:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:08' OR rounddate = '2016-20-11 22:08' AND status <> 'finished'
20.11 19:08:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.11748142' AND avaliable = true AND finished <> true
20.11 19:08:37 TIMER: Check round: 2ms
20.11 19:08:42 TIMER: Check step...
20.11 19:08:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:42 TIMER: Check step: 1ms
20.11 19:08:47 TIMER: Check step...
20.11 19:08:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:47 TIMER: Check step: 1ms
20.11 19:08:52 TIMER: Check step...
20.11 19:08:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:52 TIMER: Check step: 1ms
20.11 19:08:57 TIMER: Check step...
20.11 19:08:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:08:57 TIMER: Check step: 1ms
20.11 19:09:02 TIMER: Check step...
20.11 19:09:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:02 TIMER: Check step: 1ms
20.11 19:09:07 TIMER: Check step...
20.11 19:09:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:07 TIMER: Check step: 1ms
20.11 19:09:12 TIMER: Check step...
20.11 19:09:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:12 TIMER: Check step: 1ms
20.11 19:09:17 TIMER: Check step...
20.11 19:09:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:17 TIMER: Check step: 1ms
20.11 19:09:22 TIMER: Check step...
20.11 19:09:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:22 TIMER: Check step: 1ms
20.11 19:09:27 TIMER: Check step...
20.11 19:09:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:27 TIMER: Check step: 1ms
20.11 19:09:32 TIMER: Check step...
20.11 19:09:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:32 TIMER: Check step: 1ms
20.11 19:09:37 TIMER: Clans cache...
20.11 19:09:37 TIMER: Clans cache: 0ms
20.11 19:09:37 TIMER: Check step...
20.11 19:09:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:37 TIMER: Check step: 1ms
20.11 19:09:37 TIMER: Check round...
20.11 19:09:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:09' OR rounddate = '2016-20-11 22:09' AND status <> 'finished'
20.11 19:09:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.17751074' AND avaliable = true AND finished <> true
20.11 19:09:37 TIMER: Check round: 3ms
20.11 19:09:42 TIMER: Check step...
20.11 19:09:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:42 TIMER: Check step: 1ms
20.11 19:09:47 TIMER: Check step...
20.11 19:09:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:47 TIMER: Check step: 1ms
20.11 19:09:52 TIMER: Check step...
20.11 19:09:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:52 TIMER: Check step: 1ms
20.11 19:09:57 TIMER: Check step...
20.11 19:09:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:09:57 TIMER: Check step: 0ms
20.11 19:10:02 TIMER: Check step...
20.11 19:10:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:02 TIMER: Check step: 1ms
20.11 19:10:07 TIMER: Check step...
20.11 19:10:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:07 TIMER: Check step: 1ms
20.11 19:10:12 TIMER: Check step...
20.11 19:10:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:12 TIMER: Check step: 1ms
20.11 19:10:17 TIMER: Check step...
20.11 19:10:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:17 TIMER: Check step: 0ms
20.11 19:10:22 TIMER: Check step...
20.11 19:10:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:22 TIMER: Check step: 1ms
20.11 19:10:27 TIMER: Check step...
20.11 19:10:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:27 TIMER: Check step: 1ms
20.11 19:10:32 TIMER: Check step...
20.11 19:10:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:32 TIMER: Check step: 1ms
20.11 19:10:37 TIMER: Clans cache...
20.11 19:10:37 TIMER: Clans cache: 0ms
20.11 19:10:37 TIMER: Check step...
20.11 19:10:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:37 TIMER: Check step: 1ms
20.11 19:10:37 TIMER: Check round...
20.11 19:10:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:10' OR rounddate = '2016-20-11 22:10' AND status <> 'finished'
20.11 19:10:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.23754093' AND avaliable = true AND finished <> true
20.11 19:10:37 TIMER: Check round: 2ms
20.11 19:10:42 TIMER: Check step...
20.11 19:10:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:42 TIMER: Check step: 1ms
20.11 19:10:47 TIMER: Check step...
20.11 19:10:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:47 TIMER: Check step: 1ms
20.11 19:10:52 TIMER: Check step...
20.11 19:10:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:52 TIMER: Check step: 1ms
20.11 19:10:57 TIMER: Check step...
20.11 19:10:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:10:57 TIMER: Check step: 1ms
20.11 19:11:02 TIMER: Check step...
20.11 19:11:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:02 TIMER: Check step: 1ms
20.11 19:11:07 TIMER: Check step...
20.11 19:11:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:07 TIMER: Check step: 1ms
20.11 19:11:12 TIMER: Check step...
20.11 19:11:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:12 TIMER: Check step: 1ms
20.11 19:11:17 TIMER: Check step...
20.11 19:11:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:17 TIMER: Check step: 1ms
20.11 19:11:22 TIMER: Check step...
20.11 19:11:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:22 TIMER: Check step: 1ms
20.11 19:11:27 TIMER: Check step...
20.11 19:11:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:27 TIMER: Check step: 1ms
20.11 19:11:32 TIMER: Check step...
20.11 19:11:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:32 TIMER: Check step: 1ms
20.11 19:11:37 TIMER: Clans cache...
20.11 19:11:37 TIMER: Clans cache: 0ms
20.11 19:11:37 TIMER: Check step...
20.11 19:11:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:37 TIMER: Check step: 1ms
20.11 19:11:37 TIMER: Check round...
20.11 19:11:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:11' OR rounddate = '2016-20-11 22:11' AND status <> 'finished'
20.11 19:11:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.29756797' AND avaliable = true AND finished <> true
20.11 19:11:37 TIMER: Check round: 1ms
20.11 19:11:42 TIMER: Check step...
20.11 19:11:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:42 TIMER: Check step: 1ms
20.11 19:11:46 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141', _type => core/server.query }
20.11 19:11:46 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141'
20.11 19:11:46 QUEUE: vdl.0 (thread) response core/server.query
20.11 19:11:46 TIME: core/server.query : 2.84 ms
20.11 19:11:46 NET: vdl.0 (thread) request core/user.isOnlineID { id => 141, _type => core/user.isOnlineID }
20.11 19:11:46 QUEUE: vdl.0 (thread) response core/user.isOnlineID
20.11 19:11:46 TIME: core/user.isOnlineID : 0.08 ms
20.11 19:11:46 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 141, _type => core/cache.get }
20.11 19:11:46 STATS: cache [user], get [0 calls, 0 cache hits, 0 cache misses, 0 same version, 0 not found]
20.11 19:11:46 STATS: cache [user], segments [1 calls, 0 hits, 0 misses]
20.11 19:11:46 STATS: cache [user], database [249 calls, 0 reads, 0 writes]
20.11 19:11:46 STATS: cache [user], lock [1 calls, 1 attempts, 0 failures]
20.11 19:11:46 READDB: SELECT * FROM Users WHERE ID = 141
20.11 19:11:46 STATS: cache manager [1], get [1 calls, total 0 sec spent, avg 4.31 ms]
20.11 19:11:46 STATS: cache manager [1], update [0 calls, total 0 sec spent, avg -21474836.48 ms]
20.11 19:11:46 QUEUE: vdl.0 (thread) response core/cache.get
20.11 19:11:46 TIME: core/cache.get : 4.52 ms
20.11 19:11:46 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 141, _type => core/cache.get }
20.11 19:11:46 STATS: cache [questdata], get [0 calls, 0 cache hits, 0 cache misses, 0 same version, 0 not found]
20.11 19:11:46 STATS: cache [questdata], segments [1 calls, 0 hits, 0 misses]
20.11 19:11:46 STATS: cache [questdata], database [249 calls, 0 reads, 0 writes]
20.11 19:11:46 STATS: cache [questdata], lock [1 calls, 1 attempts, 0 failures]
20.11 19:11:46 READDB: SELECT * FROM UserQuests WHERE ID = 141
20.11 19:11:46 QUEUE: vdl.0 (thread) response core/cache.get
20.11 19:11:46 TIME: core/cache.get : 1.57 ms
20.11 19:11:46 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 141, _type => core/user.loginPost, ipAddr => 172.16.20.65 }
20.11 19:11:46 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
20.11 19:11:46 TIME: core/user.loginPost : 0.12 ms
20.11 19:11:46 NET: vdl.0 (thread) request core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 141 AND Date = 'today'::timestamp, _type => core/server.query }
20.11 19:11:46 DB: SELECT ID FROM TempUserLogins WHERE UserID = 141 AND Date = 'today'::timestamp
20.11 19:11:46 QUEUE: vdl.0 (thread) response core/server.query { list => {}, errorCode => ok, _type => core/server.query }
20.11 19:11:46 TIME: core/server.query : 1.82 ms
20.11 19:11:46 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (141, 'today'::timestamp)
20.11 19:11:47 TIMER: Check step...
20.11 19:11:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:47 TIMER: Check step: 1ms
20.11 19:11:52 NET: vdl.0 (thread) request core/cache.update { diff => {language => en, params => { attrs => { lastLoginDate => 325, lastLoadDate => 1121 } }}, type => user, unlock => false, id => 141, _type => core/cache.update }
20.11 19:11:52 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
20.11 19:11:52 TIME: core/cache.update : 0.21 ms
20.11 19:11:52 TIMER: Check step...
20.11 19:11:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:52 TIMER: Check step: 0ms
20.11 19:11:53 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":325,"lastLoadDate":1121},"effects":{"list":[]}}' WHERE ID = 141
20.11 19:11:57 TIMER: Check step...
20.11 19:11:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:11:57 TIMER: Check step: 1ms
20.11 19:12:02 TIMER: Check step...
20.11 19:12:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:02 TIMER: Check step: 1ms
20.11 19:12:07 TIMER: Check step...
20.11 19:12:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:07 TIMER: Check step: 0ms
20.11 19:12:12 TIMER: Check step...
20.11 19:12:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:12 TIMER: Check step: 0ms
20.11 19:12:17 TIMER: Check step...
20.11 19:12:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:17 TIMER: Check step: 0ms
20.11 19:12:22 TIMER: Check step...
20.11 19:12:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:22 TIMER: Check step: 0ms
20.11 19:12:27 TIMER: Check step...
20.11 19:12:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:27 TIMER: Check step: 0ms
20.11 19:12:32 TIMER: Check step...
20.11 19:12:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:32 TIMER: Check step: 1ms
20.11 19:12:37 TIMER: Clans cache...
20.11 19:12:37 TIMER: Clans cache: 0ms
20.11 19:12:37 TIMER: Check step...
20.11 19:12:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:37 TIMER: Check step: 0ms
20.11 19:12:37 TIMER: Check round...
20.11 19:12:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:12' OR rounddate = '2016-20-11 22:12' AND status <> 'finished'
20.11 19:12:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.35759326' AND avaliable = true AND finished <> true
20.11 19:12:37 TIMER: Check round: 1ms
20.11 19:12:42 TIMER: Check step...
20.11 19:12:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:42 TIMER: Check step: 1ms
20.11 19:12:47 TIMER: Check step...
20.11 19:12:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:47 TIMER: Check step: 1ms
20.11 19:12:52 TIMER: Check step...
20.11 19:12:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:52 TIMER: Check step: 0ms
20.11 19:12:57 TIMER: Check step...
20.11 19:12:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:12:57 TIMER: Check step: 1ms
20.11 19:13:02 TIMER: Check step...
20.11 19:13:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:02 TIMER: Check step: 1ms
20.11 19:13:07 TIMER: Check step...
20.11 19:13:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:07 TIMER: Check step: 1ms
20.11 19:13:12 TIMER: Check step...
20.11 19:13:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:12 TIMER: Check step: 1ms
20.11 19:13:17 TIMER: Check step...
20.11 19:13:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:17 TIMER: Check step: 1ms
20.11 19:13:22 TIMER: Check step...
20.11 19:13:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:22 TIMER: Check step: 1ms
20.11 19:13:27 TIMER: Check step...
20.11 19:13:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:27 TIMER: Check step: 1ms
20.11 19:13:32 TIMER: Check step...
20.11 19:13:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:32 TIMER: Check step: 1ms
20.11 19:13:37 TIMER: Clans cache...
20.11 19:13:37 TIMER: Clans cache: 0ms
20.11 19:13:37 TIMER: Check step...
20.11 19:13:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:37 TIMER: Check step: 0ms
20.11 19:13:37 TIMER: Check round...
20.11 19:13:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:13' OR rounddate = '2016-20-11 22:13' AND status <> 'finished'
20.11 19:13:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.41762052' AND avaliable = true AND finished <> true
20.11 19:13:37 TIMER: Check round: 1ms
20.11 19:13:42 TIMER: Check step...
20.11 19:13:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:42 TIMER: Check step: 1ms
20.11 19:13:47 TIMER: Check step...
20.11 19:13:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:47 TIMER: Check step: 0ms
20.11 19:13:52 TIMER: Check step...
20.11 19:13:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:52 TIMER: Check step: 1ms
20.11 19:13:57 TIMER: Check step...
20.11 19:13:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:13:57 TIMER: Check step: 0ms
20.11 19:14:02 TIMER: Check step...
20.11 19:14:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:02 TIMER: Check step: 1ms
20.11 19:14:07 TIMER: Check step...
20.11 19:14:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:07 TIMER: Check step: 1ms
20.11 19:14:11 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'Test5' AND Password = E'1111', _type => core/server.query }
20.11 19:14:11 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'Test5' AND Password = E'1111'
20.11 19:14:11 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => Test5, networkid => , isbanned => false, id => 156 }}, errorCode => ok, _type => core/server.query }
20.11 19:14:11 TIME: core/server.query : 3.05 ms
20.11 19:14:11 NET: vdl.0 (thread) request core/user.isOnlineID { id => 156, _type => core/user.isOnlineID }
20.11 19:14:11 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
20.11 19:14:11 TIME: core/user.isOnlineID : 0.1 ms
20.11 19:14:11 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 156, _type => core/cache.get }
20.11 19:14:11 STATS: cache [user], get [1 calls, 0 cache hits, 1 cache misses, 0 same version, 0 not found]
20.11 19:14:11 STATS: cache [user], segments [4 calls, 1 hits, 2 misses]
20.11 19:14:11 STATS: cache [user], database [395 calls, 1 reads, 1 writes]
20.11 19:14:11 STATS: cache [user], lock [2 calls, 2 attempts, 0 failures]
20.11 19:14:11 READDB: SELECT * FROM Users WHERE ID = 156
20.11 19:14:11 STATS: cache manager [1], get [3 calls, total 0.01 sec spent, avg 2.66 ms]
20.11 19:14:11 STATS: cache manager [1], update [1 calls, total 0 sec spent, avg 0.1 ms]
20.11 19:14:11 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => Test5, deleted => false, email => , networktype =>   , password => 1111, isbanned => false, regdate => 2016-11-20 18:57:55.997177+03, language => en, networkid => , params => { info => { city => Testcity, year => 1111, email => 2testemail2 }, inventory => { list => [] }, vars => {}, attrs => { _lastTime.24hr => 1479657476, lastLoginDate => 325, lastLoadDate => 1121 }, effects => { list => [] } }}, version => 0, id => 156 } }
20.11 19:14:11 TIME: core/cache.get : 2.61 ms
20.11 19:14:11 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 156, _type => core/cache.get }
20.11 19:14:11 STATS: cache [questdata], get [1 calls, 0 cache hits, 1 cache misses, 0 same version, 0 not found]
20.11 19:14:11 STATS: cache [questdata], segments [3 calls, 0 hits, 2 misses]
20.11 19:14:11 STATS: cache [questdata], database [395 calls, 1 reads, 0 writes]
20.11 19:14:11 STATS: cache [questdata], lock [2 calls, 2 attempts, 0 failures]
20.11 19:14:11 READDB: SELECT * FROM UserQuests WHERE ID = 156
20.11 19:14:11 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 156 } }
20.11 19:14:11 TIME: core/cache.get : 1.16 ms
20.11 19:14:11 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 156, _type => core/user.loginPost, ipAddr => 172.16.30.15 }
20.11 19:14:11 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
20.11 19:14:11 TIME: core/user.loginPost : 0.15 ms
20.11 19:14:12 NET: vdl.0 (thread) request vdl/cache.user.getData { userId => 156, _type => vdl/cache.user.getData, money => 0 }
20.11 19:14:12 QUEUE: vdl.0 (thread) response vdl/cache.user.getData { info => { city => Testcity, year => 1111, email => 2testemail2 }, errorCode => ok, _type => vdl/cache.user.getData, money => 0 }
20.11 19:14:12 TIME: vdl/cache.user.getData : 0.18 ms
20.11 19:14:12 TIMER: Check step...
20.11 19:14:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:12 TIMER: Check step: 1ms
20.11 19:14:17 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 156, _type => core/cache.update }
20.11 19:14:17 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
20.11 19:14:17 TIME: core/cache.update : 0.18 ms
20.11 19:14:17 TIMER: Check step...
20.11 19:14:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:17 TIMER: Check step: 0ms
20.11 19:14:18 WRITEDB: UPDATE Users SET name = E'Test5', deleted = E'false', email = E'', networktype = E'  ', password = E'1111', isbanned = E'false', regdate = E'2016-11-20 18:57:55.997177+03', language = E'en', networkid = E'', params = E'{"info":{"city":"Testcity","year":"1111","email":"2testemail2"},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1479657476,"lastLoginDate":325,"lastLoadDate":1121},"effects":{"list":[]}}' WHERE ID = 156
20.11 19:14:22 TIMER: Check step...
20.11 19:14:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:22 TIMER: Check step: 1ms
20.11 19:14:25 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 156 }, _type => vdl/cache.battle.findRandom }
20.11 19:14:25 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
20.11 19:14:25 TIME: vdl/cache.battle.findRandom : 0.11 ms
20.11 19:14:27 TIMER: Check step...
20.11 19:14:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:27 TIMER: Check step: 0ms
20.11 19:14:31 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
20.11 19:14:31 DB: SELECT nextval('Battle_id_seq') AS id
20.11 19:14:31 READDB: SELECT ID FROM Battle WHERE ID = 31
20.11 19:14:31 READDB: INSERT INTO Battle (ID) VALUES (31)
20.11 19:14:31 STATS: cache [battle], get [1 calls, 0 cache hits, 0 cache misses, 0 same version, 0 not found]
20.11 19:14:31 STATS: cache [battle], segments [1 calls, 0 hits, 0 misses]
20.11 19:14:31 STATS: cache [battle], database [415 calls, 0 reads, 0 writes]
20.11 19:14:31 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
20.11 19:14:31 READDB: SELECT * FROM Battle WHERE ID = 31
20.11 19:14:31 DB: SELECT name FROM users WHERE id=141
20.11 19:14:31 DB: SELECT name FROM users WHERE id=156
20.11 19:14:31 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 156, enemy.name => Test5, id => 141, enemy.num => 2, battleId => 31, player => 1 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
20.11 19:14:31 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => Test5, enemy.id => 141, enemy.name => uid141, id => 156, enemy.num => 1, battleId => 31, player => 2 }, _isNotify => true, id => 156, _type => battle.enemyEvent }
20.11 19:14:31 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
20.11 19:14:31 TIME: vdl/cache.battle.findRandom : 40.78 ms
20.11 19:14:32 TIMER: Check step...
20.11 19:14:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:32 TIMER: Check step: 1ms
20.11 19:14:37 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'156', turnid = E'141', finished = E'false', endtime = E'1483258.47161148', firstid = E'141', steptime = E'1479778.4716145', params = E'{}', avaliable = E'false' WHERE ID = 31
20.11 19:14:37 TIMER: Clans cache...
20.11 19:14:37 TIMER: Clans cache: 0ms
20.11 19:14:37 TIMER: Check step...
20.11 19:14:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:37 TIMER: Check step: 0ms
20.11 19:14:37 TIMER: Check round...
20.11 19:14:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:14' OR rounddate = '2016-20-11 22:14' AND status <> 'finished'
20.11 19:14:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.47764958' AND avaliable = true AND finished <> true
20.11 19:14:37 TIMER: Check round: 1ms
20.11 19:14:42 TIMER: Check step...
20.11 19:14:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:42 TIMER: Check step: 0ms
20.11 19:14:47 BLOCKREMOVE: battle 31 removed
20.11 19:14:47 TIMER: Check step...
20.11 19:14:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:47 TIMER: Check step: 0ms
20.11 19:14:48 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true, _type => core/server.query }
20.11 19:14:48 DB: SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true
20.11 19:14:48 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 30 }, { id => 31 }}, errorCode => ok, _type => core/server.query }
20.11 19:14:48 TIME: core/server.query : 1.52 ms
20.11 19:14:48 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 31, _type => vdl/cache.battle.infoRoom }
20.11 19:14:48 READDB: SELECT * FROM Battle WHERE ID = 31
20.11 19:14:48 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 156, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
20.11 19:14:48 TIME: vdl/cache.battle.infoRoom : 1.12 ms
20.11 19:14:48 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 31, _type => vdl/cache.battle.deleteRoom }
20.11 19:14:48 ROOM: deleted room 31
20.11 19:14:48 DB: DELETE FROM Battle WHERE ID = 31
20.11 19:14:48 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
20.11 19:14:48 TIME: vdl/cache.battle.deleteRoom : 14.64 ms
20.11 19:14:48 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 31, _type => vdl/cache.battle.finishRoom }
20.11 19:14:48 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
20.11 19:14:48 TIME: vdl/cache.battle.finishRoom : 0.22 ms
20.11 19:14:48 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 141, _type => core/cache.update }
20.11 19:14:48 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
20.11 19:14:48 TIME: core/cache.update : 0.16 ms
20.11 19:14:48 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 141, _type => core/cache.update }
20.11 19:14:48 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
20.11 19:14:48 TIME: core/cache.update : 0.2 ms
20.11 19:14:48 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 141, _type => core/user.logoutPost }
20.11 19:14:48 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
20.11 19:14:48 TIME: core/user.logoutPost : 0.14 ms
20.11 19:14:49 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":325,"lastLoadDate":1121},"effects":{"list":[]}}' WHERE ID = 141
20.11 19:14:49 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 141
20.11 19:14:52 TIMER: Check step...
20.11 19:14:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:52 TIMER: Check step: 1ms
20.11 19:14:54 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'156', turnid = E'141', finished = E'true', endtime = E'1483260', firstid = E'141', steptime = E'1479780', params = E'{}', avaliable = E'false' WHERE ID = 31
20.11 19:14:57 TIMER: Check step...
20.11 19:14:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:14:57 TIMER: Check step: 0ms
20.11 19:14:59 BLOCKREMOVE: user 141 removed
20.11 19:14:59 BLOCKREMOVE: questdata 141 removed
20.11 19:15:02 TIMER: Check step...
20.11 19:15:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:02 TIMER: Check step: 1ms
20.11 19:15:04 BLOCKREMOVE: battle 31 removed
20.11 19:15:07 TIMER: Check step...
20.11 19:15:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:07 TIMER: Check step: 0ms
20.11 19:15:12 TIMER: Check step...
20.11 19:15:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:12 TIMER: Check step: 1ms
20.11 19:15:17 TIMER: Check step...
20.11 19:15:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:17 TIMER: Check step: 1ms
20.11 19:15:22 TIMER: Check step...
20.11 19:15:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:22 TIMER: Check step: 1ms
20.11 19:15:27 TIMER: Check step...
20.11 19:15:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:27 TIMER: Check step: 0ms
20.11 19:15:32 TIMER: Check step...
20.11 19:15:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:32 TIMER: Check step: 1ms
20.11 19:15:37 TIMER: Clans cache...
20.11 19:15:37 TIMER: Clans cache: 0ms
20.11 19:15:37 TIMER: Check step...
20.11 19:15:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:37 TIMER: Check step: 0ms
20.11 19:15:37 TIMER: Check round...
20.11 19:15:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:15' OR rounddate = '2016-20-11 22:15' AND status <> 'finished'
20.11 19:15:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.53767507' AND avaliable = true AND finished <> true
20.11 19:15:37 TIMER: Check round: 1ms
20.11 19:15:42 TIMER: Check step...
20.11 19:15:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:42 TIMER: Check step: 1ms
20.11 19:15:47 TIMER: Check step...
20.11 19:15:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:47 TIMER: Check step: 0ms
20.11 19:15:52 TIMER: Check step...
20.11 19:15:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:52 TIMER: Check step: 0ms
20.11 19:15:57 TIMER: Check step...
20.11 19:15:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:15:57 TIMER: Check step: 0ms
20.11 19:16:02 TIMER: Check step...
20.11 19:16:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:02 TIMER: Check step: 1ms
20.11 19:16:07 TIMER: Check step...
20.11 19:16:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:07 TIMER: Check step: 1ms
20.11 19:16:12 TIMER: Check step...
20.11 19:16:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:12 TIMER: Check step: 1ms
20.11 19:16:17 TIMER: Check step...
20.11 19:16:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:17 TIMER: Check step: 1ms
20.11 19:16:22 TIMER: Check step...
20.11 19:16:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:22 TIMER: Check step: 1ms
20.11 19:16:27 TIMER: Check step...
20.11 19:16:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:27 TIMER: Check step: 1ms
20.11 19:16:32 TIMER: Check step...
20.11 19:16:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:32 TIMER: Check step: 1ms
20.11 19:16:37 TIMER: Clans cache...
20.11 19:16:37 TIMER: Clans cache: 0ms
20.11 19:16:37 TIMER: Check step...
20.11 19:16:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:37 TIMER: Check step: 0ms
20.11 19:16:37 TIMER: Check round...
20.11 19:16:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:16' OR rounddate = '2016-20-11 22:16' AND status <> 'finished'
20.11 19:16:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.59771414' AND avaliable = true AND finished <> true
20.11 19:16:37 TIMER: Check round: 1ms
20.11 19:16:42 TIMER: Check step...
20.11 19:16:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:42 TIMER: Check step: 0ms
20.11 19:16:47 TIMER: Check step...
20.11 19:16:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:47 TIMER: Check step: 1ms
20.11 19:16:52 TIMER: Check step...
20.11 19:16:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:52 TIMER: Check step: 1ms
20.11 19:16:57 TIMER: Check step...
20.11 19:16:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:16:57 TIMER: Check step: 1ms
20.11 19:17:02 TIMER: Check step...
20.11 19:17:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:02 TIMER: Check step: 1ms
20.11 19:17:07 TIMER: Check step...
20.11 19:17:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:07 TIMER: Check step: 1ms
20.11 19:17:12 TIMER: Check step...
20.11 19:17:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:12 TIMER: Check step: 1ms
20.11 19:17:17 TIMER: Check step...
20.11 19:17:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:17 TIMER: Check step: 1ms
20.11 19:17:22 TIMER: Check step...
20.11 19:17:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:22 TIMER: Check step: 1ms
20.11 19:17:27 TIMER: Check step...
20.11 19:17:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:27 TIMER: Check step: 1ms
20.11 19:17:31 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141', _type => core/server.query }
20.11 19:17:31 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141'
20.11 19:17:31 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid141, networkid => , isbanned => false, id => 141 }}, errorCode => ok, _type => core/server.query }
20.11 19:17:31 TIME: core/server.query : 1.54 ms
20.11 19:17:31 NET: vdl.0 (thread) request core/user.isOnlineID { id => 141, _type => core/user.isOnlineID }
20.11 19:17:31 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
20.11 19:17:31 TIME: core/user.isOnlineID : 0.13 ms
20.11 19:17:31 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 141, _type => core/cache.get }
20.11 19:17:31 STATS: cache [user], get [3 calls, 1 cache hits, 2 cache misses, 0 same version, 0 not found]
20.11 19:17:31 STATS: cache [user], segments [10 calls, 4 hits, 4 misses]
20.11 19:17:31 STATS: cache [user], database [594 calls, 2 reads, 3 writes]
20.11 19:17:31 STATS: cache [user], lock [3 calls, 3 attempts, 0 failures]
20.11 19:17:31 READDB: SELECT * FROM Users WHERE ID = 141
20.11 19:17:31 STATS: cache manager [1], get [5 calls, total 0.01 sec spent, avg 2.09 ms]
20.11 19:17:31 STATS: cache manager [1], update [4 calls, total 0 sec spent, avg 0.06 ms]
20.11 19:17:31 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid141, deleted => false, email => , networktype =>   , password => uid141, isbanned => false, regdate => 2016-11-19 20:20:05.55314+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479576158, lastLoginDate => 325, lastLoadDate => 1121 }, effects => { list => [] } }}, version => 0, id => 141 } }
20.11 19:17:31 TIME: core/cache.get : 1.86 ms
20.11 19:17:31 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 141, _type => core/cache.get }
20.11 19:17:31 STATS: cache [questdata], get [2 calls, 0 cache hits, 2 cache misses, 0 same version, 0 not found]
20.11 19:17:31 STATS: cache [questdata], segments [7 calls, 2 hits, 4 misses]
20.11 19:17:31 STATS: cache [questdata], database [594 calls, 2 reads, 1 writes]
20.11 19:17:31 STATS: cache [questdata], lock [3 calls, 3 attempts, 0 failures]
20.11 19:17:31 READDB: SELECT * FROM UserQuests WHERE ID = 141
20.11 19:17:31 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 141 } }
20.11 19:17:31 TIME: core/cache.get : 1.39 ms
20.11 19:17:31 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 141, _type => core/user.loginPost, ipAddr => 172.16.20.65 }
20.11 19:17:31 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
20.11 19:17:31 TIME: core/user.loginPost : 0.14 ms
20.11 19:17:32 TIMER: Check step...
20.11 19:17:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:32 TIMER: Check step: 1ms
20.11 19:17:37 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 141, _type => core/cache.update }
20.11 19:17:37 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
20.11 19:17:37 TIME: core/cache.update : 0.11 ms
20.11 19:17:37 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":325,"lastLoadDate":1121},"effects":{"list":[]}}' WHERE ID = 141
20.11 19:17:37 TIMER: Clans cache...
20.11 19:17:37 TIMER: Clans cache: 0ms
20.11 19:17:37 TIMER: Check step...
20.11 19:17:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:37 TIMER: Check step: 1ms
20.11 19:17:37 TIMER: Check round...
20.11 19:17:37 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 22:17' OR rounddate = '2016-20-11 22:17' AND status <> 'finished'
20.11 19:17:37 DB: SELECT * FROM battle WHERE endtime >= '1479658.65774218' AND avaliable = true AND finished <> true
20.11 19:17:37 TIMER: Check round: 2ms
20.11 19:17:42 TIMER: Check step...
20.11 19:17:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:42 TIMER: Check step: 1ms
20.11 19:17:47 TIMER: Check step...
20.11 19:17:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:47 TIMER: Check step: 0ms
20.11 19:17:52 TIMER: Check step...
20.11 19:17:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:52 TIMER: Check step: 1ms
20.11 19:17:55 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
20.11 19:17:55 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
20.11 19:17:55 TIME: vdl/cache.battle.findRandom : 0.1 ms
20.11 19:17:57 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 156 }, _type => vdl/cache.battle.findRandom }
20.11 19:17:57 DB: SELECT nextval('Battle_id_seq') AS id
20.11 19:17:57 READDB: SELECT ID FROM Battle WHERE ID = 32
20.11 19:17:57 READDB: INSERT INTO Battle (ID) VALUES (32)
20.11 19:17:57 STATS: cache [battle], get [5 calls, 2 cache hits, 2 cache misses, 0 same version, 0 not found]
20.11 19:17:57 STATS: cache [battle], segments [10 calls, 7 hits, 2 misses]
20.11 19:17:57 STATS: cache [battle], database [620 calls, 2 reads, 2 writes]
20.11 19:17:57 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
20.11 19:17:57 READDB: SELECT * FROM Battle WHERE ID = 32
20.11 19:17:57 DB: SELECT name FROM users WHERE id=156
20.11 19:17:57 DB: SELECT name FROM users WHERE id=141
20.11 19:17:57 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => Test5, enemy.id => 141, enemy.name => uid141, id => 156, enemy.num => 2, battleId => 32, player => 1 }, _isNotify => true, id => 156, _type => battle.enemyEvent }
20.11 19:17:57 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 156, enemy.name => Test5, id => 141, enemy.num => 1, battleId => 32, player => 2 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
20.11 19:17:57 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
20.11 19:17:57 TIME: vdl/cache.battle.findRandom : 37.76 ms
20.11 19:17:57 TIMER: Check step...
20.11 19:17:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:17:57 TIMER: Check step: 1ms
20.11 19:18:02 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'156', finished = E'false', endtime = E'1483258.67761552', firstid = E'156', steptime = E'1479778.67761728', params = E'{}', avaliable = E'false' WHERE ID = 32
20.11 19:18:02 TIMER: Check step...
20.11 19:18:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:18:02 TIMER: Check step: 0ms
20.11 19:18:07 TIMER: Check step...
20.11 19:18:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:18:07 TIMER: Check step: 1ms
20.11 19:18:08 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true, _type => core/server.query }
20.11 19:18:08 DB: SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true
20.11 19:18:08 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 30 }, { id => 32 }}, errorCode => ok, _type => core/server.query }
20.11 19:18:08 TIME: core/server.query : 1.02 ms
20.11 19:18:08 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 32, _type => vdl/cache.battle.infoRoom }
20.11 19:18:08 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 156, _type => vdl/cache.battle.infoRoom, turnId => 156 }
20.11 19:18:08 TIME: vdl/cache.battle.infoRoom : 0.13 ms
20.11 19:18:08 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 32, _type => vdl/cache.battle.deleteRoom }
20.11 19:18:08 ROOM: deleted room 32
20.11 19:18:08 DB: DELETE FROM Battle WHERE ID = 32
20.11 19:18:09 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
20.11 19:18:09 TIME: vdl/cache.battle.deleteRoom : 19.87 ms
20.11 19:18:09 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 32, _type => vdl/cache.battle.finishRoom }
20.11 19:18:09 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
20.11 19:18:09 TIME: vdl/cache.battle.finishRoom : 0.17 ms
20.11 19:18:09 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 141, _type => core/cache.update }
20.11 19:18:09 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
20.11 19:18:09 TIME: core/cache.update : 0.15 ms
20.11 19:18:09 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 141, _type => core/cache.update }
20.11 19:18:09 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
20.11 19:18:09 TIME: core/cache.update : 0.14 ms
20.11 19:18:09 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 141, _type => core/user.logoutPost }
20.11 19:18:09 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
20.11 19:18:09 TIME: core/user.logoutPost : 0.12 ms
20.11 19:18:09 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":325,"lastLoadDate":1121},"effects":{"list":[]}}' WHERE ID = 141
20.11 19:18:09 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 141
20.11 19:18:09 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'156', finished = E'true', endtime = E'1483258.67761552', firstid = E'156', steptime = E'1479778.67761728', params = E'{}', avaliable = E'false' WHERE ID = 32
20.11 19:18:12 TIMER: Check step...
20.11 19:18:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:18:12 TIMER: Check step: 1ms
20.11 19:18:17 TIMER: Check step...
20.11 19:18:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
20.11 19:18:17 TIMER: Check step: 0ms
20.11 19:18:19 BLOCKREMOVE: user 141 removed
20.11 19:18:19 BLOCKREMOVE: questdata 141 removed
20.11 19:18:19 BLOCKREMOVE: battle 32 removed
