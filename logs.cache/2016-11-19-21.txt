19.11 21:00:02 TIMER: Check step...
19.11 21:00:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:02 TIMER: Check step: 1ms
19.11 21:00:07 TIMER: Check step...
19.11 21:00:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:07 TIMER: Check step: 0ms
19.11 21:00:12 TIMER: Check step...
19.11 21:00:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:12 TIMER: Check step: 1ms
19.11 21:00:17 TIMER: Check step...
19.11 21:00:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:17 TIMER: Check step: 1ms
19.11 21:00:22 TIMER: Check step...
19.11 21:00:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:22 TIMER: Check step: 0ms
19.11 21:00:27 PENDING: INSERT INTO LogUserOnlineCount (Date, Min, Max, Avg) VALUES (now(), 2, 2, 2)
19.11 21:00:27 TIMER: Clans cache...
19.11 21:00:27 TIMER: Clans cache: 0ms
19.11 21:00:27 TIMER: Check step...
19.11 21:00:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:27 TIMER: Check step: 1ms
19.11 21:00:27 TIMER: Check round...
19.11 21:00:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:00' OR rounddate = '2016-20-11 00:00' AND status <> 'finished'
19.11 21:00:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.42758423' AND avaliable = true AND finished <> true
19.11 21:00:27 TIMER: Check round: 2ms
19.11 21:00:32 TIMER: Check step...
19.11 21:00:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:32 TIMER: Check step: 1ms
19.11 21:00:37 TIMER: Check step...
19.11 21:00:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:37 TIMER: Check step: 1ms
19.11 21:00:42 TIMER: Check step...
19.11 21:00:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:42 TIMER: Check step: 1ms
19.11 21:00:47 TIMER: Check step...
19.11 21:00:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:47 TIMER: Check step: 1ms
19.11 21:00:52 TIMER: Check step...
19.11 21:00:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:52 TIMER: Check step: 1ms
19.11 21:00:57 TIMER: Check step...
19.11 21:00:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:00:57 TIMER: Check step: 1ms
19.11 21:01:02 TIMER: Check step...
19.11 21:01:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:02 TIMER: Check step: 1ms
19.11 21:01:07 TIMER: Check step...
19.11 21:01:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:07 TIMER: Check step: 1ms
19.11 21:01:12 TIMER: Check step...
19.11 21:01:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:12 TIMER: Check step: 1ms
19.11 21:01:17 TIMER: Check step...
19.11 21:01:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:17 TIMER: Check step: 1ms
19.11 21:01:22 TIMER: Check step...
19.11 21:01:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:22 TIMER: Check step: 1ms
19.11 21:01:27 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true, _type => core/server.query }
19.11 21:01:27 DB: SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true
19.11 21:01:27 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 24 }}, errorCode => ok, _type => core/server.query }
19.11 21:01:27 TIME: core/server.query : 1.18 ms
19.11 21:01:27 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 24, _type => vdl/cache.battle.infoRoom }
19.11 21:01:27 STATS: cache [battle], get [22 calls, 15 cache hits, 6 cache misses, 0 same version, 0 not found]
19.11 21:01:27 STATS: cache [battle], segments [36 calls, 29 hits, 6 misses]
19.11 21:01:27 STATS: cache [battle], database [720 calls, 6 reads, 8 writes]
19.11 21:01:27 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:01:27 READDB: SELECT * FROM Battle WHERE ID = 24
19.11 21:01:27 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:01:27 TIME: vdl/cache.battle.infoRoom : 1.53 ms
19.11 21:01:27 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 24, _type => vdl/cache.battle.deleteRoom }
19.11 21:01:27 ROOM: deleted room 24
19.11 21:01:27 DB: DELETE FROM Battle WHERE ID = 24
19.11 21:01:27 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:01:27 TIME: vdl/cache.battle.deleteRoom : 28.93 ms
19.11 21:01:27 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 24, _type => vdl/cache.battle.finishRoom }
19.11 21:01:27 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:01:27 TIME: vdl/cache.battle.finishRoom : 0.09 ms
19.11 21:01:27 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 141, _type => core/cache.update }
19.11 21:01:27 STATS: cache [user], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:01:27 STATS: cache [user], segments [10 calls, 3 hits, 6 misses]
19.11 21:01:27 STATS: cache [user], database [720 calls, 3 reads, 2 writes]
19.11 21:01:27 STATS: cache [user], lock [4 calls, 4 attempts, 1 failures]
19.11 21:01:27 STATS: cache manager [1], get [6 calls, total 0.01 sec spent, avg 1.92 ms]
19.11 21:01:27 STATS: cache manager [1], update [3 calls, total 0 sec spent, avg 0.07 ms]
19.11 21:01:27 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:01:27 TIME: core/cache.update : 0.24 ms
19.11 21:01:27 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 141, _type => core/cache.update }
19.11 21:01:27 STATS: cache [questdata], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:01:27 STATS: cache [questdata], segments [7 calls, 0 hits, 6 misses]
19.11 21:01:27 STATS: cache [questdata], database [720 calls, 3 reads, 0 writes]
19.11 21:01:27 STATS: cache [questdata], lock [3 calls, 3 attempts, 0 failures]
19.11 21:01:27 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:01:27 TIME: core/cache.update : 0.36 ms
19.11 21:01:27 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 141, _type => core/user.logoutPost }
19.11 21:01:27 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:01:27 TIME: core/user.logoutPost : 0.09 ms
19.11 21:01:27 TIMER: Clans cache...
19.11 21:01:27 TIMER: Clans cache: 0ms
19.11 21:01:27 TIMER: Check step...
19.11 21:01:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:27 TIMER: Check step: 1ms
19.11 21:01:27 TIMER: Check round...
19.11 21:01:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:01' OR rounddate = '2016-20-11 00:01' AND status <> 'finished'
19.11 21:01:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.48761263' AND avaliable = true AND finished <> true
19.11 21:01:27 TIMER: Check round: 2ms
19.11 21:01:27 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:01:27 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 141
19.11 21:01:32 TIMER: Check step...
19.11 21:01:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:32 TIMER: Check step: 1ms
19.11 21:01:32 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'true', endtime = E'1483180', firstid = E'140', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 24
19.11 21:01:37 TIMER: Check step...
19.11 21:01:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:37 TIMER: Check step: 1ms
19.11 21:01:37 BLOCKREMOVE: user 141 removed
19.11 21:01:37 BLOCKREMOVE: questdata 141 removed
19.11 21:01:42 TIMER: Check step...
19.11 21:01:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:42 TIMER: Check step: 1ms
19.11 21:01:42 BLOCKREMOVE: battle 24 removed
19.11 21:01:47 TIMER: Check step...
19.11 21:01:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:47 TIMER: Check step: 1ms
19.11 21:01:52 TIMER: Check step...
19.11 21:01:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:52 TIMER: Check step: 1ms
19.11 21:01:57 TIMER: Check step...
19.11 21:01:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:01:57 TIMER: Check step: 1ms
19.11 21:02:02 TIMER: Check step...
19.11 21:02:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:02 TIMER: Check step: 1ms
19.11 21:02:07 TIMER: Check step...
19.11 21:02:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:07 TIMER: Check step: 0ms
19.11 21:02:12 TIMER: Check step...
19.11 21:02:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:12 TIMER: Check step: 1ms
19.11 21:02:17 TIMER: Check step...
19.11 21:02:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:17 TIMER: Check step: 1ms
19.11 21:02:22 TIMER: Check step...
19.11 21:02:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:22 TIMER: Check step: 1ms
19.11 21:02:27 TIMER: Clans cache...
19.11 21:02:27 TIMER: Clans cache: 0ms
19.11 21:02:27 TIMER: Check step...
19.11 21:02:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:27 TIMER: Check step: 0ms
19.11 21:02:27 TIMER: Check round...
19.11 21:02:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:02' OR rounddate = '2016-20-11 00:02' AND status <> 'finished'
19.11 21:02:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.54764072' AND avaliable = true AND finished <> true
19.11 21:02:27 TIMER: Check round: 1ms
19.11 21:02:32 TIMER: Check step...
19.11 21:02:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:32 TIMER: Check step: 1ms
19.11 21:02:37 TIMER: Check step...
19.11 21:02:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:37 TIMER: Check step: 0ms
19.11 21:02:42 TIMER: Check step...
19.11 21:02:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:42 TIMER: Check step: 1ms
19.11 21:02:47 TIMER: Check step...
19.11 21:02:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:47 TIMER: Check step: 1ms
19.11 21:02:52 TIMER: Check step...
19.11 21:02:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:52 TIMER: Check step: 1ms
19.11 21:02:57 TIMER: Check step...
19.11 21:02:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:02:57 TIMER: Check step: 1ms
19.11 21:03:02 TIMER: Check step...
19.11 21:03:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:02 TIMER: Check step: 1ms
19.11 21:03:07 TIMER: Check step...
19.11 21:03:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:07 TIMER: Check step: 0ms
19.11 21:03:12 TIMER: Check step...
19.11 21:03:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:12 TIMER: Check step: 1ms
19.11 21:03:17 TIMER: Check step...
19.11 21:03:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:17 TIMER: Check step: 1ms
19.11 21:03:22 TIMER: Check step...
19.11 21:03:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:22 TIMER: Check step: 1ms
19.11 21:03:27 TIMER: Clans cache...
19.11 21:03:27 TIMER: Clans cache: 0ms
19.11 21:03:27 TIMER: Check step...
19.11 21:03:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:27 TIMER: Check step: 0ms
19.11 21:03:27 TIMER: Check round...
19.11 21:03:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:03' OR rounddate = '2016-20-11 00:03' AND status <> 'finished'
19.11 21:03:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.60766704' AND avaliable = true AND finished <> true
19.11 21:03:27 TIMER: Check round: 2ms
19.11 21:03:32 TIMER: Check step...
19.11 21:03:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:32 TIMER: Check step: 1ms
19.11 21:03:37 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true, _type => core/server.query }
19.11 21:03:37 DB: SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true
19.11 21:03:37 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 18 }, { id => 22 }, { id => 23 }}, errorCode => ok, _type => core/server.query }
19.11 21:03:37 TIME: core/server.query : 1.29 ms
19.11 21:03:37 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 23, _type => vdl/cache.battle.infoRoom }
19.11 21:03:37 STATS: cache [battle], get [24 calls, 16 cache hits, 7 cache misses, 0 same version, 0 not found]
19.11 21:03:37 STATS: cache [battle], segments [40 calls, 32 hits, 7 misses]
19.11 21:03:37 STATS: cache [battle], database [850 calls, 7 reads, 9 writes]
19.11 21:03:37 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:03:37 READDB: SELECT * FROM Battle WHERE ID = 23
19.11 21:03:37 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:03:37 TIME: vdl/cache.battle.infoRoom : 1.76 ms
19.11 21:03:37 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 23, _type => vdl/cache.battle.deleteRoom }
19.11 21:03:37 ROOM: deleted room 23
19.11 21:03:37 DB: DELETE FROM Battle WHERE ID = 23
19.11 21:03:37 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:03:37 TIME: vdl/cache.battle.deleteRoom : 21.53 ms
19.11 21:03:37 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 23, _type => vdl/cache.battle.finishRoom }
19.11 21:03:37 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:03:37 TIME: vdl/cache.battle.finishRoom : 0.16 ms
19.11 21:03:37 NET: vdl.0 (thread) request core/user.sendTo { id => 141, _type => core/user.sendTo, msg => { _type => battle.leave } }
19.11 21:03:37 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
19.11 21:03:37 TIME: core/user.sendTo : 0.06 ms
19.11 21:03:37 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 140, _type => core/cache.update }
19.11 21:03:37 STATS: cache [user], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:03:37 STATS: cache [user], segments [12 calls, 5 hits, 6 misses]
19.11 21:03:37 STATS: cache [user], database [850 calls, 3 reads, 3 writes]
19.11 21:03:37 STATS: cache [user], lock [4 calls, 4 attempts, 1 failures]
19.11 21:03:37 STATS: cache manager [1], get [6 calls, total 0.01 sec spent, avg 1.92 ms]
19.11 21:03:37 STATS: cache manager [1], update [5 calls, total 0 sec spent, avg 0.12 ms]
19.11 21:03:37 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:03:37 TIME: core/cache.update : 0.27 ms
19.11 21:03:37 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 140, _type => core/cache.update }
19.11 21:03:37 STATS: cache [questdata], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:03:37 STATS: cache [questdata], segments [9 calls, 2 hits, 6 misses]
19.11 21:03:37 STATS: cache [questdata], database [850 calls, 3 reads, 1 writes]
19.11 21:03:37 STATS: cache [questdata], lock [3 calls, 3 attempts, 0 failures]
19.11 21:03:37 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:03:37 TIME: core/cache.update : 0.29 ms
19.11 21:03:37 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 140, _type => core/user.logoutPost }
19.11 21:03:37 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:03:37 TIME: core/user.logoutPost : 0.11 ms
19.11 21:03:37 TIMER: Check step...
19.11 21:03:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:37 TIMER: Check step: 0ms
19.11 21:03:37 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:03:37 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 140
19.11 21:03:42 TIMER: Check step...
19.11 21:03:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:42 TIMER: Check step: 1ms
19.11 21:03:42 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'141', finished = E'true', endtime = E'1483180', firstid = E'140', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 23
19.11 21:03:45 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140', _type => core/server.query }
19.11 21:03:45 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140'
19.11 21:03:45 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid140, networkid => , isbanned => false, id => 140 }}, errorCode => ok, _type => core/server.query }
19.11 21:03:45 TIME: core/server.query : 1.82 ms
19.11 21:03:45 NET: vdl.0 (thread) request core/user.isOnlineID { id => 140, _type => core/user.isOnlineID }
19.11 21:03:45 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:03:45 TIME: core/user.isOnlineID : 0.14 ms
19.11 21:03:45 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 140, _type => core/cache.get }
19.11 21:03:45 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid140, deleted => false, email => , networktype =>   , password => uid140, isbanned => false, regdate => 2016-11-19 17:25:00.661+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479567029, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 2, id => 140 } }
19.11 21:03:45 TIME: core/cache.get : 0.5 ms
19.11 21:03:45 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 140, _type => core/cache.get }
19.11 21:03:45 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 140 } }
19.11 21:03:45 TIME: core/cache.get : 0.26 ms
19.11 21:03:45 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 140, _type => core/user.loginPost, ipAddr => 172.16.30.15 }
19.11 21:03:45 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:03:45 TIME: core/user.loginPost : 0.16 ms
19.11 21:03:47 TIMER: Check step...
19.11 21:03:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:47 TIMER: Check step: 1ms
19.11 21:03:52 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 140, _type => core/cache.update }
19.11 21:03:52 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
19.11 21:03:52 TIME: core/cache.update : 0.25 ms
19.11 21:03:52 TIMER: Check step...
19.11 21:03:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:52 TIMER: Check step: 0ms
19.11 21:03:52 BLOCKREMOVE: battle 23 removed
19.11 21:03:52 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:03:57 TIMER: Check step...
19.11 21:03:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:03:57 TIMER: Check step: 0ms
19.11 21:03:58 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141', _type => core/server.query }
19.11 21:03:58 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141'
19.11 21:03:58 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid141, networkid => , isbanned => false, id => 141 }}, errorCode => ok, _type => core/server.query }
19.11 21:03:58 TIME: core/server.query : 1.31 ms
19.11 21:03:58 NET: vdl.0 (thread) request core/user.isOnlineID { id => 141, _type => core/user.isOnlineID }
19.11 21:03:58 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:03:58 TIME: core/user.isOnlineID : 0.1 ms
19.11 21:03:58 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 141, _type => core/cache.get }
19.11 21:03:58 READDB: SELECT * FROM Users WHERE ID = 141
19.11 21:03:58 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid141, deleted => false, email => , networktype =>   , password => uid141, isbanned => false, regdate => 2016-11-19 20:20:05.55314+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479576158, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 0, id => 141 } }
19.11 21:03:58 TIME: core/cache.get : 1.93 ms
19.11 21:03:58 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 141, _type => core/cache.get }
19.11 21:03:58 READDB: SELECT * FROM UserQuests WHERE ID = 141
19.11 21:03:58 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 141 } }
19.11 21:03:58 TIME: core/cache.get : 1.61 ms
19.11 21:03:58 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 141, _type => core/user.loginPost, ipAddr => 172.16.20.65 }
19.11 21:03:58 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:03:58 TIME: core/user.loginPost : 0.11 ms
19.11 21:04:02 TIMER: Check step...
19.11 21:04:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:02 TIMER: Check step: 1ms
19.11 21:04:03 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 140 }, _type => vdl/cache.battle.findRandom }
19.11 21:04:03 DB: SELECT nextval('Battle_id_seq') AS id
19.11 21:04:03 READDB: SELECT ID FROM Battle WHERE ID = 25
19.11 21:04:03 READDB: INSERT INTO Battle (ID) VALUES (25)
19.11 21:04:03 READDB: SELECT * FROM Battle WHERE ID = 25
19.11 21:04:03 DB: SELECT name FROM users WHERE id=140
19.11 21:04:03 DB: SELECT name FROM users WHERE id=141
19.11 21:04:03 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid140, enemy.id => 141, enemy.name => uid141, id => 140, enemy.num => 2, battleId => 25, player => 1 }, _isNotify => true, id => 140, _type => battle.enemyEvent }
19.11 21:04:03 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 140, enemy.name => uid140, id => 141, enemy.num => 1, battleId => 25, player => 2 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
19.11 21:04:03 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:04:03 TIME: vdl/cache.battle.findRandom : 38.86 ms
19.11 21:04:07 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 141, _type => core/cache.update }
19.11 21:04:07 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:04:07 TIME: core/cache.update : 0.19 ms
19.11 21:04:07 TIMER: Check step...
19.11 21:04:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:07 TIMER: Check step: 1ms
19.11 21:04:07 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:04:08 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'false', endtime = E'1483178.64382487', firstid = E'140', steptime = E'1479698.64382637', params = E'{}', avaliable = E'false' WHERE ID = 25
19.11 21:04:12 TIMER: Check step...
19.11 21:04:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:12 TIMER: Check step: 1ms
19.11 21:04:17 TIMER: Check step...
19.11 21:04:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:17 TIMER: Check step: 1ms
19.11 21:04:17 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 25, _type => vdl/cache.battle.infoRoom }
19.11 21:04:17 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:04:17 TIME: vdl/cache.battle.infoRoom : 0.17 ms
19.11 21:04:17 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 25, _type => vdl/cache.battle.finishRoom }
19.11 21:04:17 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:04:17 TIME: vdl/cache.battle.finishRoom : 0.15 ms
19.11 21:04:17 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'true', endtime = E'1483178.64382487', firstid = E'140', steptime = E'1479698.64382637', params = E'{}', avaliable = E'false' WHERE ID = 25
19.11 21:04:22 TIMER: Check step...
19.11 21:04:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:22 TIMER: Check step: 1ms
19.11 21:04:22 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
19.11 21:04:22 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:04:22 TIME: vdl/cache.battle.findRandom : 0.15 ms
19.11 21:04:25 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 140 }, _type => vdl/cache.battle.findRandom }
19.11 21:04:25 DB: SELECT nextval('Battle_id_seq') AS id
19.11 21:04:25 READDB: SELECT ID FROM Battle WHERE ID = 26
19.11 21:04:25 READDB: INSERT INTO Battle (ID) VALUES (26)
19.11 21:04:25 READDB: SELECT * FROM Battle WHERE ID = 26
19.11 21:04:25 DB: SELECT name FROM users WHERE id=140
19.11 21:04:25 DB: SELECT name FROM users WHERE id=141
19.11 21:04:25 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid140, enemy.id => 141, enemy.name => uid141, id => 140, enemy.num => 2, battleId => 26, player => 1 }, _isNotify => true, id => 140, _type => battle.enemyEvent }
19.11 21:04:25 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 140, enemy.name => uid140, id => 141, enemy.num => 1, battleId => 26, player => 2 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
19.11 21:04:25 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:04:25 TIME: vdl/cache.battle.findRandom : 26.6 ms
19.11 21:04:27 TIMER: Clans cache...
19.11 21:04:27 TIMER: Clans cache: 0ms
19.11 21:04:27 TIMER: Check step...
19.11 21:04:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:27 TIMER: Check step: 1ms
19.11 21:04:27 TIMER: Check round...
19.11 21:04:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:04' OR rounddate = '2016-20-11 00:04' AND status <> 'finished'
19.11 21:04:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.66769594' AND avaliable = true AND finished <> true
19.11 21:04:27 TIMER: Check round: 1ms
19.11 21:04:27 BLOCKREMOVE: battle 25 removed
19.11 21:04:30 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'false', endtime = E'1483178.66532437', firstid = E'140', steptime = E'1479698.66532611', params = E'{}', avaliable = E'false' WHERE ID = 26
19.11 21:04:31 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 26, _type => vdl/cache.battle.infoRoom }
19.11 21:04:31 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:04:31 TIME: vdl/cache.battle.infoRoom : 0.17 ms
19.11 21:04:32 TIMER: Check step...
19.11 21:04:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:32 TIMER: Check step: 0ms
19.11 21:04:37 TIMER: Check step...
19.11 21:04:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:37 TIMER: Check step: 1ms
19.11 21:04:41 BLOCKREMOVE: battle 26 removed
19.11 21:04:42 TIMER: Check step...
19.11 21:04:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:42 TIMER: Check step: 1ms
19.11 21:04:47 TIMER: Check step...
19.11 21:04:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:47 TIMER: Check step: 1ms
19.11 21:04:51 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 26, _type => vdl/cache.battle.infoRoom }
19.11 21:04:51 STATS: cache [battle], get [33 calls, 22 cache hits, 10 cache misses, 0 same version, 0 not found]
19.11 21:04:51 STATS: cache [battle], segments [58 calls, 47 hits, 10 misses]
19.11 21:04:51 STATS: cache [battle], database [925 calls, 10 reads, 13 writes]
19.11 21:04:51 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:04:51 READDB: SELECT * FROM Battle WHERE ID = 26
19.11 21:04:51 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:04:51 TIME: vdl/cache.battle.infoRoom : 1.6 ms
19.11 21:04:51 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 26, _type => vdl/cache.battle.finishRoom }
19.11 21:04:51 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:04:51 TIME: vdl/cache.battle.finishRoom : 0.14 ms
19.11 21:04:52 TIMER: Check step...
19.11 21:04:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:52 TIMER: Check step: 1ms
19.11 21:04:57 TIMER: Check step...
19.11 21:04:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:04:57 TIMER: Check step: 1ms
19.11 21:04:57 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'true', endtime = E'1483180', firstid = E'140', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 26
19.11 21:05:02 TIMER: Check step...
19.11 21:05:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:02 TIMER: Check step: 1ms
19.11 21:05:07 TIMER: Check step...
19.11 21:05:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:07 TIMER: Check step: 0ms
19.11 21:05:07 BLOCKREMOVE: battle 26 removed
19.11 21:05:12 TIMER: Check step...
19.11 21:05:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:12 TIMER: Check step: 0ms
19.11 21:05:17 TIMER: Check step...
19.11 21:05:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:17 TIMER: Check step: 1ms
19.11 21:05:22 TIMER: Check step...
19.11 21:05:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:22 TIMER: Check step: 2ms
19.11 21:05:27 TIMER: Clans cache...
19.11 21:05:27 TIMER: Clans cache: 0ms
19.11 21:05:27 TIMER: Check step...
19.11 21:05:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:27 TIMER: Check step: 1ms
19.11 21:05:27 TIMER: Check round...
19.11 21:05:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:05' OR rounddate = '2016-20-11 00:05' AND status <> 'finished'
19.11 21:05:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.72772456' AND avaliable = true AND finished <> true
19.11 21:05:27 TIMER: Check round: 2ms
19.11 21:05:32 TIMER: Check step...
19.11 21:05:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:32 TIMER: Check step: 1ms
19.11 21:05:37 TIMER: Check step...
19.11 21:05:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:37 TIMER: Check step: 1ms
19.11 21:05:42 TIMER: Check step...
19.11 21:05:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:42 TIMER: Check step: 1ms
19.11 21:05:47 TIMER: Check step...
19.11 21:05:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:47 TIMER: Check step: 1ms
19.11 21:05:52 TIMER: Check step...
19.11 21:05:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:52 TIMER: Check step: 1ms
19.11 21:05:57 TIMER: Check step...
19.11 21:05:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:05:57 TIMER: Check step: 1ms
19.11 21:06:02 TIMER: Check step...
19.11 21:06:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:02 TIMER: Check step: 0ms
19.11 21:06:07 TIMER: Check step...
19.11 21:06:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:07 TIMER: Check step: 1ms
19.11 21:06:12 TIMER: Check step...
19.11 21:06:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:12 TIMER: Check step: 1ms
19.11 21:06:17 TIMER: Check step...
19.11 21:06:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:17 TIMER: Check step: 1ms
19.11 21:06:22 TIMER: Check step...
19.11 21:06:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:22 TIMER: Check step: 1ms
19.11 21:06:27 TIMER: Clans cache...
19.11 21:06:27 TIMER: Clans cache: 0ms
19.11 21:06:27 TIMER: Check step...
19.11 21:06:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:27 TIMER: Check step: 1ms
19.11 21:06:27 TIMER: Check round...
19.11 21:06:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:06' OR rounddate = '2016-20-11 00:06' AND status <> 'finished'
19.11 21:06:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.78775286' AND avaliable = true AND finished <> true
19.11 21:06:27 TIMER: Check round: 2ms
19.11 21:06:32 TIMER: Check step...
19.11 21:06:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:32 TIMER: Check step: 0ms
19.11 21:06:37 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true, _type => core/server.query }
19.11 21:06:37 DB: SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true
19.11 21:06:37 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 18 }, { id => 22 }, { id => 25 }, { id => 26 }}, errorCode => ok, _type => core/server.query }
19.11 21:06:37 TIME: core/server.query : 1.44 ms
19.11 21:06:37 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 26, _type => vdl/cache.battle.infoRoom }
19.11 21:06:37 STATS: cache [battle], get [35 calls, 23 cache hits, 11 cache misses, 0 same version, 0 not found]
19.11 21:06:37 STATS: cache [battle], segments [61 calls, 49 hits, 11 misses]
19.11 21:06:37 STATS: cache [battle], database [1030 calls, 11 reads, 14 writes]
19.11 21:06:37 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:06:37 READDB: SELECT * FROM Battle WHERE ID = 26
19.11 21:06:37 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:06:37 TIME: vdl/cache.battle.infoRoom : 1.88 ms
19.11 21:06:37 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 26, _type => vdl/cache.battle.deleteRoom }
19.11 21:06:37 ROOM: deleted room 26
19.11 21:06:37 DB: DELETE FROM Battle WHERE ID = 26
19.11 21:06:37 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:06:37 TIME: vdl/cache.battle.deleteRoom : 26.93 ms
19.11 21:06:37 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 26, _type => vdl/cache.battle.finishRoom }
19.11 21:06:37 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:06:37 TIME: vdl/cache.battle.finishRoom : 0.18 ms
19.11 21:06:37 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 140, _type => core/cache.update }
19.11 21:06:37 STATS: cache [user], get [5 calls, 1 cache hits, 4 cache misses, 0 same version, 0 not found]
19.11 21:06:37 STATS: cache [user], segments [20 calls, 11 hits, 8 misses]
19.11 21:06:37 STATS: cache [user], database [1030 calls, 4 reads, 6 writes]
19.11 21:06:37 STATS: cache [user], lock [6 calls, 6 attempts, 1 failures]
19.11 21:06:37 STATS: cache manager [1], get [10 calls, total 0.01 sec spent, avg 1.46 ms]
19.11 21:06:37 STATS: cache manager [1], update [9 calls, total 0 sec spent, avg 0.14 ms]
19.11 21:06:37 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 4, _type => core/cache.update }
19.11 21:06:37 TIME: core/cache.update : 0.74 ms
19.11 21:06:37 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 140, _type => core/cache.update }
19.11 21:06:37 STATS: cache [questdata], get [5 calls, 1 cache hits, 4 cache misses, 0 same version, 0 not found]
19.11 21:06:37 STATS: cache [questdata], segments [15 calls, 6 hits, 8 misses]
19.11 21:06:37 STATS: cache [questdata], database [1030 calls, 4 reads, 2 writes]
19.11 21:06:37 STATS: cache [questdata], lock [5 calls, 5 attempts, 0 failures]
19.11 21:06:37 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:06:37 TIME: core/cache.update : 0.6 ms
19.11 21:06:37 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 140, _type => core/user.logoutPost }
19.11 21:06:37 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:06:37 TIME: core/user.logoutPost : 0.41 ms
19.11 21:06:37 TIMER: Check step...
19.11 21:06:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:37 TIMER: Check step: 0ms
19.11 21:06:37 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:06:37 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 140
19.11 21:06:41 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140', _type => core/server.query }
19.11 21:06:41 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140'
19.11 21:06:41 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid140, networkid => , isbanned => false, id => 140 }}, errorCode => ok, _type => core/server.query }
19.11 21:06:41 TIME: core/server.query : 1.54 ms
19.11 21:06:41 NET: vdl.0 (thread) request core/user.isOnlineID { id => 140, _type => core/user.isOnlineID }
19.11 21:06:41 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:06:41 TIME: core/user.isOnlineID : 0.11 ms
19.11 21:06:41 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 140, _type => core/cache.get }
19.11 21:06:41 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid140, deleted => false, email => , networktype =>   , password => uid140, isbanned => false, regdate => 2016-11-19 17:25:00.661+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479567029, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 4, id => 140 } }
19.11 21:06:41 TIME: core/cache.get : 0.47 ms
19.11 21:06:41 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 140, _type => core/cache.get }
19.11 21:06:41 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 2, id => 140 } }
19.11 21:06:41 TIME: core/cache.get : 0.31 ms
19.11 21:06:41 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 140, _type => core/user.loginPost, ipAddr => 172.16.30.15 }
19.11 21:06:41 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:06:41 TIME: core/user.loginPost : 0.11 ms
19.11 21:06:42 TIMER: Check step...
19.11 21:06:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:42 TIMER: Check step: 1ms
19.11 21:06:42 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'true', endtime = E'1483180', firstid = E'140', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 26
19.11 21:06:47 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 140, _type => core/cache.update }
19.11 21:06:47 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 5, _type => core/cache.update }
19.11 21:06:47 TIME: core/cache.update : 0.1 ms
19.11 21:06:47 TIMER: Check step...
19.11 21:06:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:47 TIMER: Check step: 0ms
19.11 21:06:47 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:06:52 TIMER: Check step...
19.11 21:06:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:52 TIMER: Check step: 1ms
19.11 21:06:53 BLOCKREMOVE: battle 26 removed
19.11 21:06:57 TIMER: Check step...
19.11 21:06:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:06:57 TIMER: Check step: 0ms
19.11 21:07:02 TIMER: Check step...
19.11 21:07:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:02 TIMER: Check step: 1ms
19.11 21:07:07 TIMER: Check step...
19.11 21:07:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:07 TIMER: Check step: 1ms
19.11 21:07:12 TIMER: Check step...
19.11 21:07:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:12 TIMER: Check step: 1ms
19.11 21:07:17 TIMER: Check step...
19.11 21:07:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:17 TIMER: Check step: 0ms
19.11 21:07:22 TIMER: Check step...
19.11 21:07:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:22 TIMER: Check step: 1ms
19.11 21:07:27 TIMER: Clans cache...
19.11 21:07:27 TIMER: Clans cache: 0ms
19.11 21:07:27 TIMER: Check step...
19.11 21:07:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:27 TIMER: Check step: 1ms
19.11 21:07:27 TIMER: Check round...
19.11 21:07:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:07' OR rounddate = '2016-20-11 00:07' AND status <> 'finished'
19.11 21:07:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.84778019' AND avaliable = true AND finished <> true
19.11 21:07:27 TIMER: Check round: 2ms
19.11 21:07:32 TIMER: Check step...
19.11 21:07:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:32 TIMER: Check step: 0ms
19.11 21:07:37 TIMER: Check step...
19.11 21:07:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:37 TIMER: Check step: 1ms
19.11 21:07:42 TIMER: Check step...
19.11 21:07:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:42 TIMER: Check step: 0ms
19.11 21:07:47 TIMER: Check step...
19.11 21:07:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:47 TIMER: Check step: 0ms
19.11 21:07:52 TIMER: Check step...
19.11 21:07:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:52 TIMER: Check step: 1ms
19.11 21:07:57 TIMER: Check step...
19.11 21:07:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:07:57 TIMER: Check step: 1ms
19.11 21:08:02 TIMER: Check step...
19.11 21:08:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:02 TIMER: Check step: 1ms
19.11 21:08:07 TIMER: Check step...
19.11 21:08:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:07 TIMER: Check step: 1ms
19.11 21:08:12 TIMER: Check step...
19.11 21:08:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:12 TIMER: Check step: 0ms
19.11 21:08:17 TIMER: Check step...
19.11 21:08:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:17 TIMER: Check step: 1ms
19.11 21:08:22 TIMER: Check step...
19.11 21:08:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:22 TIMER: Check step: 1ms
19.11 21:08:27 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true, _type => core/server.query }
19.11 21:08:27 DB: SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true
19.11 21:08:27 QUEUE: vdl.0 (thread) response core/server.query { list => {}, errorCode => ok, _type => core/server.query }
19.11 21:08:27 TIME: core/server.query : 1.3 ms
19.11 21:08:27 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 0, _type => vdl/cache.battle.infoRoom }
19.11 21:08:27 STATS: cache [battle], get [37 calls, 24 cache hits, 12 cache misses, 0 same version, 0 not found]
19.11 21:08:27 STATS: cache [battle], segments [65 calls, 52 hits, 12 misses]
19.11 21:08:27 STATS: cache [battle], database [1140 calls, 12 reads, 15 writes]
19.11 21:08:27 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:08:27 READDB: SELECT * FROM Battle WHERE ID = 0
19.11 21:08:27 TRACE: vdl/cache.battle.infoRoom : Invalid field access : get
19.11 21:08:27 TRACE: vdl/cache.battle.infoRoom : 
Called from modules/VDLCache.hx line 216
Called from modules/VDLCache.hx line 209
Called from modules/VDLCache.hx line 146
Called from snipe/cache/CacheServer.hx line 487
19.11 21:08:27 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { errorCode => _requestException, _type => vdl/cache.battle.infoRoom }
19.11 21:08:27 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 141, _type => core/cache.update }
19.11 21:08:27 STATS: cache [user], get [6 calls, 2 cache hits, 4 cache misses, 0 same version, 0 not found]
19.11 21:08:27 STATS: cache [user], segments [25 calls, 16 hits, 8 misses]
19.11 21:08:27 STATS: cache [user], database [1140 calls, 4 reads, 8 writes]
19.11 21:08:27 STATS: cache [user], lock [7 calls, 7 attempts, 1 failures]
19.11 21:08:27 STATS: cache manager [1], get [12 calls, total 0.01 sec spent, avg 1.22 ms]
19.11 21:08:27 STATS: cache manager [1], update [12 calls, total 0 sec spent, avg 0.17 ms]
19.11 21:08:27 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:08:27 TIME: core/cache.update : 0.78 ms
19.11 21:08:27 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 141, _type => core/cache.update }
19.11 21:08:27 STATS: cache [questdata], get [6 calls, 2 cache hits, 4 cache misses, 0 same version, 0 not found]
19.11 21:08:27 STATS: cache [questdata], segments [19 calls, 10 hits, 8 misses]
19.11 21:08:27 STATS: cache [questdata], database [1140 calls, 4 reads, 3 writes]
19.11 21:08:27 STATS: cache [questdata], lock [6 calls, 6 attempts, 0 failures]
19.11 21:08:27 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:08:27 TIME: core/cache.update : 0.56 ms
19.11 21:08:27 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 141, _type => core/user.logoutPost }
19.11 21:08:27 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:08:27 TIME: core/user.logoutPost : 0.31 ms
19.11 21:08:27 TIMER: Clans cache...
19.11 21:08:27 TIMER: Clans cache: 0ms
19.11 21:08:27 TIMER: Check step...
19.11 21:08:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:27 TIMER: Check step: 1ms
19.11 21:08:27 TIMER: Check round...
19.11 21:08:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:08' OR rounddate = '2016-20-11 00:08' AND status <> 'finished'
19.11 21:08:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.90780878' AND avaliable = true AND finished <> true
19.11 21:08:27 TIMER: Check round: 2ms
19.11 21:08:28 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:08:28 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 141
19.11 21:08:32 TIMER: Check step...
19.11 21:08:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:32 TIMER: Check step: 1ms
19.11 21:08:37 TIMER: Check step...
19.11 21:08:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:37 TIMER: Check step: 1ms
19.11 21:08:38 BLOCKREMOVE: user 141 removed
19.11 21:08:38 BLOCKREMOVE: questdata 141 removed
19.11 21:08:42 TIMER: Check step...
19.11 21:08:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:42 TIMER: Check step: 1ms
19.11 21:08:47 TIMER: Check step...
19.11 21:08:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:47 TIMER: Check step: 1ms
19.11 21:08:52 TIMER: Check step...
19.11 21:08:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:52 TIMER: Check step: 1ms
19.11 21:08:57 TIMER: Check step...
19.11 21:08:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:08:57 TIMER: Check step: 1ms
19.11 21:09:02 TIMER: Check step...
19.11 21:09:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:02 TIMER: Check step: 1ms
19.11 21:09:07 TIMER: Check step...
19.11 21:09:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:07 TIMER: Check step: 1ms
19.11 21:09:12 TIMER: Check step...
19.11 21:09:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:12 TIMER: Check step: 1ms
19.11 21:09:17 TIMER: Check step...
19.11 21:09:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:17 TIMER: Check step: 1ms
19.11 21:09:22 TIMER: Check step...
19.11 21:09:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:22 TIMER: Check step: 0ms
19.11 21:09:27 TIMER: Clans cache...
19.11 21:09:27 TIMER: Clans cache: 0ms
19.11 21:09:27 TIMER: Check step...
19.11 21:09:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:27 TIMER: Check step: 0ms
19.11 21:09:27 TIMER: Check round...
19.11 21:09:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:09' OR rounddate = '2016-20-11 00:09' AND status <> 'finished'
19.11 21:09:27 DB: SELECT * FROM battle WHERE endtime >= '1479578.96783522' AND avaliable = true AND finished <> true
19.11 21:09:27 TIMER: Check round: 1ms
19.11 21:09:32 TIMER: Check step...
19.11 21:09:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:32 TIMER: Check step: 0ms
19.11 21:09:37 TIMER: Check step...
19.11 21:09:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:37 TIMER: Check step: 1ms
19.11 21:09:42 TIMER: Check step...
19.11 21:09:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:42 TIMER: Check step: 1ms
19.11 21:09:47 TIMER: Check step...
19.11 21:09:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:47 TIMER: Check step: 1ms
19.11 21:09:52 TIMER: Check step...
19.11 21:09:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:52 TIMER: Check step: 1ms
19.11 21:09:57 TIMER: Check step...
19.11 21:09:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:09:57 TIMER: Check step: 0ms
19.11 21:10:02 TIMER: Check step...
19.11 21:10:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:02 TIMER: Check step: 0ms
19.11 21:10:07 TIMER: Check step...
19.11 21:10:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:07 TIMER: Check step: 1ms
19.11 21:10:12 TIMER: Check step...
19.11 21:10:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:12 TIMER: Check step: 0ms
19.11 21:10:17 TIMER: Check step...
19.11 21:10:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:17 TIMER: Check step: 1ms
19.11 21:10:22 TIMER: Check step...
19.11 21:10:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:22 TIMER: Check step: 1ms
19.11 21:10:27 TIMER: Clans cache...
19.11 21:10:27 TIMER: Clans cache: 0ms
19.11 21:10:27 TIMER: Check step...
19.11 21:10:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:27 TIMER: Check step: 1ms
19.11 21:10:27 TIMER: Check round...
19.11 21:10:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:10' OR rounddate = '2016-20-11 00:10' AND status <> 'finished'
19.11 21:10:27 DB: SELECT * FROM battle WHERE endtime >= '1479579.0278653' AND avaliable = true AND finished <> true
19.11 21:10:27 TIMER: Check round: 2ms
19.11 21:10:32 TIMER: Check step...
19.11 21:10:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:32 TIMER: Check step: 0ms
19.11 21:10:37 TIMER: Check step...
19.11 21:10:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:37 TIMER: Check step: 1ms
19.11 21:10:42 TIMER: Check step...
19.11 21:10:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:42 TIMER: Check step: 1ms
19.11 21:10:47 TIMER: Check step...
19.11 21:10:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:47 TIMER: Check step: 1ms
19.11 21:10:52 TIMER: Check step...
19.11 21:10:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:52 TIMER: Check step: 1ms
19.11 21:10:57 TIMER: Check step...
19.11 21:10:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:10:57 TIMER: Check step: 1ms
19.11 21:11:02 TIMER: Check step...
19.11 21:11:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:02 TIMER: Check step: 0ms
19.11 21:11:07 TIMER: Check step...
19.11 21:11:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:07 TIMER: Check step: 1ms
19.11 21:11:12 TIMER: Check step...
19.11 21:11:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:12 TIMER: Check step: 1ms
19.11 21:11:17 TIMER: Check step...
19.11 21:11:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:17 TIMER: Check step: 1ms
19.11 21:11:22 TIMER: Check step...
19.11 21:11:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:22 TIMER: Check step: 0ms
19.11 21:11:27 TIMER: Clans cache...
19.11 21:11:27 TIMER: Clans cache: 0ms
19.11 21:11:27 TIMER: Check step...
19.11 21:11:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:27 TIMER: Check step: 1ms
19.11 21:11:27 TIMER: Check round...
19.11 21:11:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:11' OR rounddate = '2016-20-11 00:11' AND status <> 'finished'
19.11 21:11:27 DB: SELECT * FROM battle WHERE endtime >= '1479579.08789321' AND avaliable = true AND finished <> true
19.11 21:11:27 TIMER: Check round: 1ms
19.11 21:11:32 TIMER: Check step...
19.11 21:11:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:32 TIMER: Check step: 0ms
19.11 21:11:37 TIMER: Check step...
19.11 21:11:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:37 TIMER: Check step: 1ms
19.11 21:11:42 TIMER: Check step...
19.11 21:11:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:42 TIMER: Check step: 1ms
19.11 21:11:47 TIMER: Check step...
19.11 21:11:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:47 TIMER: Check step: 0ms
19.11 21:11:52 TIMER: Check step...
19.11 21:11:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:52 TIMER: Check step: 0ms
19.11 21:11:57 TIMER: Check step...
19.11 21:11:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:11:57 TIMER: Check step: 1ms
19.11 21:12:02 TIMER: Check step...
19.11 21:12:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:02 TIMER: Check step: 1ms
19.11 21:12:07 TIMER: Check step...
19.11 21:12:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:07 TIMER: Check step: 0ms
19.11 21:12:12 TIMER: Check step...
19.11 21:12:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:12 TIMER: Check step: 1ms
19.11 21:12:17 TIMER: Check step...
19.11 21:12:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:17 TIMER: Check step: 1ms
19.11 21:12:22 TIMER: Check step...
19.11 21:12:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:22 TIMER: Check step: 1ms
19.11 21:12:27 TIMER: Clans cache...
19.11 21:12:27 TIMER: Clans cache: 0ms
19.11 21:12:27 TIMER: Check step...
19.11 21:12:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:27 TIMER: Check step: 1ms
19.11 21:12:27 TIMER: Check round...
19.11 21:12:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:12' OR rounddate = '2016-20-11 00:12' AND status <> 'finished'
19.11 21:12:27 DB: SELECT * FROM battle WHERE endtime >= '1479579.14791984' AND avaliable = true AND finished <> true
19.11 21:12:27 TIMER: Check round: 1ms
19.11 21:12:32 TIMER: Check step...
19.11 21:12:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:32 TIMER: Check step: 1ms
19.11 21:12:37 TIMER: Check step...
19.11 21:12:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:37 TIMER: Check step: 1ms
19.11 21:12:42 TIMER: Check step...
19.11 21:12:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:42 TIMER: Check step: 1ms
19.11 21:12:47 TIMER: Check step...
19.11 21:12:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:47 TIMER: Check step: 1ms
19.11 21:12:52 TIMER: Check step...
19.11 21:12:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:52 TIMER: Check step: 1ms
19.11 21:12:57 TIMER: Check step...
19.11 21:12:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:12:57 TIMER: Check step: 0ms
19.11 21:13:02 TIMER: Check step...
19.11 21:13:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:02 TIMER: Check step: 1ms
19.11 21:13:07 TIMER: Check step...
19.11 21:13:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:07 TIMER: Check step: 1ms
19.11 21:13:12 TIMER: Check step...
19.11 21:13:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:12 TIMER: Check step: 0ms
19.11 21:13:17 TIMER: Check step...
19.11 21:13:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:17 TIMER: Check step: 1ms
19.11 21:13:22 TIMER: Check step...
19.11 21:13:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:22 TIMER: Check step: 1ms
19.11 21:13:27 TIMER: Clans cache...
19.11 21:13:27 TIMER: Clans cache: 0ms
19.11 21:13:27 TIMER: Check step...
19.11 21:13:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:27 TIMER: Check step: 1ms
19.11 21:13:27 TIMER: Check round...
19.11 21:13:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:13' OR rounddate = '2016-20-11 00:13' AND status <> 'finished'
19.11 21:13:27 DB: SELECT * FROM battle WHERE endtime >= '1479579.20794998' AND avaliable = true AND finished <> true
19.11 21:13:27 TIMER: Check round: 2ms
19.11 21:13:32 TIMER: Check step...
19.11 21:13:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:32 TIMER: Check step: 1ms
19.11 21:13:37 TIMER: Check step...
19.11 21:13:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:37 TIMER: Check step: 1ms
19.11 21:13:42 TIMER: Check step...
19.11 21:13:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:42 TIMER: Check step: 1ms
19.11 21:13:47 TIMER: Check step...
19.11 21:13:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:47 TIMER: Check step: 0ms
19.11 21:13:52 TIMER: Check step...
19.11 21:13:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:52 TIMER: Check step: 1ms
19.11 21:13:57 TIMER: Check step...
19.11 21:13:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:13:57 TIMER: Check step: 0ms
19.11 21:14:02 TIMER: Check step...
19.11 21:14:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:02 TIMER: Check step: 0ms
19.11 21:14:07 TIMER: Check step...
19.11 21:14:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:07 TIMER: Check step: 1ms
19.11 21:14:12 TIMER: Check step...
19.11 21:14:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:12 TIMER: Check step: 1ms
19.11 21:14:17 TIMER: Check step...
19.11 21:14:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:17 TIMER: Check step: 1ms
19.11 21:14:22 TIMER: Check step...
19.11 21:14:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:22 TIMER: Check step: 1ms
19.11 21:14:27 TIMER: Clans cache...
19.11 21:14:27 TIMER: Clans cache: 0ms
19.11 21:14:27 TIMER: Check step...
19.11 21:14:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:27 TIMER: Check step: 0ms
19.11 21:14:27 TIMER: Check round...
19.11 21:14:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:14' OR rounddate = '2016-20-11 00:14' AND status <> 'finished'
19.11 21:14:27 DB: SELECT * FROM battle WHERE endtime >= '1479579.26797388' AND avaliable = true AND finished <> true
19.11 21:14:27 TIMER: Check round: 1ms
19.11 21:14:32 TIMER: Check step...
19.11 21:14:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:32 TIMER: Check step: 1ms
19.11 21:14:37 TIMER: Check step...
19.11 21:14:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:37 TIMER: Check step: 0ms
19.11 21:14:42 TIMER: Check step...
19.11 21:14:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:42 TIMER: Check step: 0ms
19.11 21:14:47 TIMER: Check step...
19.11 21:14:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:47 TIMER: Check step: 0ms
19.11 21:14:52 TIMER: Check step...
19.11 21:14:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:52 TIMER: Check step: 1ms
19.11 21:14:57 TIMER: Check step...
19.11 21:14:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:14:57 TIMER: Check step: 1ms
19.11 21:15:02 TIMER: Check step...
19.11 21:15:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:02 TIMER: Check step: 1ms
19.11 21:15:07 TIMER: Check step...
19.11 21:15:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:07 TIMER: Check step: 0ms
19.11 21:15:12 TIMER: Check step...
19.11 21:15:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:12 TIMER: Check step: 1ms
19.11 21:15:17 TIMER: Check step...
19.11 21:15:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:17 TIMER: Check step: 1ms
19.11 21:15:22 TIMER: Check step...
19.11 21:15:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:22 TIMER: Check step: 1ms
19.11 21:15:27 TIMER: Clans cache...
19.11 21:15:27 TIMER: Clans cache: 0ms
19.11 21:15:27 TIMER: Check step...
19.11 21:15:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:27 TIMER: Check step: 1ms
19.11 21:15:27 TIMER: Check round...
19.11 21:15:27 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:15' OR rounddate = '2016-20-11 00:15' AND status <> 'finished'
19.11 21:15:27 DB: SELECT * FROM battle WHERE endtime >= '1479579.32799932' AND avaliable = true AND finished <> true
19.11 21:15:27 TIMER: Check round: 1ms
19.11 21:15:32 TIMER: Check step...
19.11 21:15:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:15:33 TIMER: Check step: 1ms
19.11 21:34:00 TIMER: Starting timer...
19.11 21:34:00 TIMER: Timer running...
19.11 21:34:00 DB: SELECT * FROM GameVars
19.11 21:34:00 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd + '1day'::interval) AS TimeEnd FROM CalendarEvents ORDER BY ID
19.11 21:34:00 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
19.11 21:34:00 DB: SELECT * FROM Shops WHERE ID = 1
19.11 21:34:00 TEMP: load ./tmp/quest_daily_ids
19.11 21:34:00 DB: SELECT ID FROM QuestChains WHERE IsEnabled = 't' AND Params LIKE '%"isDaily":true%' ORDER BY ID
19.11 21:34:00 TEMP: save ./tmp/quest_daily_ids
19.11 21:34:00 NET: ??? request core/server.login { host => 172.16.30.23, name => vdl.0, port => 2030, type => game, _type => core/server.login, externalHost => 172.16.30.23, externalPort => 2030 }
19.11 21:34:00 QUEUE: vdl.0 (thread) response server.login
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM LocalizationStrings, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM LocalizationStrings
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 5.93 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM GameVars, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM GameVars
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.52 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestParameterTypes ORDER BY ID, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM QuestParameterTypes ORDER BY ID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.62 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestConditionTypes ORDER BY ID, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM QuestConditionTypes ORDER BY ID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.46 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestChains WHERE IsEnabled = 't', _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM QuestChains WHERE IsEnabled = 't'
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.48 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f'), _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f')
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.96 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/quest.getDaily { _type => core/quest.getDaily }
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/quest.getDaily
19.11 21:34:00 TIME: core/quest.getDaily : 0.04 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserAttributeTypes, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM UserAttributeTypes
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.64 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserVariableTypes, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM UserVariableTypes
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.56 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID, _type => core/server.query }
19.11 21:34:00 DB: SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 1.61 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM ItemGroups, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM ItemGroups
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.47 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Bundles ORDER BY ID, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM Bundles ORDER BY ID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.47 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM BundleItems ORDER BY ID, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM BundleItems ORDER BY ID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.46 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/shop.getList { _type => core/shop.getList }
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/shop.getList
19.11 21:34:00 TIME: core/shop.getList : 0.02 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM EffectAttributeTypes, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM EffectAttributeTypes
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.67 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Effects, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM Effects
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.43 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID, _type => core/server.query }
19.11 21:34:00 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.64 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID, _type => core/server.query }
19.11 21:34:00 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.5 ms
19.11 21:34:00 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Badges, _type => core/server.query }
19.11 21:34:00 DB: SELECT * FROM Badges
19.11 21:34:00 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:00 TIME: core/server.query : 0.3 ms
19.11 21:34:01 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140', _type => core/server.query }
19.11 21:34:01 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140'
19.11 21:34:01 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:34:01 TIME: core/server.query : 3.77 ms
19.11 21:34:01 NET: vdl.0 (thread) request core/user.isOnlineID { id => 140, _type => core/user.isOnlineID }
19.11 21:34:01 QUEUE: vdl.0 (thread) response core/user.isOnlineID
19.11 21:34:01 TIME: core/user.isOnlineID : 0.12 ms
19.11 21:34:01 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 140, _type => core/cache.get }
19.11 21:34:01 READDB: SELECT * FROM Users WHERE ID = 140
19.11 21:34:01 QUEUE: vdl.0 (thread) response core/cache.get
19.11 21:34:01 TIME: core/cache.get : 4.72 ms
19.11 21:34:01 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 140, _type => core/cache.get }
19.11 21:34:01 READDB: SELECT * FROM UserQuests WHERE ID = 140
19.11 21:34:01 QUEUE: vdl.0 (thread) response core/cache.get
19.11 21:34:01 TIME: core/cache.get : 1.95 ms
19.11 21:34:01 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 140, _type => core/user.loginPost, ipAddr => 172.16.30.15 }
19.11 21:34:01 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:34:01 TIME: core/user.loginPost : 0.17 ms
19.11 21:34:05 TIMER: Check step...
19.11 21:34:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:05 TIMER: Check step: 4ms
19.11 21:34:10 TIMER: Check step...
19.11 21:34:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:10 TIMER: Check step: 2ms
19.11 21:34:10 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 140, _type => core/cache.update }
19.11 21:34:10 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:34:10 TIME: core/cache.update : 0.21 ms
19.11 21:34:11 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:34:13 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141', _type => core/server.query }
19.11 21:34:13 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141'
19.11 21:34:13 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid141, networkid => , isbanned => false, id => 141 }}, errorCode => ok, _type => core/server.query }
19.11 21:34:13 TIME: core/server.query : 2.72 ms
19.11 21:34:13 NET: vdl.0 (thread) request core/user.isOnlineID { id => 141, _type => core/user.isOnlineID }
19.11 21:34:13 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:34:13 TIME: core/user.isOnlineID : 0.14 ms
19.11 21:34:13 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 141, _type => core/cache.get }
19.11 21:34:13 READDB: SELECT * FROM Users WHERE ID = 141
19.11 21:34:13 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid141, deleted => false, email => , networktype =>   , password => uid141, isbanned => false, regdate => 2016-11-19 20:20:05.55314+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479576158, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 0, id => 141 } }
19.11 21:34:13 TIME: core/cache.get : 1.92 ms
19.11 21:34:13 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 141, _type => core/cache.get }
19.11 21:34:13 READDB: SELECT * FROM UserQuests WHERE ID = 141
19.11 21:34:13 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 141 } }
19.11 21:34:13 TIME: core/cache.get : 1.37 ms
19.11 21:34:13 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 141, _type => core/user.loginPost, ipAddr => 172.16.20.65 }
19.11 21:34:13 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:34:13 TIME: core/user.loginPost : 0.12 ms
19.11 21:34:15 TIMER: Check step...
19.11 21:34:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:15 TIMER: Check step: 4ms
19.11 21:34:17 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 140 }, _type => vdl/cache.battle.findRandom }
19.11 21:34:17 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:34:17 TIME: vdl/cache.battle.findRandom : 0.18 ms
19.11 21:34:20 TIMER: Check step...
19.11 21:34:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:20 TIMER: Check step: 1ms
19.11 21:34:20 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 141, _type => core/cache.update }
19.11 21:34:20 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:34:20 TIME: core/cache.update : 0.2 ms
19.11 21:34:21 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:34:21 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
19.11 21:34:21 DB: SELECT nextval('Battle_id_seq') AS id
19.11 21:34:21 READDB: SELECT ID FROM Battle WHERE ID = 27
19.11 21:34:21 READDB: INSERT INTO Battle (ID) VALUES (27)
19.11 21:34:21 READDB: SELECT * FROM Battle WHERE ID = 27
19.11 21:34:21 DB: SELECT name FROM users WHERE id=141
19.11 21:34:21 DB: SELECT name FROM users WHERE id=140
19.11 21:34:21 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 140, enemy.name => uid140, id => 141, enemy.num => 2, battleId => 27, player => 1 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
19.11 21:34:21 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid140, enemy.id => 141, enemy.name => uid141, id => 140, enemy.num => 1, battleId => 27, player => 2 }, _isNotify => true, id => 140, _type => battle.enemyEvent }
19.11 21:34:21 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:34:21 TIME: vdl/cache.battle.findRandom : 26.84 ms
19.11 21:34:25 TIMER: Check step...
19.11 21:34:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:25 TIMER: Check step: 1ms
19.11 21:34:27 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'140', turnid = E'141', finished = E'false', endtime = E'1483180.4617302', firstid = E'141', steptime = E'1479700.4617317', params = E'{}', avaliable = E'false' WHERE ID = 27
19.11 21:34:30 TIMER: Check step...
19.11 21:34:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:30 TIMER: Check step: 1ms
19.11 21:34:31 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:34:31 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:34:31 TIME: vdl/cache.battle.infoRoom : 0.25 ms
19.11 21:34:35 TIMER: Check step...
19.11 21:34:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:35 TIMER: Check step: 2ms
19.11 21:34:35 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:34:35 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:34:35 TIME: vdl/cache.battle.infoRoom : 0.19 ms
19.11 21:34:35 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [0,0], _type => vdl/cache.battle.setScores, player1 => 141, player2 => 140, battleId => 27 }
19.11 21:34:35 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:34:35 TIME: vdl/cache.battle.setScores : 0.1 ms
19.11 21:34:38 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:34:38 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:34:38 TIME: vdl/cache.battle.infoRoom : 0.16 ms
19.11 21:34:38 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [0,0], _type => vdl/cache.battle.setScores, player1 => 141, player2 => 140, battleId => 27 }
19.11 21:34:38 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:34:38 TIME: vdl/cache.battle.setScores : 0.16 ms
19.11 21:34:39 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:34:39 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:34:39 TIME: vdl/cache.battle.infoRoom : 0.14 ms
19.11 21:34:39 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [0,0], _type => vdl/cache.battle.setScores, player1 => 141, player2 => 140, battleId => 27 }
19.11 21:34:39 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:34:39 TIME: vdl/cache.battle.setScores : 0.1 ms
19.11 21:34:40 TIMER: Check step...
19.11 21:34:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:40 TIMER: Check step: 1ms
19.11 21:34:40 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:34:40 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:34:40 TIME: vdl/cache.battle.infoRoom : 0.19 ms
19.11 21:34:40 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [1,0], _type => vdl/cache.battle.setScores, player1 => 141, player2 => 140, battleId => 27 }
19.11 21:34:40 QUEUE: vdl.0 (thread) response battle.endEvent { type => winGame, typeBattle => battle, _isNotify => true, _type => battle.endEvent, win => 141, battleId => 27 }
19.11 21:34:40 QUEUE: vdl.0 (thread) response battle.endEvent { lose => 140, type => winGame, typeBattle => battle, _isNotify => true, _type => battle.endEvent, win => 0, battleId => 27 }
19.11 21:34:40 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:34:40 TIME: vdl/cache.battle.setScores : 0.95 ms
19.11 21:34:40 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 1, _type => core/cache.get }
19.11 21:34:40 READDB: SELECT * FROM Users WHERE ID = 1
19.11 21:34:40 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => --- DEFAULT ATTRIBUTES ---, deleted => false, email => , networktype =>   , password => , isbanned => false, regdate => 2016-08-30 15:45:16.008574+03, language =>   , networkid => , params => { inventory => { list => [] }, attrs => {}, effects => { list => [] } }}, version => 0, id => 1 } }
19.11 21:34:40 TIME: core/cache.get : 1.8 ms
19.11 21:34:40 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 1, _type => core/cache.get }
19.11 21:34:40 READDB: SELECT * FROM UserQuests WHERE ID = 1
19.11 21:34:40 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => {}}, version => 0, id => 1 } }
19.11 21:34:40 TIME: core/cache.get : 1.06 ms
19.11 21:34:40 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:34:40 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:34:40 TIME: vdl/cache.battle.infoRoom : 0.14 ms
19.11 21:34:40 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 27, _type => vdl/cache.battle.finishRoom }
19.11 21:34:40 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:34:40 TIME: vdl/cache.battle.finishRoom : 0.2 ms
19.11 21:34:40 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 1, _type => core/cache.get }
19.11 21:34:40 CACHE: cache block locked: user.1
19.11 21:34:40 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => lockTimeout, _type => core/cache.get }
19.11 21:34:40 TIME: core/cache.get : 0.26 ms
19.11 21:34:41 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'140', turnid = E'141', finished = E'true', endtime = E'1483180.4617302', firstid = E'141', steptime = E'1479700.4617317', params = E'{}', avaliable = E'false' WHERE ID = 27
19.11 21:34:45 TIMER: Check step...
19.11 21:34:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:45 TIMER: Check step: 1ms
19.11 21:34:50 TIMER: Check step...
19.11 21:34:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:50 TIMER: Check step: 1ms
19.11 21:34:51 BLOCKREMOVE: battle 27 removed
19.11 21:34:55 TIMER: Check step...
19.11 21:34:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:34:55 TIMER: Check step: 0ms
19.11 21:35:00 TIMER: Clans cache...
19.11 21:35:00 TIMER: Clans cache: 0ms
19.11 21:35:00 TIMER: Check step...
19.11 21:35:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:00 TIMER: Check step: 0ms
19.11 21:35:00 TIMER: Check round...
19.11 21:35:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:35' OR rounddate = '2016-20-11 00:35' AND status <> 'finished'
19.11 21:35:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.50060741' AND avaliable = true AND finished <> true
19.11 21:35:00 TIMER: Check round: 1ms
19.11 21:35:05 TIMER: Check step...
19.11 21:35:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:05 TIMER: Check step: 1ms
19.11 21:35:10 TIMER: Check step...
19.11 21:35:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:10 TIMER: Check step: 1ms
19.11 21:35:15 TIMER: Check step...
19.11 21:35:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:15 TIMER: Check step: 0ms
19.11 21:35:20 TIMER: Check step...
19.11 21:35:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:20 TIMER: Check step: 1ms
19.11 21:35:25 TIMER: Check step...
19.11 21:35:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:25 TIMER: Check step: 1ms
19.11 21:35:30 TIMER: Check step...
19.11 21:35:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:30 TIMER: Check step: 1ms
19.11 21:35:35 TIMER: Check step...
19.11 21:35:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:35 TIMER: Check step: 1ms
19.11 21:35:40 TIMER: Check step...
19.11 21:35:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:40 TIMER: Check step: 1ms
19.11 21:35:45 TIMER: Check step...
19.11 21:35:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:45 TIMER: Check step: 1ms
19.11 21:35:50 TIMER: Check step...
19.11 21:35:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:50 TIMER: Check step: 1ms
19.11 21:35:55 TIMER: Check step...
19.11 21:35:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:35:55 TIMER: Check step: 1ms
19.11 21:36:00 TIMER: Clans cache...
19.11 21:36:00 TIMER: Clans cache: 0ms
19.11 21:36:00 TIMER: Check step...
19.11 21:36:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:00 TIMER: Check step: 1ms
19.11 21:36:00 TIMER: Check round...
19.11 21:36:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:36' OR rounddate = '2016-20-11 00:36' AND status <> 'finished'
19.11 21:36:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.56063966' AND avaliable = true AND finished <> true
19.11 21:36:00 TIMER: Check round: 3ms
19.11 21:36:05 TIMER: Check step...
19.11 21:36:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:05 TIMER: Check step: 1ms
19.11 21:36:10 TIMER: Check step...
19.11 21:36:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:10 TIMER: Check step: 1ms
19.11 21:36:15 TIMER: Check step...
19.11 21:36:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:15 TIMER: Check step: 0ms
19.11 21:36:20 TIMER: Check step...
19.11 21:36:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:20 TIMER: Check step: 1ms
19.11 21:36:25 TIMER: Check step...
19.11 21:36:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:25 TIMER: Check step: 1ms
19.11 21:36:30 TIMER: Check step...
19.11 21:36:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:30 TIMER: Check step: 0ms
19.11 21:36:35 TIMER: Check step...
19.11 21:36:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:35 TIMER: Check step: 1ms
19.11 21:36:40 TIMER: Check step...
19.11 21:36:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:40 TIMER: Check step: 1ms
19.11 21:36:45 TIMER: Check step...
19.11 21:36:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:45 TIMER: Check step: 0ms
19.11 21:36:50 TIMER: Check step...
19.11 21:36:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:50 TIMER: Check step: 1ms
19.11 21:36:55 TIMER: Check step...
19.11 21:36:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:36:55 TIMER: Check step: 1ms
19.11 21:37:00 TIMER: Clans cache...
19.11 21:37:00 TIMER: Clans cache: 0ms
19.11 21:37:00 TIMER: Check step...
19.11 21:37:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:00 TIMER: Check step: 1ms
19.11 21:37:00 TIMER: Check round...
19.11 21:37:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:37' OR rounddate = '2016-20-11 00:37' AND status <> 'finished'
19.11 21:37:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.62066494' AND avaliable = true AND finished <> true
19.11 21:37:00 TIMER: Check round: 1ms
19.11 21:37:05 TIMER: Check step...
19.11 21:37:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:05 TIMER: Check step: 1ms
19.11 21:37:10 TIMER: Check step...
19.11 21:37:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:10 TIMER: Check step: 1ms
19.11 21:37:15 TIMER: Check step...
19.11 21:37:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:15 TIMER: Check step: 0ms
19.11 21:37:20 TIMER: Check step...
19.11 21:37:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:20 TIMER: Check step: 0ms
19.11 21:37:25 TIMER: Check step...
19.11 21:37:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:25 TIMER: Check step: 0ms
19.11 21:37:30 TIMER: Check step...
19.11 21:37:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:30 TIMER: Check step: 1ms
19.11 21:37:35 TIMER: Check step...
19.11 21:37:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:35 TIMER: Check step: 1ms
19.11 21:37:35 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true, _type => core/server.query }
19.11 21:37:35 DB: SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true
19.11 21:37:35 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 27 }}, errorCode => ok, _type => core/server.query }
19.11 21:37:35 TIME: core/server.query : 1.25 ms
19.11 21:37:35 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 27, _type => vdl/cache.battle.infoRoom }
19.11 21:37:35 STATS: cache [battle], get [10 calls, 8 cache hits, 1 cache misses, 0 same version, 0 not found]
19.11 21:37:35 STATS: cache [battle], segments [14 calls, 12 hits, 1 misses]
19.11 21:37:35 STATS: cache [battle], database [216 calls, 1 reads, 2 writes]
19.11 21:37:35 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:37:35 READDB: SELECT * FROM Battle WHERE ID = 27
19.11 21:37:35 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:37:35 TIME: vdl/cache.battle.infoRoom : 1.37 ms
19.11 21:37:35 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 27, _type => vdl/cache.battle.deleteRoom }
19.11 21:37:35 ROOM: deleted room 27
19.11 21:37:35 DB: DELETE FROM Battle WHERE ID = 27
19.11 21:37:35 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:37:35 TIME: vdl/cache.battle.deleteRoom : 18.85 ms
19.11 21:37:35 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 27, _type => vdl/cache.battle.finishRoom }
19.11 21:37:35 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:37:35 TIME: vdl/cache.battle.finishRoom : 0.12 ms
19.11 21:37:35 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 141, _type => core/cache.update }
19.11 21:37:35 STATS: cache [user], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:37:35 STATS: cache [user], segments [10 calls, 3 hits, 6 misses]
19.11 21:37:35 STATS: cache [user], database [216 calls, 3 reads, 2 writes]
19.11 21:37:35 STATS: cache [user], lock [4 calls, 4 attempts, 1 failures]
19.11 21:37:35 STATS: cache manager [1], get [6 calls, total 0.01 sec spent, avg 1.93 ms]
19.11 21:37:35 STATS: cache manager [1], update [3 calls, total 0 sec spent, avg 0.12 ms]
19.11 21:37:35 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:37:35 TIME: core/cache.update : 0.41 ms
19.11 21:37:35 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 141, _type => core/cache.update }
19.11 21:37:35 STATS: cache [questdata], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:37:35 STATS: cache [questdata], segments [7 calls, 0 hits, 6 misses]
19.11 21:37:35 STATS: cache [questdata], database [216 calls, 3 reads, 0 writes]
19.11 21:37:35 STATS: cache [questdata], lock [3 calls, 3 attempts, 0 failures]
19.11 21:37:35 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:37:35 TIME: core/cache.update : 0.28 ms
19.11 21:37:35 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 141, _type => core/user.logoutPost }
19.11 21:37:35 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:37:35 TIME: core/user.logoutPost : 0.07 ms
19.11 21:37:36 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:37:36 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 141
19.11 21:37:40 TIMER: Check step...
19.11 21:37:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:40 TIMER: Check step: 0ms
19.11 21:37:40 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'140', turnid = E'141', finished = E'true', endtime = E'1483180', firstid = E'141', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 27
19.11 21:37:43 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true, _type => core/server.query }
19.11 21:37:43 DB: SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true
19.11 21:37:43 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 18 }, { id => 22 }, { id => 25 }}, errorCode => ok, _type => core/server.query }
19.11 21:37:43 TIME: core/server.query : 1.42 ms
19.11 21:37:43 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 25, _type => vdl/cache.battle.infoRoom }
19.11 21:37:43 READDB: SELECT * FROM Battle WHERE ID = 25
19.11 21:37:43 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:37:43 TIME: vdl/cache.battle.infoRoom : 1.18 ms
19.11 21:37:43 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 25, _type => vdl/cache.battle.deleteRoom }
19.11 21:37:43 ROOM: deleted room 25
19.11 21:37:43 DB: DELETE FROM Battle WHERE ID = 25
19.11 21:37:43 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:37:43 TIME: vdl/cache.battle.deleteRoom : 19.31 ms
19.11 21:37:43 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 25, _type => vdl/cache.battle.finishRoom }
19.11 21:37:43 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:37:43 TIME: vdl/cache.battle.finishRoom : 0.11 ms
19.11 21:37:43 NET: vdl.0 (thread) request core/user.sendTo { id => 141, _type => core/user.sendTo, msg => { _type => battle.leave } }
19.11 21:37:43 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
19.11 21:37:43 TIME: core/user.sendTo : 0.11 ms
19.11 21:37:43 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 140, _type => core/cache.update }
19.11 21:37:43 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:37:43 TIME: core/cache.update : 0.15 ms
19.11 21:37:43 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 140, _type => core/cache.update }
19.11 21:37:43 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:37:43 TIME: core/cache.update : 0.14 ms
19.11 21:37:43 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 140, _type => core/user.logoutPost }
19.11 21:37:43 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:37:43 TIME: core/user.logoutPost : 0.11 ms
19.11 21:37:44 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:37:44 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 140
19.11 21:37:45 TIMER: Check step...
19.11 21:37:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:45 TIMER: Check step: 0ms
19.11 21:37:46 BLOCKREMOVE: user 141 removed
19.11 21:37:46 BLOCKREMOVE: questdata 141 removed
19.11 21:37:49 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'true', endtime = E'1483180', firstid = E'140', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 25
19.11 21:37:50 TIMER: Check step...
19.11 21:37:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:50 TIMER: Check step: 0ms
19.11 21:37:50 BLOCKREMOVE: battle 27 removed
19.11 21:37:51 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141', _type => core/server.query }
19.11 21:37:51 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141'
19.11 21:37:51 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid141, networkid => , isbanned => false, id => 141 }}, errorCode => ok, _type => core/server.query }
19.11 21:37:51 TIME: core/server.query : 2.72 ms
19.11 21:37:51 NET: vdl.0 (thread) request core/user.isOnlineID { id => 141, _type => core/user.isOnlineID }
19.11 21:37:51 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:37:51 TIME: core/user.isOnlineID : 0.14 ms
19.11 21:37:51 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 141, _type => core/cache.get }
19.11 21:37:51 READDB: SELECT * FROM Users WHERE ID = 141
19.11 21:37:51 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid141, deleted => false, email => , networktype =>   , password => uid141, isbanned => false, regdate => 2016-11-19 20:20:05.55314+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479576158, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 0, id => 141 } }
19.11 21:37:51 TIME: core/cache.get : 1.74 ms
19.11 21:37:51 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 141, _type => core/cache.get }
19.11 21:37:51 READDB: SELECT * FROM UserQuests WHERE ID = 141
19.11 21:37:51 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 141 } }
19.11 21:37:51 TIME: core/cache.get : 1.18 ms
19.11 21:37:51 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 141, _type => core/user.loginPost, ipAddr => 172.16.20.65 }
19.11 21:37:51 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:37:51 TIME: core/user.loginPost : 0.14 ms
19.11 21:37:54 BLOCKREMOVE: user 140 removed
19.11 21:37:54 BLOCKREMOVE: questdata 140 removed
19.11 21:37:55 TIMER: Check step...
19.11 21:37:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:37:55 TIMER: Check step: 1ms
19.11 21:37:59 BLOCKREMOVE: battle 25 removed
19.11 21:38:00 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 141, _type => core/cache.update }
19.11 21:38:00 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:38:00 TIME: core/cache.update : 0.18 ms
19.11 21:38:00 TIMER: Clans cache...
19.11 21:38:00 TIMER: Clans cache: 0ms
19.11 21:38:00 TIMER: Check step...
19.11 21:38:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:00 TIMER: Check step: 0ms
19.11 21:38:00 TIMER: Check round...
19.11 21:38:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:38' OR rounddate = '2016-20-11 00:38' AND status <> 'finished'
19.11 21:38:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.6806907' AND avaliable = true AND finished <> true
19.11 21:38:00 TIMER: Check round: 1ms
19.11 21:38:00 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:38:05 TIMER: Check step...
19.11 21:38:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:05 TIMER: Check step: 1ms
19.11 21:38:10 TIMER: Check step...
19.11 21:38:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:10 TIMER: Check step: 0ms
19.11 21:38:15 TIMER: Check step...
19.11 21:38:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:15 TIMER: Check step: 1ms
19.11 21:38:20 TIMER: Check step...
19.11 21:38:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:20 TIMER: Check step: 1ms
19.11 21:38:25 TIMER: Check step...
19.11 21:38:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:25 TIMER: Check step: 1ms
19.11 21:38:30 TIMER: Check step...
19.11 21:38:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:30 TIMER: Check step: 1ms
19.11 21:38:35 TIMER: Check step...
19.11 21:38:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:35 TIMER: Check step: 1ms
19.11 21:38:40 TIMER: Check step...
19.11 21:38:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:40 TIMER: Check step: 0ms
19.11 21:38:45 TIMER: Check step...
19.11 21:38:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:45 TIMER: Check step: 1ms
19.11 21:38:50 TIMER: Check step...
19.11 21:38:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:50 TIMER: Check step: 1ms
19.11 21:38:55 TIMER: Check step...
19.11 21:38:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:38:55 TIMER: Check step: 1ms
19.11 21:39:00 TIMER: Clans cache...
19.11 21:39:00 TIMER: Clans cache: 0ms
19.11 21:39:00 TIMER: Check step...
19.11 21:39:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:00 TIMER: Check step: 0ms
19.11 21:39:00 TIMER: Check round...
19.11 21:39:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:39' OR rounddate = '2016-20-11 00:39' AND status <> 'finished'
19.11 21:39:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.74071584' AND avaliable = true AND finished <> true
19.11 21:39:00 TIMER: Check round: 1ms
19.11 21:39:05 TIMER: Check step...
19.11 21:39:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:05 TIMER: Check step: 1ms
19.11 21:39:10 TIMER: Check step...
19.11 21:39:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:10 TIMER: Check step: 1ms
19.11 21:39:15 TIMER: Check step...
19.11 21:39:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:15 TIMER: Check step: 1ms
19.11 21:39:20 TIMER: Check step...
19.11 21:39:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:20 TIMER: Check step: 0ms
19.11 21:39:25 TIMER: Check step...
19.11 21:39:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:25 TIMER: Check step: 1ms
19.11 21:39:30 TIMER: Check step...
19.11 21:39:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:30 TIMER: Check step: 0ms
19.11 21:39:35 TIMER: Check step...
19.11 21:39:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:35 TIMER: Check step: 1ms
19.11 21:39:40 TIMER: Check step...
19.11 21:39:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:40 TIMER: Check step: 1ms
19.11 21:39:45 TIMER: Check step...
19.11 21:39:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:45 TIMER: Check step: 1ms
19.11 21:39:50 TIMER: Check step...
19.11 21:39:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:50 TIMER: Check step: 0ms
19.11 21:39:55 TIMER: Check step...
19.11 21:39:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:39:55 TIMER: Check step: 1ms
19.11 21:40:00 TIMER: Clans cache...
19.11 21:40:00 TIMER: Clans cache: 0ms
19.11 21:40:00 TIMER: Check step...
19.11 21:40:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:00 TIMER: Check step: 0ms
19.11 21:40:00 TIMER: Check round...
19.11 21:40:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:40' OR rounddate = '2016-20-11 00:40' AND status <> 'finished'
19.11 21:40:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.80074135' AND avaliable = true AND finished <> true
19.11 21:40:00 TIMER: Check round: 2ms
19.11 21:40:05 TIMER: Check step...
19.11 21:40:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:05 TIMER: Check step: 1ms
19.11 21:40:10 TIMER: Check step...
19.11 21:40:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:10 TIMER: Check step: 1ms
19.11 21:40:15 TIMER: Check step...
19.11 21:40:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:15 TIMER: Check step: 0ms
19.11 21:40:20 TIMER: Check step...
19.11 21:40:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:20 TIMER: Check step: 1ms
19.11 21:40:25 TIMER: Check step...
19.11 21:40:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:25 TIMER: Check step: 1ms
19.11 21:40:30 TIMER: Check step...
19.11 21:40:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:30 TIMER: Check step: 1ms
19.11 21:40:35 TIMER: Check step...
19.11 21:40:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:35 TIMER: Check step: 1ms
19.11 21:40:40 TIMER: Check step...
19.11 21:40:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:40 TIMER: Check step: 1ms
19.11 21:40:45 TIMER: Check step...
19.11 21:40:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:45 TIMER: Check step: 1ms
19.11 21:40:50 TIMER: Check step...
19.11 21:40:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:50 TIMER: Check step: 1ms
19.11 21:40:55 TIMER: Check step...
19.11 21:40:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:40:55 TIMER: Check step: 1ms
19.11 21:41:00 TIMER: Clans cache...
19.11 21:41:00 TIMER: Clans cache: 0ms
19.11 21:41:00 TIMER: Check step...
19.11 21:41:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:00 TIMER: Check step: 1ms
19.11 21:41:00 TIMER: Check round...
19.11 21:41:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:41' OR rounddate = '2016-20-11 00:41' AND status <> 'finished'
19.11 21:41:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.86077159' AND avaliable = true AND finished <> true
19.11 21:41:00 TIMER: Check round: 2ms
19.11 21:41:05 TIMER: Check step...
19.11 21:41:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:05 TIMER: Check step: 1ms
19.11 21:41:10 TIMER: Check step...
19.11 21:41:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:10 TIMER: Check step: 0ms
19.11 21:41:15 TIMER: Check step...
19.11 21:41:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:15 TIMER: Check step: 1ms
19.11 21:41:20 TIMER: Check step...
19.11 21:41:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:20 TIMER: Check step: 1ms
19.11 21:41:25 TIMER: Check step...
19.11 21:41:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:25 TIMER: Check step: 1ms
19.11 21:41:30 TIMER: Check step...
19.11 21:41:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:30 TIMER: Check step: 0ms
19.11 21:41:35 TIMER: Check step...
19.11 21:41:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:35 TIMER: Check step: 1ms
19.11 21:41:40 TIMER: Check step...
19.11 21:41:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:40 TIMER: Check step: 0ms
19.11 21:41:45 TIMER: Check step...
19.11 21:41:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:45 TIMER: Check step: 1ms
19.11 21:41:50 TIMER: Check step...
19.11 21:41:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:50 TIMER: Check step: 0ms
19.11 21:41:55 TIMER: Check step...
19.11 21:41:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:41:55 TIMER: Check step: 1ms
19.11 21:42:00 TIMER: Clans cache...
19.11 21:42:00 TIMER: Clans cache: 0ms
19.11 21:42:00 TIMER: Check step...
19.11 21:42:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:00 TIMER: Check step: 1ms
19.11 21:42:00 TIMER: Check round...
19.11 21:42:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:42' OR rounddate = '2016-20-11 00:42' AND status <> 'finished'
19.11 21:42:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.92080002' AND avaliable = true AND finished <> true
19.11 21:42:00 TIMER: Check round: 1ms
19.11 21:42:05 TIMER: Check step...
19.11 21:42:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:05 TIMER: Check step: 1ms
19.11 21:42:10 TIMER: Check step...
19.11 21:42:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:10 TIMER: Check step: 1ms
19.11 21:42:15 TIMER: Check step...
19.11 21:42:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:15 TIMER: Check step: 1ms
19.11 21:42:20 TIMER: Check step...
19.11 21:42:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:20 TIMER: Check step: 1ms
19.11 21:42:25 TIMER: Check step...
19.11 21:42:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:25 TIMER: Check step: 1ms
19.11 21:42:30 TIMER: Check step...
19.11 21:42:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:30 TIMER: Check step: 0ms
19.11 21:42:35 TIMER: Check step...
19.11 21:42:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:35 TIMER: Check step: 1ms
19.11 21:42:40 TIMER: Check step...
19.11 21:42:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:40 TIMER: Check step: 0ms
19.11 21:42:45 TIMER: Check step...
19.11 21:42:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:45 TIMER: Check step: 0ms
19.11 21:42:50 TIMER: Check step...
19.11 21:42:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:50 TIMER: Check step: 1ms
19.11 21:42:55 TIMER: Check step...
19.11 21:42:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:42:55 TIMER: Check step: 0ms
19.11 21:43:00 TIMER: Clans cache...
19.11 21:43:00 TIMER: Clans cache: 0ms
19.11 21:43:00 TIMER: Check step...
19.11 21:43:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:00 TIMER: Check step: 0ms
19.11 21:43:00 TIMER: Check round...
19.11 21:43:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:43' OR rounddate = '2016-20-11 00:43' AND status <> 'finished'
19.11 21:43:00 DB: SELECT * FROM battle WHERE endtime >= '1479580.98082357' AND avaliable = true AND finished <> true
19.11 21:43:00 TIMER: Check round: 0ms
19.11 21:43:05 TIMER: Check step...
19.11 21:43:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:05 TIMER: Check step: 1ms
19.11 21:43:10 TIMER: Check step...
19.11 21:43:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:10 TIMER: Check step: 0ms
19.11 21:43:15 TIMER: Check step...
19.11 21:43:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:15 TIMER: Check step: 1ms
19.11 21:43:20 TIMER: Check step...
19.11 21:43:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:20 TIMER: Check step: 0ms
19.11 21:43:25 TIMER: Check step...
19.11 21:43:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:25 TIMER: Check step: 1ms
19.11 21:43:30 TIMER: Check step...
19.11 21:43:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:30 TIMER: Check step: 0ms
19.11 21:43:35 TIMER: Check step...
19.11 21:43:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:35 TIMER: Check step: 1ms
19.11 21:43:40 TIMER: Check step...
19.11 21:43:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:40 TIMER: Check step: 1ms
19.11 21:43:45 TIMER: Check step...
19.11 21:43:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:45 TIMER: Check step: 0ms
19.11 21:43:50 TIMER: Check step...
19.11 21:43:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:50 TIMER: Check step: 1ms
19.11 21:43:55 TIMER: Check step...
19.11 21:43:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:43:55 TIMER: Check step: 1ms
19.11 21:44:00 TIMER: Clans cache...
19.11 21:44:00 TIMER: Clans cache: 0ms
19.11 21:44:00 TIMER: Check step...
19.11 21:44:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:00 TIMER: Check step: 0ms
19.11 21:44:00 TIMER: Check round...
19.11 21:44:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:44' OR rounddate = '2016-20-11 00:44' AND status <> 'finished'
19.11 21:44:00 DB: SELECT * FROM battle WHERE endtime >= '1479581.040848' AND avaliable = true AND finished <> true
19.11 21:44:00 TIMER: Check round: 1ms
19.11 21:44:05 TIMER: Check step...
19.11 21:44:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:05 TIMER: Check step: 1ms
19.11 21:44:10 TIMER: Check step...
19.11 21:44:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:10 TIMER: Check step: 0ms
19.11 21:44:15 TIMER: Check step...
19.11 21:44:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:15 TIMER: Check step: 6ms
19.11 21:44:20 TIMER: Check step...
19.11 21:44:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:20 TIMER: Check step: 0ms
19.11 21:44:25 TIMER: Check step...
19.11 21:44:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:25 TIMER: Check step: 1ms
19.11 21:44:27 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
19.11 21:44:27 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:44:27 TIME: vdl/cache.battle.findRandom : 0.15 ms
19.11 21:44:30 TIMER: Check step...
19.11 21:44:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:30 TIMER: Check step: 1ms
19.11 21:44:32 NET: vdl.0 (thread) request vdl/cache.battle.closeFind { userId => 141, _type => vdl/cache.battle.closeFind }
19.11 21:44:32 QUEUE: vdl.0 (thread) response vdl/cache.battle.closeFind { errorCode => ok, _type => vdl/cache.battle.closeFind }
19.11 21:44:32 TIME: vdl/cache.battle.closeFind : 0.11 ms
19.11 21:44:35 TIMER: Check step...
19.11 21:44:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:35 TIMER: Check step: 1ms
19.11 21:44:40 TIMER: Check step...
19.11 21:44:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:40 TIMER: Check step: 1ms
19.11 21:44:45 TIMER: Check step...
19.11 21:44:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:45 TIMER: Check step: 1ms
19.11 21:44:50 TIMER: Check step...
19.11 21:44:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:50 TIMER: Check step: 1ms
19.11 21:44:55 TIMER: Check step...
19.11 21:44:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:44:55 TIMER: Check step: 1ms
19.11 21:45:00 TIMER: Clans cache...
19.11 21:45:00 TIMER: Clans cache: 0ms
19.11 21:45:00 TIMER: Check step...
19.11 21:45:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:00 TIMER: Check step: 0ms
19.11 21:45:00 TIMER: Check round...
19.11 21:45:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:45' OR rounddate = '2016-20-11 00:45' AND status <> 'finished'
19.11 21:45:00 DB: SELECT * FROM battle WHERE endtime >= '1479581.10087864' AND avaliable = true AND finished <> true
19.11 21:45:00 TIMER: Check round: 1ms
19.11 21:45:04 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140', _type => core/server.query }
19.11 21:45:04 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140'
19.11 21:45:04 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid140, networkid => , isbanned => false, id => 140 }}, errorCode => ok, _type => core/server.query }
19.11 21:45:04 TIME: core/server.query : 1.29 ms
19.11 21:45:04 NET: vdl.0 (thread) request core/user.isOnlineID { id => 140, _type => core/user.isOnlineID }
19.11 21:45:04 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:45:04 TIME: core/user.isOnlineID : 0.14 ms
19.11 21:45:04 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 140, _type => core/cache.get }
19.11 21:45:04 STATS: cache [user], get [4 calls, 0 cache hits, 4 cache misses, 0 same version, 0 not found]
19.11 21:45:04 STATS: cache [user], segments [17 calls, 8 hits, 8 misses]
19.11 21:45:04 STATS: cache [user], database [664 calls, 4 reads, 5 writes]
19.11 21:45:04 STATS: cache [user], lock [6 calls, 6 attempts, 1 failures]
19.11 21:45:04 READDB: SELECT * FROM Users WHERE ID = 140
19.11 21:45:04 STATS: cache manager [1], get [9 calls, total 0.02 sec spent, avg 1.79 ms]
19.11 21:45:04 STATS: cache manager [1], update [7 calls, total 0 sec spent, avg 0.1 ms]
19.11 21:45:04 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid140, deleted => false, email => , networktype =>   , password => uid140, isbanned => false, regdate => 2016-11-19 17:25:00.661+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479567029, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 0, id => 140 } }
19.11 21:45:04 TIME: core/cache.get : 2.53 ms
19.11 21:45:04 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 140, _type => core/cache.get }
19.11 21:45:04 STATS: cache [questdata], get [4 calls, 0 cache hits, 4 cache misses, 0 same version, 0 not found]
19.11 21:45:04 STATS: cache [questdata], segments [13 calls, 4 hits, 8 misses]
19.11 21:45:04 STATS: cache [questdata], database [664 calls, 4 reads, 2 writes]
19.11 21:45:04 STATS: cache [questdata], lock [5 calls, 5 attempts, 0 failures]
19.11 21:45:04 READDB: SELECT * FROM UserQuests WHERE ID = 140
19.11 21:45:04 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 140 } }
19.11 21:45:04 TIME: core/cache.get : 1.34 ms
19.11 21:45:04 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 140, _type => core/user.loginPost, ipAddr => 172.16.30.15 }
19.11 21:45:04 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:45:04 TIME: core/user.loginPost : 0.12 ms
19.11 21:45:05 TIMER: Check step...
19.11 21:45:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:05 TIMER: Check step: 1ms
19.11 21:45:10 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 140, _type => core/cache.update }
19.11 21:45:10 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:45:10 TIME: core/cache.update : 0.17 ms
19.11 21:45:10 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:45:10 TIMER: Check step...
19.11 21:45:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:10 TIMER: Check step: 0ms
19.11 21:45:15 TIMER: Check step...
19.11 21:45:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:15 TIMER: Check step: 1ms
19.11 21:45:20 TIMER: Check step...
19.11 21:45:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:20 TIMER: Check step: 1ms
19.11 21:45:25 TIMER: Check step...
19.11 21:45:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:25 TIMER: Check step: 0ms
19.11 21:45:30 TIMER: Check step...
19.11 21:45:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:30 TIMER: Check step: 1ms
19.11 21:45:35 TIMER: Check step...
19.11 21:45:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:35 TIMER: Check step: 1ms
19.11 21:45:40 TIMER: Check step...
19.11 21:45:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:40 TIMER: Check step: 0ms
19.11 21:45:45 TIMER: Check step...
19.11 21:45:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:45 TIMER: Check step: 1ms
19.11 21:45:50 TIMER: Check step...
19.11 21:45:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:50 TIMER: Check step: 0ms
19.11 21:45:55 TIMER: Check step...
19.11 21:45:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:45:55 TIMER: Check step: 0ms
19.11 21:46:00 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 140 }, _type => vdl/cache.battle.findRandom }
19.11 21:46:00 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:46:00 TIME: vdl/cache.battle.findRandom : 0.1 ms
19.11 21:46:00 TIMER: Clans cache...
19.11 21:46:00 TIMER: Clans cache: 0ms
19.11 21:46:00 TIMER: Check step...
19.11 21:46:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:00 TIMER: Check step: 0ms
19.11 21:46:00 TIMER: Check round...
19.11 21:46:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:46' OR rounddate = '2016-20-11 00:46' AND status <> 'finished'
19.11 21:46:00 DB: SELECT * FROM battle WHERE endtime >= '1479581.16090338' AND avaliable = true AND finished <> true
19.11 21:46:00 TIMER: Check round: 2ms
19.11 21:46:04 NET: vdl.0 (thread) request vdl/cache.battle.closeFind { userId => 140, _type => vdl/cache.battle.closeFind }
19.11 21:46:04 QUEUE: vdl.0 (thread) response vdl/cache.battle.closeFind { errorCode => ok, _type => vdl/cache.battle.closeFind }
19.11 21:46:04 TIME: vdl/cache.battle.closeFind : 0.17 ms
19.11 21:46:05 TIMER: Check step...
19.11 21:46:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:05 TIMER: Check step: 0ms
19.11 21:46:10 TIMER: Check step...
19.11 21:46:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:10 TIMER: Check step: 1ms
19.11 21:46:15 TIMER: Check step...
19.11 21:46:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:15 TIMER: Check step: 1ms
19.11 21:46:20 TIMER: Check step...
19.11 21:46:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:20 TIMER: Check step: 1ms
19.11 21:46:25 TIMER: Check step...
19.11 21:46:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:25 TIMER: Check step: 1ms
19.11 21:46:30 TIMER: Check step...
19.11 21:46:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:30 TIMER: Check step: 1ms
19.11 21:46:35 TIMER: Check step...
19.11 21:46:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:35 TIMER: Check step: 0ms
19.11 21:46:40 TIMER: Check step...
19.11 21:46:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:40 TIMER: Check step: 1ms
19.11 21:46:45 TIMER: Check step...
19.11 21:46:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:45 TIMER: Check step: 1ms
19.11 21:46:50 TIMER: Check step...
19.11 21:46:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:50 TIMER: Check step: 1ms
19.11 21:46:55 TIMER: Check step...
19.11 21:46:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:46:55 TIMER: Check step: 0ms
19.11 21:47:00 TIMER: Clans cache...
19.11 21:47:00 TIMER: Clans cache: 0ms
19.11 21:47:00 TIMER: Check step...
19.11 21:47:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:00 TIMER: Check step: 0ms
19.11 21:47:00 TIMER: Check round...
19.11 21:47:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:47' OR rounddate = '2016-20-11 00:47' AND status <> 'finished'
19.11 21:47:00 DB: SELECT * FROM battle WHERE endtime >= '1479581.22093301' AND avaliable = true AND finished <> true
19.11 21:47:00 TIMER: Check round: 1ms
19.11 21:47:05 TIMER: Check step...
19.11 21:47:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:05 TIMER: Check step: 0ms
19.11 21:47:10 TIMER: Check step...
19.11 21:47:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:10 TIMER: Check step: 0ms
19.11 21:47:15 TIMER: Check step...
19.11 21:47:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:15 TIMER: Check step: 1ms
19.11 21:47:20 TIMER: Check step...
19.11 21:47:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:20 TIMER: Check step: 1ms
19.11 21:47:25 TIMER: Check step...
19.11 21:47:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:25 TIMER: Check step: 1ms
19.11 21:47:30 TIMER: Check step...
19.11 21:47:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:30 TIMER: Check step: 0ms
19.11 21:47:35 TIMER: Check step...
19.11 21:47:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:35 TIMER: Check step: 1ms
19.11 21:47:40 TIMER: Check step...
19.11 21:47:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:40 TIMER: Check step: 1ms
19.11 21:47:45 TIMER: Check step...
19.11 21:47:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:45 TIMER: Check step: 1ms
19.11 21:47:47 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true, _type => core/server.query }
19.11 21:47:47 DB: SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true
19.11 21:47:47 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 18 }, { id => 22 }}, errorCode => ok, _type => core/server.query }
19.11 21:47:47 TIME: core/server.query : 0.84 ms
19.11 21:47:47 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 22, _type => vdl/cache.battle.infoRoom }
19.11 21:47:47 STATS: cache [battle], get [14 calls, 10 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:47:47 STATS: cache [battle], segments [22 calls, 18 hits, 3 misses]
19.11 21:47:47 STATS: cache [battle], database [827 calls, 3 reads, 4 writes]
19.11 21:47:47 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:47:47 READDB: SELECT * FROM Battle WHERE ID = 22
19.11 21:47:47 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:47:47 TIME: vdl/cache.battle.infoRoom : 1.17 ms
19.11 21:47:47 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 22, _type => vdl/cache.battle.deleteRoom }
19.11 21:47:47 ROOM: deleted room 22
19.11 21:47:47 DB: DELETE FROM Battle WHERE ID = 22
19.11 21:47:47 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:47:47 TIME: vdl/cache.battle.deleteRoom : 27.01 ms
19.11 21:47:47 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 22, _type => vdl/cache.battle.finishRoom }
19.11 21:47:47 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:47:47 TIME: vdl/cache.battle.finishRoom : 0.08 ms
19.11 21:47:47 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 140, _type => core/cache.update }
19.11 21:47:47 STATS: cache [user], get [5 calls, 0 cache hits, 5 cache misses, 0 same version, 0 not found]
19.11 21:47:47 STATS: cache [user], segments [20 calls, 9 hits, 10 misses]
19.11 21:47:47 STATS: cache [user], database [828 calls, 5 reads, 6 writes]
19.11 21:47:47 STATS: cache [user], lock [6 calls, 6 attempts, 1 failures]
19.11 21:47:47 STATS: cache manager [1], get [10 calls, total 0.02 sec spent, avg 1.73 ms]
19.11 21:47:47 STATS: cache manager [1], update [9 calls, total 0 sec spent, avg 0.1 ms]
19.11 21:47:47 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:47:47 TIME: core/cache.update : 0.21 ms
19.11 21:47:47 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 140, _type => core/cache.update }
19.11 21:47:47 STATS: cache [questdata], get [5 calls, 0 cache hits, 5 cache misses, 0 same version, 0 not found]
19.11 21:47:47 STATS: cache [questdata], segments [15 calls, 4 hits, 10 misses]
19.11 21:47:47 STATS: cache [questdata], database [828 calls, 5 reads, 2 writes]
19.11 21:47:47 STATS: cache [questdata], lock [5 calls, 5 attempts, 0 failures]
19.11 21:47:47 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:47:47 TIME: core/cache.update : 0.24 ms
19.11 21:47:47 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 140, _type => core/user.logoutPost }
19.11 21:47:47 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:47:47 TIME: core/user.logoutPost : 0.07 ms
19.11 21:47:48 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:47:48 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 140
19.11 21:47:50 TIMER: Check step...
19.11 21:47:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:50 TIMER: Check step: 0ms
19.11 21:47:52 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'141', finished = E'true', endtime = E'1483180', firstid = E'140', steptime = E'1479700', params = E'{}', avaliable = E'false' WHERE ID = 22
19.11 21:47:55 TIMER: Check step...
19.11 21:47:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:47:55 TIMER: Check step: 1ms
19.11 21:47:58 BLOCKREMOVE: user 140 removed
19.11 21:47:58 BLOCKREMOVE: questdata 140 removed
19.11 21:48:00 TIMER: Clans cache...
19.11 21:48:00 TIMER: Clans cache: 0ms
19.11 21:48:00 TIMER: Check step...
19.11 21:48:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:00 TIMER: Check step: 0ms
19.11 21:48:00 TIMER: Check round...
19.11 21:48:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:48' OR rounddate = '2016-20-11 00:48' AND status <> 'finished'
19.11 21:48:00 DB: SELECT * FROM battle WHERE endtime >= '1479581.28095936' AND avaliable = true AND finished <> true
19.11 21:48:00 TIMER: Check round: 2ms
19.11 21:48:02 BLOCKREMOVE: battle 22 removed
19.11 21:48:05 TIMER: Check step...
19.11 21:48:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:05 TIMER: Check step: 0ms
19.11 21:48:10 TIMER: Check step...
19.11 21:48:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:10 TIMER: Check step: 1ms
19.11 21:48:15 TIMER: Check step...
19.11 21:48:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:15 TIMER: Check step: 0ms
19.11 21:48:20 TIMER: Check step...
19.11 21:48:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:20 TIMER: Check step: 1ms
19.11 21:48:25 TIMER: Check step...
19.11 21:48:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:25 TIMER: Check step: 1ms
19.11 21:48:30 TIMER: Check step...
19.11 21:48:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:30 TIMER: Check step: 0ms
19.11 21:48:35 TIMER: Check step...
19.11 21:48:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:35 TIMER: Check step: 1ms
19.11 21:48:40 TIMER: Check step...
19.11 21:48:40 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:40 TIMER: Check step: 1ms
19.11 21:48:45 TIMER: Check step...
19.11 21:48:45 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:45 TIMER: Check step: 1ms
19.11 21:48:50 TIMER: Check step...
19.11 21:48:50 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:50 TIMER: Check step: 1ms
19.11 21:48:55 TIMER: Check step...
19.11 21:48:55 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:48:55 TIMER: Check step: 0ms
19.11 21:49:00 TIMER: Clans cache...
19.11 21:49:00 TIMER: Clans cache: 0ms
19.11 21:49:00 TIMER: Check step...
19.11 21:49:00 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:00 TIMER: Check step: 1ms
19.11 21:49:00 TIMER: Check round...
19.11 21:49:00 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:49' OR rounddate = '2016-20-11 00:49' AND status <> 'finished'
19.11 21:49:00 DB: SELECT * FROM battle WHERE endtime >= '1479581.34098669' AND avaliable = true AND finished <> true
19.11 21:49:00 TIMER: Check round: 2ms
19.11 21:49:05 TIMER: Check step...
19.11 21:49:05 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:05 TIMER: Check step: 0ms
19.11 21:49:10 TIMER: Check step...
19.11 21:49:10 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:10 TIMER: Check step: 0ms
19.11 21:49:15 TIMER: Check step...
19.11 21:49:15 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:15 TIMER: Check step: 1ms
19.11 21:49:20 TIMER: Check step...
19.11 21:49:20 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:20 TIMER: Check step: 0ms
19.11 21:49:25 TIMER: Check step...
19.11 21:49:25 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:25 TIMER: Check step: 1ms
19.11 21:49:30 TIMER: Check step...
19.11 21:49:30 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:30 TIMER: Check step: 0ms
19.11 21:49:35 TIMER: Check step...
19.11 21:49:35 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:49:35 TIMER: Check step: 0ms
19.11 21:49:56 TIMER: Starting timer...
19.11 21:49:56 TIMER: Timer running...
19.11 21:49:56 DB: SELECT * FROM GameVars
19.11 21:49:56 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd + '1day'::interval) AS TimeEnd FROM CalendarEvents ORDER BY ID
19.11 21:49:56 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
19.11 21:49:56 DB: SELECT * FROM Shops WHERE ID = 1
19.11 21:49:56 TEMP: load ./tmp/quest_daily_ids
19.11 21:49:56 DB: SELECT ID FROM QuestChains WHERE IsEnabled = 't' AND Params LIKE '%"isDaily":true%' ORDER BY ID
19.11 21:49:56 TEMP: save ./tmp/quest_daily_ids
19.11 21:49:56 NET: ??? request core/server.login { host => 172.16.30.23, name => vdl.0, port => 2030, type => game, _type => core/server.login, externalHost => 172.16.30.23, externalPort => 2030 }
19.11 21:49:56 QUEUE: vdl.0 (thread) response server.login
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM LocalizationStrings, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM LocalizationStrings
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 5.72 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM GameVars, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM GameVars
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.67 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestParameterTypes ORDER BY ID, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM QuestParameterTypes ORDER BY ID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.78 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestConditionTypes ORDER BY ID, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM QuestConditionTypes ORDER BY ID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.39 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM QuestChains WHERE IsEnabled = 't', _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM QuestChains WHERE IsEnabled = 't'
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.61 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f'), _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM Quests WHERE ChainID NOT IN (SELECT ID FROM QuestChains WHERE IsEnabled = 'f')
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.75 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/quest.getDaily { _type => core/quest.getDaily }
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/quest.getDaily
19.11 21:49:56 TIME: core/quest.getDaily : 0.04 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserAttributeTypes, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM UserAttributeTypes
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.32 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM UserVariableTypes, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM UserVariableTypes
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.28 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID, _type => core/server.query }
19.11 21:49:56 DB: SELECT i.ID, i.GroupID, i.StringID, i.Name, i.Note, i.Params, i.TypeID, it.StringID AS Type, it.SlotID AS SlotID, ig.Name AS Group FROM Items AS i JOIN ItemTypes AS it ON i.TypeID = it.ID JOIN ItemGroups AS ig ON i.GroupID = ig.ID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 1.03 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM ItemGroups, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM ItemGroups
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.4 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Bundles ORDER BY ID, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM Bundles ORDER BY ID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.7 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM BundleItems ORDER BY ID, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM BundleItems ORDER BY ID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.46 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/shop.getList { _type => core/shop.getList }
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/shop.getList
19.11 21:49:56 TIME: core/shop.getList : 0.04 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM EffectAttributeTypes, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM EffectAttributeTypes
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.47 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Effects, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM Effects
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.53 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID, _type => core/server.query }
19.11 21:49:56 DB: SELECT *, date_part('epoch', DateStart) AS TimeStart, date_part('epoch', DateEnd) AS TimeEnd FROM CalendarEvents ORDER BY ID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.65 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID, _type => core/server.query }
19.11 21:49:56 DB: SELECT *, date_part('epoch', Date) AS TimeStart FROM CalendarEventStages ORDER BY EventID, StageID
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.72 ms
19.11 21:49:56 NET: vdl.0 (thread) request core/server.query { q => SELECT * FROM Badges, _type => core/server.query }
19.11 21:49:56 DB: SELECT * FROM Badges
19.11 21:49:56 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:49:56 TIME: core/server.query : 0.34 ms
19.11 21:50:01 TIMER: Check step...
19.11 21:50:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:01 TIMER: Check step: 3ms
19.11 21:50:04 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140', _type => core/server.query }
19.11 21:50:05 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid140' AND Password = E'uid140'
19.11 21:50:05 QUEUE: vdl.0 (thread) response core/server.query
19.11 21:50:05 TIME: core/server.query : 9 ms
19.11 21:50:05 NET: vdl.0 (thread) request core/user.isOnlineID { id => 140, _type => core/user.isOnlineID }
19.11 21:50:05 QUEUE: vdl.0 (thread) response core/user.isOnlineID
19.11 21:50:05 TIME: core/user.isOnlineID : 0.1 ms
19.11 21:50:05 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 140, _type => core/cache.get }
19.11 21:50:05 READDB: SELECT * FROM Users WHERE ID = 140
19.11 21:50:05 QUEUE: vdl.0 (thread) response core/cache.get
19.11 21:50:05 TIME: core/cache.get : 3.53 ms
19.11 21:50:05 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 140, _type => core/cache.get }
19.11 21:50:05 READDB: SELECT * FROM UserQuests WHERE ID = 140
19.11 21:50:05 QUEUE: vdl.0 (thread) response core/cache.get
19.11 21:50:05 TIME: core/cache.get : 1.27 ms
19.11 21:50:05 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 140, _type => core/user.loginPost, ipAddr => 172.16.30.15 }
19.11 21:50:05 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:50:05 TIME: core/user.loginPost : 0.28 ms
19.11 21:50:06 TIMER: Check step...
19.11 21:50:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:06 TIMER: Check step: 2ms
19.11 21:50:11 TIMER: Check step...
19.11 21:50:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:11 TIMER: Check step: 3ms
19.11 21:50:11 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 140, _type => core/cache.update }
19.11 21:50:11 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:50:11 TIME: core/cache.update : 0.13 ms
19.11 21:50:12 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:50:16 TIMER: Check step...
19.11 21:50:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:16 TIMER: Check step: 0ms
19.11 21:50:21 NET: vdl.0 (thread) request core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141', _type => core/server.query }
19.11 21:50:21 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = E'uid141' AND Password = E'uid141'
19.11 21:50:21 QUEUE: vdl.0 (thread) response core/server.query { list => {{ name => uid141, networkid => , isbanned => false, id => 141 }}, errorCode => ok, _type => core/server.query }
19.11 21:50:21 TIME: core/server.query : 1.53 ms
19.11 21:50:21 NET: vdl.0 (thread) request core/user.isOnlineID { id => 141, _type => core/user.isOnlineID }
19.11 21:50:21 QUEUE: vdl.0 (thread) response core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
19.11 21:50:21 TIME: core/user.isOnlineID : 0.11 ms
19.11 21:50:21 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 141, _type => core/cache.get }
19.11 21:50:21 READDB: SELECT * FROM Users WHERE ID = 141
19.11 21:50:21 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid141, deleted => false, email => , networktype =>   , password => uid141, isbanned => false, regdate => 2016-11-19 20:20:05.55314+03, language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479576158, lastLoginDate => 324, lastLoadDate => 1120 }, effects => { list => [] } }}, version => 0, id => 141 } }
19.11 21:50:21 TIME: core/cache.get : 2.31 ms
19.11 21:50:21 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 141, _type => core/cache.get }
19.11 21:50:21 READDB: SELECT * FROM UserQuests WHERE ID = 141
19.11 21:50:21 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 141 } }
19.11 21:50:21 TIME: core/cache.get : 1.22 ms
19.11 21:50:21 NET: vdl.0 (thread) request core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 141, _type => core/user.loginPost, ipAddr => 172.16.20.65 }
19.11 21:50:21 QUEUE: vdl.0 (thread) response core/user.loginPost { _type => core/user.loginPost }
19.11 21:50:21 TIME: core/user.loginPost : 0.15 ms
19.11 21:50:21 TIMER: Check step...
19.11 21:50:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:21 TIMER: Check step: 1ms
19.11 21:50:26 TIMER: Check step...
19.11 21:50:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:26 TIMER: Check step: 1ms
19.11 21:50:26 NET: vdl.0 (thread) request core/cache.update { diff => {language => en}, type => user, unlock => false, id => 141, _type => core/cache.update }
19.11 21:50:26 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:50:26 TIME: core/cache.update : 0.15 ms
19.11 21:50:27 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:50:30 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
19.11 21:50:30 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:50:30 TIME: vdl/cache.battle.findRandom : 0.12 ms
19.11 21:50:31 TIMER: Check step...
19.11 21:50:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:31 TIMER: Check step: 1ms
19.11 21:50:32 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 140 }, _type => vdl/cache.battle.findRandom }
19.11 21:50:32 DB: SELECT nextval('Battle_id_seq') AS id
19.11 21:50:32 READDB: SELECT ID FROM Battle WHERE ID = 28
19.11 21:50:32 READDB: INSERT INTO Battle (ID) VALUES (28)
19.11 21:50:32 READDB: SELECT * FROM Battle WHERE ID = 28
19.11 21:50:32 DB: SELECT name FROM users WHERE id=140
19.11 21:50:32 DB: SELECT name FROM users WHERE id=141
19.11 21:50:32 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid140, enemy.id => 141, enemy.name => uid141, id => 140, enemy.num => 2, battleId => 28, player => 1 }, _isNotify => true, id => 140, _type => battle.enemyEvent }
19.11 21:50:32 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 140, enemy.name => uid140, id => 141, enemy.num => 1, battleId => 28, player => 2 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
19.11 21:50:32 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:50:32 TIME: vdl/cache.battle.findRandom : 35.91 ms
19.11 21:50:36 TIMER: Check step...
19.11 21:50:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:36 TIMER: Check step: 0ms
19.11 21:50:37 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'false', endtime = E'1483181.43280872', firstid = E'140', steptime = E'1479701.4328116', params = E'{}', avaliable = E'false' WHERE ID = 28
19.11 21:50:41 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 28, _type => vdl/cache.battle.infoRoom }
19.11 21:50:41 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:50:41 TIME: vdl/cache.battle.infoRoom : 0.16 ms
19.11 21:50:41 TIMER: Check step...
19.11 21:50:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:41 TIMER: Check step: 2ms
19.11 21:50:44 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 28, _type => vdl/cache.battle.infoRoom }
19.11 21:50:44 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:50:44 TIME: vdl/cache.battle.infoRoom : 0.14 ms
19.11 21:50:44 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [0,0], _type => vdl/cache.battle.setScores, player1 => 140, player2 => 141, battleId => 28 }
19.11 21:50:44 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:50:44 TIME: vdl/cache.battle.setScores : 0.15 ms
19.11 21:50:45 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 28, _type => vdl/cache.battle.infoRoom }
19.11 21:50:45 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:50:45 TIME: vdl/cache.battle.infoRoom : 0.19 ms
19.11 21:50:45 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [0,0], _type => vdl/cache.battle.setScores, player1 => 140, player2 => 141, battleId => 28 }
19.11 21:50:45 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:50:45 TIME: vdl/cache.battle.setScores : 0.12 ms
19.11 21:50:46 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 28, _type => vdl/cache.battle.infoRoom }
19.11 21:50:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:50:46 TIME: vdl/cache.battle.infoRoom : 0.17 ms
19.11 21:50:46 NET: vdl.0 (thread) request vdl/cache.battle.setScores { scores => [1,0], _type => vdl/cache.battle.setScores, player1 => 140, player2 => 141, battleId => 28 }
19.11 21:50:46 QUEUE: vdl.0 (thread) response battle.endEvent { type => winGame, typeBattle => battle, _isNotify => true, _type => battle.endEvent, win => 140, battleId => 28 }
19.11 21:50:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.setScores { errorCode => ok, _type => vdl/cache.battle.setScores }
19.11 21:50:46 TIME: vdl/cache.battle.setScores : 0.88 ms
19.11 21:50:46 NET: vdl.0 (thread) request core/cache.get { type => user, v => -1, id => 1, _type => core/cache.get }
19.11 21:50:46 READDB: SELECT * FROM Users WHERE ID = 1
19.11 21:50:46 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => --- DEFAULT ATTRIBUTES ---, deleted => false, email => , networktype =>   , password => , isbanned => false, regdate => 2016-08-30 15:45:16.008574+03, language =>   , networkid => , params => { inventory => { list => [] }, attrs => {}, effects => { list => [] } }}, version => 0, id => 1 } }
19.11 21:50:46 TIME: core/cache.get : 2.15 ms
19.11 21:50:46 NET: vdl.0 (thread) request core/cache.get { type => questdata, v => -1, id => 1, _type => core/cache.get }
19.11 21:50:46 READDB: SELECT * FROM UserQuests WHERE ID = 1
19.11 21:50:46 QUEUE: vdl.0 (thread) response core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => {}}, version => 0, id => 1 } }
19.11 21:50:46 TIME: core/cache.get : 0.95 ms
19.11 21:50:46 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 28, _type => vdl/cache.battle.infoRoom }
19.11 21:50:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 141, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 140 }
19.11 21:50:46 TIME: vdl/cache.battle.infoRoom : 0.44 ms
19.11 21:50:46 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 28, _type => vdl/cache.battle.finishRoom }
19.11 21:50:46 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:50:46 TIME: vdl/cache.battle.finishRoom : 0.46 ms
19.11 21:50:46 TIMER: Check step...
19.11 21:50:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:46 TIMER: Check step: 0ms
19.11 21:50:46 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'141', turnid = E'140', finished = E'true', endtime = E'1483181.43280872', firstid = E'140', steptime = E'1479701.4328116', params = E'{}', avaliable = E'false' WHERE ID = 28
19.11 21:50:51 TIMER: Check step...
19.11 21:50:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:51 TIMER: Check step: 1ms
19.11 21:50:56 TIMER: Clans cache...
19.11 21:50:56 TIMER: Clans cache: 0ms
19.11 21:50:56 TIMER: Check step...
19.11 21:50:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:50:56 TIMER: Check step: 0ms
19.11 21:50:56 TIMER: Check round...
19.11 21:50:56 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:50' OR rounddate = '2016-20-11 00:50' AND status <> 'finished'
19.11 21:50:56 DB: SELECT * FROM battle WHERE endtime >= '1479581.45684227' AND avaliable = true AND finished <> true
19.11 21:50:56 TIMER: Check round: 1ms
19.11 21:50:56 BLOCKREMOVE: battle 28 removed
19.11 21:51:01 TIMER: Check step...
19.11 21:51:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:01 TIMER: Check step: 1ms
19.11 21:51:06 TIMER: Check step...
19.11 21:51:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:06 TIMER: Check step: 1ms
19.11 21:51:11 TIMER: Check step...
19.11 21:51:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:11 TIMER: Check step: 1ms
19.11 21:51:16 TIMER: Check step...
19.11 21:51:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:16 TIMER: Check step: 1ms
19.11 21:51:21 TIMER: Check step...
19.11 21:51:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:21 TIMER: Check step: 1ms
19.11 21:51:26 TIMER: Check step...
19.11 21:51:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:26 TIMER: Check step: 1ms
19.11 21:51:31 TIMER: Check step...
19.11 21:51:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:31 TIMER: Check step: 1ms
19.11 21:51:36 TIMER: Check step...
19.11 21:51:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:36 TIMER: Check step: 1ms
19.11 21:51:41 TIMER: Check step...
19.11 21:51:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:41 TIMER: Check step: 1ms
19.11 21:51:46 TIMER: Check step...
19.11 21:51:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:46 TIMER: Check step: 1ms
19.11 21:51:51 TIMER: Check step...
19.11 21:51:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:51 TIMER: Check step: 1ms
19.11 21:51:56 TIMER: Clans cache...
19.11 21:51:56 TIMER: Clans cache: 0ms
19.11 21:51:56 TIMER: Check step...
19.11 21:51:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:51:56 TIMER: Check step: 0ms
19.11 21:51:56 TIMER: Check round...
19.11 21:51:56 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:51' OR rounddate = '2016-20-11 00:51' AND status <> 'finished'
19.11 21:51:56 DB: SELECT * FROM battle WHERE endtime >= '1479581.5168716' AND avaliable = true AND finished <> true
19.11 21:51:56 TIMER: Check round: 2ms
19.11 21:52:01 TIMER: Check step...
19.11 21:52:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:01 TIMER: Check step: 1ms
19.11 21:52:06 TIMER: Check step...
19.11 21:52:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:06 TIMER: Check step: 1ms
19.11 21:52:11 TIMER: Check step...
19.11 21:52:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:11 TIMER: Check step: 1ms
19.11 21:52:16 TIMER: Check step...
19.11 21:52:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:16 TIMER: Check step: 1ms
19.11 21:52:21 TIMER: Check step...
19.11 21:52:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:21 TIMER: Check step: 1ms
19.11 21:52:26 TIMER: Check step...
19.11 21:52:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:26 TIMER: Check step: 1ms
19.11 21:52:31 TIMER: Check step...
19.11 21:52:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:31 TIMER: Check step: 1ms
19.11 21:52:36 TIMER: Check step...
19.11 21:52:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:36 TIMER: Check step: 1ms
19.11 21:52:41 TIMER: Check step...
19.11 21:52:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:41 TIMER: Check step: 1ms
19.11 21:52:46 TIMER: Check step...
19.11 21:52:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:46 TIMER: Check step: 1ms
19.11 21:52:51 TIMER: Check step...
19.11 21:52:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:51 TIMER: Check step: 1ms
19.11 21:52:56 TIMER: Clans cache...
19.11 21:52:56 TIMER: Clans cache: 0ms
19.11 21:52:56 TIMER: Check step...
19.11 21:52:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:52:56 TIMER: Check step: 0ms
19.11 21:52:56 TIMER: Check round...
19.11 21:52:56 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:52' OR rounddate = '2016-20-11 00:52' AND status <> 'finished'
19.11 21:52:56 DB: SELECT * FROM battle WHERE endtime >= '1479581.57689914' AND avaliable = true AND finished <> true
19.11 21:52:56 TIMER: Check round: 1ms
19.11 21:53:01 TIMER: Check step...
19.11 21:53:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:01 TIMER: Check step: 1ms
19.11 21:53:06 TIMER: Check step...
19.11 21:53:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:06 TIMER: Check step: 1ms
19.11 21:53:11 TIMER: Check step...
19.11 21:53:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:11 TIMER: Check step: 1ms
19.11 21:53:16 TIMER: Check step...
19.11 21:53:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:16 TIMER: Check step: 1ms
19.11 21:53:21 TIMER: Check step...
19.11 21:53:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:21 TIMER: Check step: 1ms
19.11 21:53:26 TIMER: Check step...
19.11 21:53:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:26 TIMER: Check step: 0ms
19.11 21:53:26 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 140 }, _type => vdl/cache.battle.findRandom }
19.11 21:53:26 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:53:26 TIME: vdl/cache.battle.findRandom : 0.12 ms
19.11 21:53:31 TIMER: Check step...
19.11 21:53:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:31 TIMER: Check step: 1ms
19.11 21:53:31 NET: vdl.0 (thread) request vdl/cache.battle.findRandom { user => { time => 60, player => 141 }, _type => vdl/cache.battle.findRandom }
19.11 21:53:31 DB: SELECT nextval('Battle_id_seq') AS id
19.11 21:53:31 READDB: SELECT ID FROM Battle WHERE ID = 29
19.11 21:53:31 READDB: INSERT INTO Battle (ID) VALUES (29)
19.11 21:53:31 STATS: cache [battle], get [9 calls, 7 cache hits, 1 cache misses, 0 same version, 0 not found]
19.11 21:53:31 STATS: cache [battle], segments [13 calls, 11 hits, 1 misses]
19.11 21:53:31 STATS: cache [battle], database [216 calls, 1 reads, 2 writes]
19.11 21:53:31 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:53:31 READDB: SELECT * FROM Battle WHERE ID = 29
19.11 21:53:31 DB: SELECT name FROM users WHERE id=141
19.11 21:53:31 DB: SELECT name FROM users WHERE id=140
19.11 21:53:31 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid141, enemy.id => 140, enemy.name => uid140, id => 141, enemy.num => 2, battleId => 29, player => 1 }, _isNotify => true, id => 141, _type => battle.enemyEvent }
19.11 21:53:31 QUEUE: vdl.0 (thread) response battle.enemyEvent { data => { name => uid140, enemy.id => 141, enemy.name => uid141, id => 140, enemy.num => 1, battleId => 29, player => 2 }, _isNotify => true, id => 140, _type => battle.enemyEvent }
19.11 21:53:31 QUEUE: vdl.0 (thread) response vdl/cache.battle.findRandom { errorCode => ok, _type => vdl/cache.battle.findRandom }
19.11 21:53:31 TIME: vdl/cache.battle.findRandom : 36.12 ms
19.11 21:53:36 TIMER: Check step...
19.11 21:53:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:36 TIMER: Check step: 1ms
19.11 21:53:37 WRITEDB: UPDATE Battle SET tournamentid = E'-1', roundtime = E'60', secondid = E'140', turnid = E'141', finished = E'false', endtime = E'1483181.6119483', firstid = E'141', steptime = E'1479701.6119508', params = E'{}', avaliable = E'false' WHERE ID = 29
19.11 21:53:41 TIMER: Check step...
19.11 21:53:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:41 TIMER: Check step: 1ms
19.11 21:53:46 TIMER: Check step...
19.11 21:53:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:46 TIMER: Check step: 1ms
19.11 21:53:47 BLOCKREMOVE: battle 29 removed
19.11 21:53:51 TIMER: Check step...
19.11 21:53:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:51 TIMER: Check step: 1ms
19.11 21:53:56 TIMER: Clans cache...
19.11 21:53:56 TIMER: Clans cache: 0ms
19.11 21:53:56 TIMER: Check step...
19.11 21:53:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:53:56 TIMER: Check step: 1ms
19.11 21:53:56 TIMER: Check round...
19.11 21:53:56 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:53' OR rounddate = '2016-20-11 00:53' AND status <> 'finished'
19.11 21:53:56 DB: SELECT * FROM battle WHERE endtime >= '1479581.63692778' AND avaliable = true AND finished <> true
19.11 21:53:56 TIMER: Check round: 3ms
19.11 21:54:01 TIMER: Check step...
19.11 21:54:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:01 TIMER: Check step: 0ms
19.11 21:54:06 TIMER: Check step...
19.11 21:54:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:06 TIMER: Check step: 0ms
19.11 21:54:11 TIMER: Check step...
19.11 21:54:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:11 TIMER: Check step: 1ms
19.11 21:54:16 TIMER: Check step...
19.11 21:54:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:16 TIMER: Check step: 1ms
19.11 21:54:21 TIMER: Check step...
19.11 21:54:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:21 TIMER: Check step: 0ms
19.11 21:54:26 TIMER: Check step...
19.11 21:54:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:26 TIMER: Check step: 1ms
19.11 21:54:31 TIMER: Check step...
19.11 21:54:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:31 TIMER: Check step: 1ms
19.11 21:54:36 TIMER: Check step...
19.11 21:54:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:36 TIMER: Check step: 0ms
19.11 21:54:41 TIMER: Check step...
19.11 21:54:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:41 TIMER: Check step: 1ms
19.11 21:54:46 TIMER: Check step...
19.11 21:54:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:46 TIMER: Check step: 0ms
19.11 21:54:51 TIMER: Check step...
19.11 21:54:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:51 TIMER: Check step: 1ms
19.11 21:54:56 TIMER: Clans cache...
19.11 21:54:56 TIMER: Clans cache: 0ms
19.11 21:54:56 TIMER: Check step...
19.11 21:54:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:54:56 TIMER: Check step: 1ms
19.11 21:54:56 TIMER: Check round...
19.11 21:54:56 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:54' OR rounddate = '2016-20-11 00:54' AND status <> 'finished'
19.11 21:54:56 DB: SELECT * FROM battle WHERE endtime >= '1479581.69695699' AND avaliable = true AND finished <> true
19.11 21:54:56 TIMER: Check round: 3ms
19.11 21:55:01 TIMER: Check step...
19.11 21:55:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:01 TIMER: Check step: 1ms
19.11 21:55:06 TIMER: Check step...
19.11 21:55:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:06 TIMER: Check step: 0ms
19.11 21:55:11 TIMER: Check step...
19.11 21:55:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:11 TIMER: Check step: 1ms
19.11 21:55:16 TIMER: Check step...
19.11 21:55:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:16 TIMER: Check step: 1ms
19.11 21:55:21 TIMER: Check step...
19.11 21:55:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:21 TIMER: Check step: 1ms
19.11 21:55:26 TIMER: Check step...
19.11 21:55:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:26 TIMER: Check step: 0ms
19.11 21:55:31 TIMER: Check step...
19.11 21:55:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:31 TIMER: Check step: 1ms
19.11 21:55:36 TIMER: Check step...
19.11 21:55:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:36 TIMER: Check step: 0ms
19.11 21:55:41 TIMER: Check step...
19.11 21:55:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:41 TIMER: Check step: 1ms
19.11 21:55:46 TIMER: Check step...
19.11 21:55:46 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:46 TIMER: Check step: 0ms
19.11 21:55:51 TIMER: Check step...
19.11 21:55:51 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:51 TIMER: Check step: 1ms
19.11 21:55:56 TIMER: Clans cache...
19.11 21:55:56 TIMER: Clans cache: 0ms
19.11 21:55:56 TIMER: Check step...
19.11 21:55:56 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:55:56 TIMER: Check step: 0ms
19.11 21:55:56 TIMER: Check round...
19.11 21:55:56 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:55' OR rounddate = '2016-20-11 00:55' AND status <> 'finished'
19.11 21:55:56 DB: SELECT * FROM battle WHERE endtime >= '1479581.75698213' AND avaliable = true AND finished <> true
19.11 21:55:56 TIMER: Check round: 1ms
19.11 21:56:01 TIMER: Check step...
19.11 21:56:01 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:01 TIMER: Check step: 1ms
19.11 21:56:06 TIMER: Check step...
19.11 21:56:06 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:06 TIMER: Check step: 1ms
19.11 21:56:11 TIMER: Check step...
19.11 21:56:11 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:11 TIMER: Check step: 1ms
19.11 21:56:16 TIMER: Check step...
19.11 21:56:16 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:16 TIMER: Check step: 1ms
19.11 21:56:21 TIMER: Check step...
19.11 21:56:21 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:21 TIMER: Check step: 0ms
19.11 21:56:26 TIMER: Check step...
19.11 21:56:26 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:26 TIMER: Check step: 1ms
19.11 21:56:31 TIMER: Check step...
19.11 21:56:31 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:31 TIMER: Check step: 1ms
19.11 21:56:36 TIMER: Check step...
19.11 21:56:36 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:36 TIMER: Check step: 1ms
19.11 21:56:41 TIMER: Check step...
19.11 21:56:41 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:41 TIMER: Check step: 1ms
19.11 21:56:47 TIMER: Check step...
19.11 21:56:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:47 TIMER: Check step: 1ms
19.11 21:56:52 TIMER: Check step...
19.11 21:56:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:52 TIMER: Check step: 1ms
19.11 21:56:57 TIMER: Clans cache...
19.11 21:56:57 TIMER: Clans cache: 0ms
19.11 21:56:57 TIMER: Check step...
19.11 21:56:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:56:57 TIMER: Check step: 0ms
19.11 21:56:57 TIMER: Check round...
19.11 21:56:57 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:56' OR rounddate = '2016-20-11 00:56' AND status <> 'finished'
19.11 21:56:57 DB: SELECT * FROM battle WHERE endtime >= '1479581.81700772' AND avaliable = true AND finished <> true
19.11 21:56:57 TIMER: Check round: 1ms
19.11 21:57:02 TIMER: Check step...
19.11 21:57:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:02 TIMER: Check step: 1ms
19.11 21:57:07 TIMER: Check step...
19.11 21:57:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:07 TIMER: Check step: 1ms
19.11 21:57:12 TIMER: Check step...
19.11 21:57:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:12 TIMER: Check step: 1ms
19.11 21:57:17 TIMER: Check step...
19.11 21:57:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:17 TIMER: Check step: 1ms
19.11 21:57:22 TIMER: Check step...
19.11 21:57:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:22 TIMER: Check step: 0ms
19.11 21:57:27 TIMER: Check step...
19.11 21:57:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:27 TIMER: Check step: 0ms
19.11 21:57:32 TIMER: Check step...
19.11 21:57:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:32 TIMER: Check step: 0ms
19.11 21:57:37 TIMER: Check step...
19.11 21:57:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:37 TIMER: Check step: 1ms
19.11 21:57:42 TIMER: Check step...
19.11 21:57:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:42 TIMER: Check step: 0ms
19.11 21:57:47 TIMER: Check step...
19.11 21:57:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:47 TIMER: Check step: 0ms
19.11 21:57:52 TIMER: Check step...
19.11 21:57:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:52 TIMER: Check step: 0ms
19.11 21:57:57 TIMER: Clans cache...
19.11 21:57:57 TIMER: Clans cache: 0ms
19.11 21:57:57 TIMER: Check step...
19.11 21:57:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:57:57 TIMER: Check step: 1ms
19.11 21:57:57 TIMER: Check round...
19.11 21:57:57 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:57' OR rounddate = '2016-20-11 00:57' AND status <> 'finished'
19.11 21:57:57 DB: SELECT * FROM battle WHERE endtime >= '1479581.87703493' AND avaliable = true AND finished <> true
19.11 21:57:57 TIMER: Check round: 1ms
19.11 21:58:02 TIMER: Check step...
19.11 21:58:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:02 TIMER: Check step: 1ms
19.11 21:58:07 TIMER: Check step...
19.11 21:58:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:07 TIMER: Check step: 0ms
19.11 21:58:12 TIMER: Check step...
19.11 21:58:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:12 TIMER: Check step: 0ms
19.11 21:58:17 TIMER: Check step...
19.11 21:58:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:17 TIMER: Check step: 0ms
19.11 21:58:22 TIMER: Check step...
19.11 21:58:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:22 TIMER: Check step: 1ms
19.11 21:58:27 TIMER: Check step...
19.11 21:58:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:27 TIMER: Check step: 1ms
19.11 21:58:32 TIMER: Check step...
19.11 21:58:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:32 TIMER: Check step: 1ms
19.11 21:58:37 TIMER: Check step...
19.11 21:58:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:37 TIMER: Check step: 0ms
19.11 21:58:42 TIMER: Check step...
19.11 21:58:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:42 TIMER: Check step: 1ms
19.11 21:58:47 TIMER: Check step...
19.11 21:58:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:47 TIMER: Check step: 0ms
19.11 21:58:52 TIMER: Check step...
19.11 21:58:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:52 TIMER: Check step: 1ms
19.11 21:58:57 TIMER: Clans cache...
19.11 21:58:57 TIMER: Clans cache: 0ms
19.11 21:58:57 TIMER: Check step...
19.11 21:58:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:58:57 TIMER: Check step: 1ms
19.11 21:58:57 TIMER: Check round...
19.11 21:58:57 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:58' OR rounddate = '2016-20-11 00:58' AND status <> 'finished'
19.11 21:58:57 DB: SELECT * FROM battle WHERE endtime >= '1479581.93705835' AND avaliable = true AND finished <> true
19.11 21:58:57 TIMER: Check round: 2ms
19.11 21:59:02 TIMER: Check step...
19.11 21:59:02 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:02 TIMER: Check step: 1ms
19.11 21:59:07 TIMER: Check step...
19.11 21:59:07 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:07 TIMER: Check step: 1ms
19.11 21:59:12 TIMER: Check step...
19.11 21:59:12 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:12 TIMER: Check step: 0ms
19.11 21:59:17 TIMER: Check step...
19.11 21:59:17 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:17 TIMER: Check step: 1ms
19.11 21:59:22 TIMER: Check step...
19.11 21:59:22 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:22 TIMER: Check step: 1ms
19.11 21:59:27 TIMER: Check step...
19.11 21:59:27 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:27 TIMER: Check step: 0ms
19.11 21:59:32 TIMER: Check step...
19.11 21:59:32 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:32 TIMER: Check step: 0ms
19.11 21:59:37 TIMER: Check step...
19.11 21:59:37 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:37 TIMER: Check step: 1ms
19.11 21:59:42 TIMER: Check step...
19.11 21:59:42 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:42 TIMER: Check step: 1ms
19.11 21:59:47 TIMER: Check step...
19.11 21:59:47 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:47 TIMER: Check step: 1ms
19.11 21:59:52 TIMER: Check step...
19.11 21:59:52 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:52 TIMER: Check step: 1ms
19.11 21:59:56 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true, _type => core/server.query }
19.11 21:59:56 DB: SELECT id FROM battle WHERE firstid=140 OR secondid=140 AND finished <> true
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 28 }, { id => 29 }, { id => 18 }}, errorCode => ok, _type => core/server.query }
19.11 21:59:56 TIME: core/server.query : 1.42 ms
19.11 21:59:56 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 18, _type => vdl/cache.battle.infoRoom }
19.11 21:59:56 STATS: cache [battle], get [11 calls, 8 cache hits, 2 cache misses, 0 same version, 0 not found]
19.11 21:59:56 STATS: cache [battle], segments [18 calls, 15 hits, 2 misses]
19.11 21:59:56 STATS: cache [battle], database [600 calls, 2 reads, 3 writes]
19.11 21:59:56 STATS: cache [battle], lock [0 calls, 0 attempts, 0 failures]
19.11 21:59:56 READDB: SELECT * FROM Battle WHERE ID = 18
19.11 21:59:56 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 19, firstId => 140, _type => vdl/cache.battle.infoRoom, turnId => 19 }
19.11 21:59:56 TIME: vdl/cache.battle.infoRoom : 1.79 ms
19.11 21:59:56 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 18, _type => vdl/cache.battle.deleteRoom }
19.11 21:59:56 ROOM: deleted room 18
19.11 21:59:56 DB: DELETE FROM Battle WHERE ID = 18
19.11 21:59:56 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:59:56 TIME: vdl/cache.battle.deleteRoom : 29.06 ms
19.11 21:59:56 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 18, _type => vdl/cache.battle.finishRoom }
19.11 21:59:56 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:59:56 TIME: vdl/cache.battle.finishRoom : 0.23 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/user.sendTo { id => 19, _type => core/user.sendTo, msg => { _type => battle.leave } }
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
19.11 21:59:56 TIME: core/user.sendTo : 0.12 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 140, _type => core/cache.update }
19.11 21:59:56 STATS: cache [user], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:59:56 STATS: cache [user], segments [9 calls, 2 hits, 6 misses]
19.11 21:59:56 STATS: cache [user], database [600 calls, 3 reads, 2 writes]
19.11 21:59:56 STATS: cache [user], lock [3 calls, 3 attempts, 0 failures]
19.11 21:59:56 STATS: cache manager [1], get [6 calls, total 0.01 sec spent, avg 1.67 ms]
19.11 21:59:56 STATS: cache manager [1], update [3 calls, total 0 sec spent, avg 0.13 ms]
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:59:56 TIME: core/cache.update : 0.77 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 140, _type => core/cache.update }
19.11 21:59:56 STATS: cache [questdata], get [3 calls, 0 cache hits, 3 cache misses, 0 same version, 0 not found]
19.11 21:59:56 STATS: cache [questdata], segments [7 calls, 0 hits, 6 misses]
19.11 21:59:56 STATS: cache [questdata], database [600 calls, 3 reads, 0 writes]
19.11 21:59:56 STATS: cache [questdata], lock [3 calls, 3 attempts, 0 failures]
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:59:56 TIME: core/cache.update : 0.88 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 140, _type => core/user.logoutPost }
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:59:56 TIME: core/user.logoutPost : 0.09 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/server.query { q => SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true, _type => core/server.query }
19.11 21:59:56 DB: SELECT id FROM battle WHERE firstid=141 OR secondid=141 AND finished <> true
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/server.query { list => {{ id => 29 }}, errorCode => ok, _type => core/server.query }
19.11 21:59:56 TIME: core/server.query : 1 ms
19.11 21:59:56 NET: vdl.0 (thread) request vdl/cache.battle.infoRoom { roomId => 29, _type => vdl/cache.battle.infoRoom }
19.11 21:59:56 READDB: SELECT * FROM Battle WHERE ID = 29
19.11 21:59:56 QUEUE: vdl.0 (thread) response vdl/cache.battle.infoRoom { secondId => 140, firstId => 141, _type => vdl/cache.battle.infoRoom, turnId => 141 }
19.11 21:59:56 TIME: vdl/cache.battle.infoRoom : 0.89 ms
19.11 21:59:56 NET: vdl.0 (thread) request vdl/cache.battle.deleteRoom { roomId => 29, _type => vdl/cache.battle.deleteRoom }
19.11 21:59:56 ROOM: deleted room 29
19.11 21:59:56 DB: DELETE FROM Battle WHERE ID = 29
19.11 21:59:56 QUEUE: vdl.0 (thread) response vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
19.11 21:59:56 TIME: vdl/cache.battle.deleteRoom : 3.73 ms
19.11 21:59:56 NET: vdl.0 (thread) request vdl/cache.battle.finishRoom { roomId => 29, _type => vdl/cache.battle.finishRoom }
19.11 21:59:56 QUEUE: vdl.0 (thread) response vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
19.11 21:59:56 TIME: vdl/cache.battle.finishRoom : 0.12 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/user.sendTo { id => 140, _type => core/user.sendTo, msg => { _type => battle.leave } }
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
19.11 21:59:56 TIME: core/user.sendTo : 0.1 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => user, unlock => true, id => 141, _type => core/cache.update }
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
19.11 21:59:56 TIME: core/cache.update : 0.13 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/cache.update { diff => {}, type => questdata, unlock => true, id => 141, _type => core/cache.update }
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
19.11 21:59:56 TIME: core/cache.update : 0.21 ms
19.11 21:59:56 NET: vdl.0 (thread) request core/user.logoutPost { networkid => , networktype =>   , id => 141, _type => core/user.logoutPost }
19.11 21:59:56 QUEUE: vdl.0 (thread) response core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
19.11 21:59:56 TIME: core/user.logoutPost : 0.1 ms
19.11 21:59:57 WRITEDB: UPDATE Users SET name = E'uid141', deleted = E'false', email = E'', networktype = E'  ', password = E'uid141', isbanned = E'false', regdate = E'2016-11-19 20:20:05.55314+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479576158,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 141
19.11 21:59:57 WRITEDB: UPDATE Users SET name = E'uid140', deleted = E'false', email = E'', networktype = E'  ', password = E'uid140', isbanned = E'false', regdate = E'2016-11-19 17:25:00.661+03', language = E'en', networkid = E'', params = E'{"attrs":{"_lastTime.24hr":1479567029,"lastLoginDate":324,"lastLoadDate":1120},"effects":{"list":[]}}' WHERE ID = 140
19.11 21:59:57 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 141
19.11 21:59:57 TIMER: Clans cache...
19.11 21:59:57 TIMER: Clans cache: 0ms
19.11 21:59:57 TIMER: Check step...
19.11 21:59:57 DB: SELECT * FROM battle WHERE avaliable = true AND finished <> true AND steptime <> -1
19.11 21:59:57 TIMER: Check step: 0ms
19.11 21:59:57 TIMER: Check round...
19.11 21:59:57 DB: SELECT * FROM tournament WHERE startdate = '2016-20-11 00:59' OR rounddate = '2016-20-11 00:59' AND status <> 'finished'
19.11 21:59:57 DB: SELECT * FROM battle WHERE endtime >= '1479581.9970845' AND avaliable = true AND finished <> true
19.11 21:59:57 TIMER: Check round: 1ms
19.11 21:59:57 WRITEDB: UPDATE UserQuests SET params = E'oy6:questsoy4:listahgg' WHERE ID = 140
