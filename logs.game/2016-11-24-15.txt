24.11 15:00:17 STATS: vdl.0 cache, locks:0
24.11 15:00:43 TIMER: Check auto-disconnect...
24.11 15:01:17 STATS: vdl.0 cache, locks:0
24.11 15:01:43 TIMER: Check auto-disconnect...
24.11 15:02:17 STATS: vdl.0 cache, locks:0
24.11 15:02:43 TIMER: Check auto-disconnect...
24.11 15:03:17 STATS: vdl.0 cache, locks:0
24.11 15:03:43 TIMER: Check auto-disconnect...
24.11 15:04:17 STATS: vdl.0 cache, locks:0
24.11 15:04:43 TIMER: Check auto-disconnect...
24.11 15:05:17 STATS: vdl.0 cache, locks:0
24.11 15:05:43 TIMER: Check auto-disconnect...
24.11 15:06:17 STATS: vdl.0 cache, locks:0
24.11 15:06:43 TIMER: Check auto-disconnect...
24.11 15:07:17 STATS: vdl.0 cache, locks:0
24.11 15:07:43 TIMER: Check auto-disconnect...
24.11 15:08:17 STATS: vdl.0 cache, locks:0
24.11 15:08:43 TIMER: Check auto-disconnect...
24.11 15:09:17 STATS: vdl.0 cache, locks:0
24.11 15:09:43 TIMER: Check auto-disconnect...
24.11 15:10:17 STATS: vdl.0 cache, locks:0
24.11 15:10:43 TIMER: Check auto-disconnect...
24.11 15:11:17 STATS: vdl.0 cache, locks:0
24.11 15:11:43 TIMER: Check auto-disconnect...
24.11 15:12:17 STATS: vdl.0 cache, locks:0
24.11 15:12:43 TIMER: Check auto-disconnect...
24.11 15:13:17 STATS: vdl.0 cache, locks:0
24.11 15:13:43 TIMER: Check auto-disconnect...
24.11 15:14:17 STATS: vdl.0 cache, locks:0
24.11 15:14:43 TIMER: Check auto-disconnect...
24.11 15:15:17 STATS: vdl.0 cache, locks:0
24.11 15:15:43 TIMER: Check auto-disconnect...
24.11 15:16:17 STATS: vdl.0 cache, locks:0
24.11 15:16:43 TIMER: Check auto-disconnect...
24.11 15:17:17 STATS: vdl.0 cache, locks:0
24.11 15:17:43 TIMER: Check auto-disconnect...
24.11 15:18:17 STATS: vdl.0 cache, locks:0
24.11 15:18:43 TIMER: Check auto-disconnect...
24.11 15:19:17 STATS: vdl.0 cache, locks:0
24.11 15:19:43 TIMER: Check auto-disconnect...
24.11 15:20:17 STATS: vdl.0 cache, locks:0
24.11 15:20:43 TIMER: Check auto-disconnect...
24.11 15:21:17 STATS: vdl.0 cache, locks:0
24.11 15:21:43 TIMER: Check auto-disconnect...
24.11 15:22:17 STATS: vdl.0 cache, locks:0
24.11 15:22:43 TIMER: Check auto-disconnect...
24.11 15:23:17 STATS: vdl.0 cache, locks:0
24.11 15:23:43 TIMER: Check auto-disconnect...
24.11 15:24:17 STATS: vdl.0 cache, locks:0
24.11 15:24:43 TIMER: Check auto-disconnect...
24.11 15:25:17 STATS: vdl.0 cache, locks:0
24.11 15:25:43 TIMER: Check auto-disconnect...
24.11 15:26:17 STATS: vdl.0 cache, locks:0
24.11 15:26:43 TIMER: Check auto-disconnect...
24.11 15:27:17 STATS: vdl.0 cache, locks:0
24.11 15:27:43 TIMER: Check auto-disconnect...
24.11 15:28:17 STATS: vdl.0 cache, locks:0
24.11 15:28:43 TIMER: Check auto-disconnect...
24.11 15:29:17 STATS: vdl.0 cache, locks:0
24.11 15:29:43 TIMER: Check auto-disconnect...
24.11 15:30:17 STATS: vdl.0 cache, locks:0
24.11 15:30:43 TIMER: Check auto-disconnect...
24.11 15:31:17 STATS: vdl.0 cache, locks:0
24.11 15:31:43 TIMER: Check auto-disconnect...
24.11 15:32:17 STATS: vdl.0 cache, locks:0
24.11 15:32:43 TIMER: Check auto-disconnect...
24.11 15:33:17 STATS: vdl.0 cache, locks:0
24.11 15:33:43 TIMER: Check auto-disconnect...
24.11 15:34:17 STATS: vdl.0 cache, locks:0
24.11 15:34:43 TIMER: Check auto-disconnect...
24.11 15:35:17 STATS: vdl.0 cache, locks:0
24.11 15:35:43 TIMER: Check auto-disconnect...
24.11 15:36:17 STATS: vdl.0 cache, locks:0
24.11 15:36:43 TIMER: Check auto-disconnect...
24.11 15:37:17 STATS: vdl.0 cache, locks:0
24.11 15:37:43 TIMER: Check auto-disconnect...
24.11 15:38:17 STATS: vdl.0 cache, locks:0
24.11 15:38:43 TIMER: Check auto-disconnect...
24.11 15:39:17 STATS: vdl.0 cache, locks:0
24.11 15:39:43 TIMER: Check auto-disconnect...
24.11 15:40:17 STATS: vdl.0 cache, locks:0
24.11 15:40:43 TIMER: Check auto-disconnect...
24.11 15:41:17 STATS: vdl.0 cache, locks:0
24.11 15:41:43 TIMER: Check auto-disconnect...
24.11 15:42:17 STATS: vdl.0 cache, locks:0
24.11 15:42:43 TIMER: Check auto-disconnect...
24.11 15:43:17 STATS: vdl.0 cache, locks:0
24.11 15:43:43 TIMER: Check auto-disconnect...
24.11 15:44:17 STATS: vdl.0 cache, locks:0
24.11 15:44:43 TIMER: Check auto-disconnect...
24.11 15:45:17 STATS: vdl.0 cache, locks:0
24.11 15:45:43 TIMER: Check auto-disconnect...
24.11 15:46:17 STATS: vdl.0 cache, locks:0
24.11 15:46:43 TIMER: Check auto-disconnect...
24.11 15:47:17 STATS: vdl.0 cache, locks:0
24.11 15:47:43 TIMER: Check auto-disconnect...
24.11 15:48:17 STATS: vdl.0 cache, locks:0
24.11 15:48:29 NET: Client (conid:6864575) connected to vdl.0 (clients:1)
24.11 15:48:32 ++ NET: null req: user.login { password => ukfveh, name => nelli, messageType => user.login }
24.11 15:48:32 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'nelli' AND Password = 'ukfveh'
24.11 15:48:32 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'nelli' AND Password = 'ukfveh', _type => core/server.query }
24.11 15:48:32 -<<-: core/server.query { list => {{ name => nelli, networkid => , isbanned => false, id => 124 }}, errorCode => ok, _type => core/server.query }
24.11 15:48:32 STATS: vdl.0 cache connection, 2147 calls, total 1.43927836418152 sec spent, avg 0.67 ms
24.11 15:48:32 ->>-: core/user.isOnlineID { id => 124, _type => core/user.isOnlineID }
24.11 15:48:32 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
24.11 15:48:32 ->>-: core/cache.get { type => user, v => -1, id => 124, _type => core/cache.get }
24.11 15:48:32 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => nelli, deleted => false, year => , email => nlabunskaya@mail.ru, networktype =>   , password => ukfveh, isbanned => false, regdate => 2016-11-20 21:37:47.064605+00, city => , language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479818733, lastLoginDate => 328, money => 4, lastLoadDate => 1124 }, effects => { list => [] } }}, version => 0, id => 124 } }
24.11 15:48:32 ->>-: core/cache.get { type => questdata, v => -1, id => 124, _type => core/cache.get }
24.11 15:48:32 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 124 } }
24.11 15:48:32 NET: Client login (conid:6864575, id:124, name:nelli)
24.11 15:48:32 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 124, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
24.11 15:48:32 -<<-: core/user.loginPost { _type => core/user.loginPost }
24.11 15:48:32 DB: SELECT token FROM tokens WHERE userid = 124
24.11 15:48:32 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 124, _type => core/server.query }
24.11 15:48:32 -<<-: core/server.query { list => {{ token => ad298cff9fc85abf8cf7c9599dc4302b }}, errorCode => ok, _type => core/server.query }
24.11 15:48:32 DB: SELECT ID FROM TempUserLogins WHERE UserID = 124 AND Date = 'today'::timestamp
24.11 15:48:32 ->>-: core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 124 AND Date = 'today'::timestamp, _type => core/server.query }
24.11 15:48:32 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
24.11 15:48:32 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (124, 'today'::timestamp)
24.11 15:48:32 == NET: nelli ret: user.login { name => nelli, type => user.login, errorCode => ok, id => 124, token => ad298cff9fc85abf8cf7c9599dc4302b }
24.11 15:48:32 == NET: nelli ret: user.join { name => nelli, type => user.join }
24.11 15:48:32 ->>-: core/server.ping { _type => core/server.ping, _notify => {{ q => INSERT INTO TempUserLogins (UserID, Date) VALUES (124, 'today'::timestamp), _type => core/server.pending }} }
24.11 15:48:32 -<<-: core/server.ping { errorCode => ok, _type => core/server.ping }
24.11 15:48:32 ++ NET: nelli req: user.data { messageType => user.data }
24.11 15:48:32 ->>-: vdl/cache.user.getData { userId => 124, _type => vdl/cache.user.getData, money => 4 }
24.11 15:48:32 -<<-: vdl/cache.user.getData { info => { city => null, year => null, email => null }, errorCode => ok, _type => vdl/cache.user.getData, money => 4 }
24.11 15:48:32 TIME: user.data 0.4 ms
24.11 15:48:32 == NET: nelli ret: user.data { info => { city => null, year => null, email => null }, type => user.data, errorCode => ok, _type => vdl/cache.user.getData, money => 4 }
24.11 15:48:37 ++ NET: nelli req: user.ping { messageType => user.ping, msg => ok }
24.11 15:48:37 TIME: user.ping 0.2 ms
24.11 15:48:37 == NET: nelli ret: user.ping { type => user.ping, errorCode => ok }
24.11 15:48:37 ->>-: core/cache.update { diff => {language => en, params => { attrs => { _lastTime.24hr => 1480002512, lastLoginDate => 329, lastLoadDate => 1125 } }}, type => user, unlock => false, id => 124, _type => core/cache.update }
24.11 15:48:37 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
24.11 15:48:43 TIMER: Check auto-disconnect...
24.11 15:49:17 STATS: vdl.0 cache, locks:2
24.11 15:49:43 TIMER: Check auto-disconnect...
24.11 15:50:17 STATS: vdl.0 cache, locks:2
24.11 15:50:43 TIMER: Check auto-disconnect...
24.11 15:51:17 STATS: vdl.0 cache, locks:2
24.11 15:51:20 NET: Client (name:nelli conid:6864575 TCP) disconnected from vdl.0 (clients:0)
24.11 15:51:20 DB: SELECT id FROM battle WHERE firstid=124 OR secondid=124 AND finished <> true
24.11 15:51:20 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=124 OR secondid=124 AND finished <> true, _type => core/server.query }
24.11 15:51:20 -<<-: core/server.query { list => {{ id => 20 }}, errorCode => ok, _type => core/server.query }
24.11 15:51:20 STATS: vdl.0 cache connection, 2157 calls, total 1.44567513465881 sec spent, avg 0.67 ms
24.11 15:51:20 ->>-: vdl/cache.battle.infoRoom { roomId => 20, _type => vdl/cache.battle.infoRoom }
24.11 15:51:20 -<<-: vdl/cache.battle.infoRoom { secondId => 124, firstId => 117, _type => vdl/cache.battle.infoRoom, turnId => 117 }
24.11 15:51:20 ->>-: vdl/cache.battle.deleteRoom { roomId => 20, _type => vdl/cache.battle.deleteRoom }
24.11 15:51:20 -<<-: vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
24.11 15:51:20 ->>-: vdl/cache.battle.finishRoom { roomId => 20, _type => vdl/cache.battle.finishRoom }
24.11 15:51:20 -<<-: vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
24.11 15:51:20 ->>-: core/user.sendTo { id => 117, _type => core/user.sendTo, msg => { _type => battle.leave } }
24.11 15:51:20 -<<-: core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
24.11 15:51:20 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 124, _type => core/cache.update }
24.11 15:51:20 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
24.11 15:51:20 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 124, _type => core/cache.update }
24.11 15:51:20 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
24.11 15:51:20 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 124, _type => core/user.logoutPost }
24.11 15:51:20 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
24.11 15:51:43 TIMER: Check auto-disconnect...
24.11 15:52:17 STATS: vdl.0 cache, locks:0
24.11 15:52:43 TIMER: Check auto-disconnect...
24.11 15:53:17 STATS: vdl.0 cache, locks:0
24.11 15:53:43 TIMER: Check auto-disconnect...
24.11 15:54:17 STATS: vdl.0 cache, locks:0
24.11 15:54:43 TIMER: Check auto-disconnect...
24.11 15:55:17 STATS: vdl.0 cache, locks:0
24.11 15:55:43 TIMER: Check auto-disconnect...
24.11 15:56:17 STATS: vdl.0 cache, locks:0
24.11 15:56:43 TIMER: Check auto-disconnect...
24.11 15:57:17 STATS: vdl.0 cache, locks:0
24.11 15:57:43 TIMER: Check auto-disconnect...
24.11 15:58:17 STATS: vdl.0 cache, locks:0
24.11 15:58:43 TIMER: Check auto-disconnect...
24.11 15:59:17 STATS: vdl.0 cache, locks:0
24.11 15:59:43 TIMER: Check auto-disconnect...
