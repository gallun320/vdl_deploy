27.09 08:00:05 TIMER: Check auto-disconnect...
27.09 08:00:12 STATS: vdl.0 cache, locks:0
27.09 08:01:05 TIMER: Check auto-disconnect...
27.09 08:01:12 STATS: vdl.0 cache, locks:0
27.09 08:02:05 TIMER: Check auto-disconnect...
27.09 08:02:12 STATS: vdl.0 cache, locks:0
27.09 08:03:05 TIMER: Check auto-disconnect...
27.09 08:03:12 STATS: vdl.0 cache, locks:0
27.09 08:04:05 TIMER: Check auto-disconnect...
27.09 08:04:12 STATS: vdl.0 cache, locks:0
27.09 08:05:05 TIMER: Check auto-disconnect...
27.09 08:05:12 STATS: vdl.0 cache, locks:0
27.09 08:06:05 TIMER: Check auto-disconnect...
27.09 08:06:12 STATS: vdl.0 cache, locks:0
27.09 08:07:05 TIMER: Check auto-disconnect...
27.09 08:07:12 STATS: vdl.0 cache, locks:0
27.09 08:08:05 TIMER: Check auto-disconnect...
27.09 08:08:12 STATS: vdl.0 cache, locks:0
27.09 08:09:05 TIMER: Check auto-disconnect...
27.09 08:09:12 STATS: vdl.0 cache, locks:0
27.09 08:10:05 TIMER: Check auto-disconnect...
27.09 08:10:12 STATS: vdl.0 cache, locks:0
27.09 08:11:05 TIMER: Check auto-disconnect...
27.09 08:11:12 STATS: vdl.0 cache, locks:0
27.09 08:12:05 TIMER: Check auto-disconnect...
27.09 08:12:12 STATS: vdl.0 cache, locks:0
27.09 08:13:05 TIMER: Check auto-disconnect...
27.09 08:13:12 STATS: vdl.0 cache, locks:0
27.09 08:14:05 TIMER: Check auto-disconnect...
27.09 08:14:12 STATS: vdl.0 cache, locks:0
27.09 08:15:05 TIMER: Check auto-disconnect...
27.09 08:15:12 STATS: vdl.0 cache, locks:0
27.09 08:16:05 TIMER: Check auto-disconnect...
27.09 08:16:12 STATS: vdl.0 cache, locks:0
27.09 08:17:05 TIMER: Check auto-disconnect...
27.09 08:17:12 STATS: vdl.0 cache, locks:0
27.09 08:18:05 TIMER: Check auto-disconnect...
27.09 08:18:13 STATS: vdl.0 cache, locks:0
27.09 08:19:05 TIMER: Check auto-disconnect...
27.09 08:19:13 STATS: vdl.0 cache, locks:0
27.09 08:20:05 TIMER: Check auto-disconnect...
27.09 08:20:13 STATS: vdl.0 cache, locks:0
27.09 08:21:05 TIMER: Check auto-disconnect...
27.09 08:21:13 STATS: vdl.0 cache, locks:0
27.09 08:22:05 TIMER: Check auto-disconnect...
27.09 08:22:13 STATS: vdl.0 cache, locks:0
27.09 08:23:05 TIMER: Check auto-disconnect...
27.09 08:23:13 STATS: vdl.0 cache, locks:0
27.09 08:24:05 TIMER: Check auto-disconnect...
27.09 08:24:13 STATS: vdl.0 cache, locks:0
27.09 08:25:05 TIMER: Check auto-disconnect...
27.09 08:25:13 STATS: vdl.0 cache, locks:0
27.09 08:26:05 TIMER: Check auto-disconnect...
27.09 08:26:13 STATS: vdl.0 cache, locks:0
27.09 08:27:05 TIMER: Check auto-disconnect...
27.09 08:27:13 STATS: vdl.0 cache, locks:0
27.09 08:28:05 TIMER: Check auto-disconnect...
27.09 08:28:13 STATS: vdl.0 cache, locks:0
27.09 08:29:05 TIMER: Check auto-disconnect...
27.09 08:29:13 STATS: vdl.0 cache, locks:0
27.09 08:30:05 TIMER: Check auto-disconnect...
27.09 08:30:13 STATS: vdl.0 cache, locks:0
27.09 08:31:05 TIMER: Check auto-disconnect...
27.09 08:31:13 STATS: vdl.0 cache, locks:0
27.09 08:32:05 TIMER: Check auto-disconnect...
27.09 08:32:13 STATS: vdl.0 cache, locks:0
27.09 08:33:05 TIMER: Check auto-disconnect...
27.09 08:33:13 STATS: vdl.0 cache, locks:0
27.09 08:34:05 TIMER: Check auto-disconnect...
27.09 08:34:13 STATS: vdl.0 cache, locks:0
27.09 08:35:05 TIMER: Check auto-disconnect...
27.09 08:35:13 STATS: vdl.0 cache, locks:0
27.09 08:36:05 TIMER: Check auto-disconnect...
27.09 08:36:13 STATS: vdl.0 cache, locks:0
27.09 08:37:05 TIMER: Check auto-disconnect...
27.09 08:37:13 STATS: vdl.0 cache, locks:0
27.09 08:38:05 TIMER: Check auto-disconnect...
27.09 08:38:13 STATS: vdl.0 cache, locks:0
27.09 08:39:05 TIMER: Check auto-disconnect...
27.09 08:39:13 STATS: vdl.0 cache, locks:0
27.09 08:40:05 TIMER: Check auto-disconnect...
27.09 08:40:13 STATS: vdl.0 cache, locks:0
27.09 08:41:05 TIMER: Check auto-disconnect...
27.09 08:41:13 STATS: vdl.0 cache, locks:0
27.09 08:42:05 TIMER: Check auto-disconnect...
27.09 08:42:13 STATS: vdl.0 cache, locks:0
27.09 08:43:05 TIMER: Check auto-disconnect...
27.09 08:43:13 STATS: vdl.0 cache, locks:0
27.09 08:44:05 TIMER: Check auto-disconnect...
27.09 08:44:13 STATS: vdl.0 cache, locks:0
27.09 08:45:05 TIMER: Check auto-disconnect...
27.09 08:45:13 STATS: vdl.0 cache, locks:0
27.09 08:45:50 NET: Client (conid:45652874) connected to vdl.0 (clients:1)
27.09 08:46:05 TIMER: Check auto-disconnect...
27.09 08:46:13 STATS: vdl.0 cache, locks:0
27.09 08:46:34 ++ NET: null req: user.register { game => vdl, password => random72, name => player, messageType => user.register }
27.09 08:46:34 DB: SELECT ID FROM Users WHERE Name = 'player'
27.09 08:46:34 ->>-: core/server.query { q => SELECT ID FROM Users WHERE Name = 'player', _type => core/server.query }
27.09 08:46:34 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
27.09 08:46:34 STATS: vdl.0 cache connection, 135 calls, total 0.162729978561401 sec spent, avg 1.21 ms
27.09 08:46:34 DB: SELECT nextval('Users_id_seq') AS id
27.09 08:46:34 ->>-: core/server.query { q => SELECT nextval('Users_id_seq') AS id, _type => core/server.query }
27.09 08:46:34 -<<-: core/server.query { list => {{ id => 26 }}, errorCode => ok, _type => core/server.query }
27.09 08:46:34 ->>-: core/user.register { password => random72, name => player, fullParams => { game => vdl, password => random72, name => player, networkid => , networktype => , messageType => user.register, id => 26 }, networkid => , connectionID => 45652874, networktype => , email => , id => 26, _type => core/user.register }
27.09 08:46:34 -<<-: core/user.register { errorCode => ok, _type => core/user.register }
27.09 08:46:34 -<<-: core/user.registerResponse { password => random72, name => player, _isNotify => true, fullParams => { game => vdl, password => random72, name => player, networkid => , networktype => , messageType => user.register, id => 26 }, networkid => , connectionID => 45652874, networktype => , email => , id => 26, _type => core/user.registerResponse }
27.09 08:46:34 DB: SELECT token FROM tokens WHERE userid = 26
27.09 08:46:34 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 26, _type => core/server.query }
27.09 08:46:34 -<<-: core/server.query { list => {{ token => b3064e3cfe149ee7a1edbee75de55c33 }}, errorCode => ok, _type => core/server.query }
27.09 08:46:34 == NET: null ret: user.register { type => user.register, errorCode => ok, token => b3064e3cfe149ee7a1edbee75de55c33 }
27.09 08:46:35 ++ NET: null req: user.login { type => token, messageType => user.login, token => b3064e3cfe149ee7a1edbee75de55c33 }
27.09 08:46:35 DB: SELECT name, password FROM users WHERE id = (select userid from tokens where token = 'b3064e3cfe149ee7a1edbee75de55c33')
27.09 08:46:35 ->>-: core/server.query { q => SELECT name, password FROM users WHERE id = (select userid from tokens where token = 'b3064e3cfe149ee7a1edbee75de55c33'), _type => core/server.query }
27.09 08:46:35 -<<-: core/server.query { list => {{ password => random72, name => player26 }}, errorCode => ok, _type => core/server.query }
27.09 08:46:35 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'player26' AND Password = 'random72'
27.09 08:46:35 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'player26' AND Password = 'random72', _type => core/server.query }
27.09 08:46:35 -<<-: core/server.query { list => {{ name => player26, networkid => , isbanned => false, id => 26 }}, errorCode => ok, _type => core/server.query }
27.09 08:46:35 ->>-: core/user.isOnlineID { id => 26, _type => core/user.isOnlineID }
27.09 08:46:35 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
27.09 08:46:35 ->>-: core/cache.get { type => user, v => -1, id => 26, _type => core/cache.get }
27.09 08:46:35 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {chemrating => 0, biorating => 0, networktype =>   , level => 0, sex => male, networkid => , skinbase => {"body_skin": 1, "head_skin": 1, "hair": 1, "eyes": 1, "mouth": 1}, informaticrating => 0, isbanned => false, params => { inventory => { list => [] }, vars => {}, attrs => {}, effects => { list => [] } }, name => player26, skinaddavaliable => {"head : null; dress : null; weapon : null; acess : null"}, deleted => false, historyrating => 0, school => 1, rang => 0, georating => 0, password => random72, language =>   , region => 1, skinadditional => {"head": 0, "dress": 0, "acces": 0, "weapon": 0}, rangname => новичок                       , rusrating => 0, email => mail, mathrating => 0, regdate => 2016-09-27 08:46:34.860564+00, expirience => 0, city => 1, physrating => 0}, version => 1, id => 26 } }
27.09 08:46:35 ->>-: core/cache.get { type => questdata, v => -1, id => 26, _type => core/cache.get }
27.09 08:46:35 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => {}}, version => 0, id => 26 } }
27.09 08:46:35 NET: Client login (conid:45652874, id:26, name:player26)
27.09 08:46:35 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 26, _type => core/user.loginPost, ipAddr => 188.162.39.57 }
27.09 08:46:35 -<<-: core/user.loginPost { _type => core/user.loginPost }
27.09 08:46:35 DB: SELECT token FROM tokens WHERE userid = 26
27.09 08:46:35 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 26, _type => core/server.query }
27.09 08:46:35 -<<-: core/server.query { list => {{ token => b3064e3cfe149ee7a1edbee75de55c33 }}, errorCode => ok, _type => core/server.query }
27.09 08:46:35 DB: SELECT ID FROM TempUserLogins WHERE UserID = 26 AND Date = 'today'::timestamp
27.09 08:46:35 ->>-: core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 26 AND Date = 'today'::timestamp, _type => core/server.query }
27.09 08:46:35 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
27.09 08:46:35 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (26, 'today'::timestamp)
27.09 08:46:35 == NET: player26 ret: user.login { name => player26, type => user.login, errorCode => ok, id => 26, token => b3064e3cfe149ee7a1edbee75de55c33 }
27.09 08:46:35 == NET: player26 ret: user.join { name => player26, type => user.join }
27.09 08:46:35 ->>-: core/server.ping { _type => core/server.ping, _notify => {{ q => INSERT INTO TempUserLogins (UserID, Date) VALUES (26, 'today'::timestamp), _type => core/server.pending }} }
27.09 08:46:35 -<<-: core/server.ping { errorCode => ok, _type => core/server.ping }
27.09 08:46:43 ->>-: core/cache.update { diff => {language => en, params => { attrs => { _lastTime.24hr => 1474965995, lastLoginDate => 271, lastLoadDate => 928 } }}, type => user, unlock => false, id => 26, _type => core/cache.update }
27.09 08:46:43 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
27.09 08:47:05 TIMER: Check auto-disconnect...
27.09 08:47:13 STATS: vdl.0 cache, locks:2
27.09 08:48:05 TIMER: Check auto-disconnect...
27.09 08:48:13 STATS: vdl.0 cache, locks:2
27.09 08:48:16 ++ NET: player26 req: user.logout { messageType => user.logout }
27.09 08:48:16 TRACE: user.logout : No such module: user
27.09 08:48:16 TRACE: user.logout : 
Called from snipe/slave/Server.hx line 1206
27.09 08:48:16 NET: Client (name:player26 conid:45652874 TCP) disconnected from vdl.0 (clients:0)
27.09 08:48:16 DB: SELECT id FROM battle WHERE firstid=26 OR secondid=26 AND finished <> true
27.09 08:48:16 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=26 OR secondid=26 AND finished <> true, _type => core/server.query }
27.09 08:48:16 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
27.09 08:48:16 STATS: vdl.0 cache connection, 149 calls, total 0.172544717788696 sec spent, avg 1.16 ms
27.09 08:48:16 ->>-: vdl/cache.battle.deleteRoom { roomId => 0, _type => vdl/cache.battle.deleteRoom }
27.09 08:48:16 -<<-: vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
27.09 08:48:16 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 26, _type => core/cache.update }
27.09 08:48:16 -<<-: core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
27.09 08:48:16 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 26, _type => core/cache.update }
27.09 08:48:16 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
27.09 08:48:16 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 26, _type => core/user.logoutPost }
27.09 08:48:16 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
27.09 08:49:05 TIMER: Check auto-disconnect...
27.09 08:49:13 STATS: vdl.0 cache, locks:0
27.09 08:50:05 TIMER: Check auto-disconnect...
27.09 08:50:13 STATS: vdl.0 cache, locks:0
27.09 08:51:05 TIMER: Check auto-disconnect...
27.09 08:51:13 STATS: vdl.0 cache, locks:0
27.09 08:52:05 TIMER: Check auto-disconnect...
27.09 08:52:13 STATS: vdl.0 cache, locks:0
27.09 08:53:05 TIMER: Check auto-disconnect...
27.09 08:53:13 STATS: vdl.0 cache, locks:0
27.09 08:54:05 TIMER: Check auto-disconnect...
27.09 08:54:13 STATS: vdl.0 cache, locks:0
27.09 08:55:05 TIMER: Check auto-disconnect...
27.09 08:55:13 STATS: vdl.0 cache, locks:0
27.09 08:56:05 TIMER: Check auto-disconnect...
27.09 08:56:13 STATS: vdl.0 cache, locks:0
27.09 08:57:05 TIMER: Check auto-disconnect...
27.09 08:57:13 STATS: vdl.0 cache, locks:0
27.09 08:58:05 TIMER: Check auto-disconnect...
27.09 08:58:13 STATS: vdl.0 cache, locks:0
27.09 08:59:05 TIMER: Check auto-disconnect...
27.09 08:59:13 STATS: vdl.0 cache, locks:0
