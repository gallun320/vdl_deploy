24.10 11:00:11 TIMER: Check auto-disconnect...
24.10 11:00:42 STATS: vdl.0 cache, locks:0
24.10 11:01:11 TIMER: Check auto-disconnect...
24.10 11:01:42 STATS: vdl.0 cache, locks:0
24.10 11:02:11 TIMER: Check auto-disconnect...
24.10 11:02:42 STATS: vdl.0 cache, locks:0
24.10 11:03:11 TIMER: Check auto-disconnect...
24.10 11:03:42 STATS: vdl.0 cache, locks:0
24.10 11:04:11 TIMER: Check auto-disconnect...
24.10 11:04:42 STATS: vdl.0 cache, locks:0
24.10 11:05:11 TIMER: Check auto-disconnect...
24.10 11:05:42 STATS: vdl.0 cache, locks:0
24.10 11:06:11 TIMER: Check auto-disconnect...
24.10 11:06:42 STATS: vdl.0 cache, locks:0
24.10 11:07:11 TIMER: Check auto-disconnect...
24.10 11:07:42 STATS: vdl.0 cache, locks:0
24.10 11:08:11 TIMER: Check auto-disconnect...
24.10 11:08:42 STATS: vdl.0 cache, locks:0
24.10 11:09:11 TIMER: Check auto-disconnect...
24.10 11:09:42 STATS: vdl.0 cache, locks:0
24.10 11:10:11 TIMER: Check auto-disconnect...
24.10 11:10:42 STATS: vdl.0 cache, locks:0
24.10 11:11:11 TIMER: Check auto-disconnect...
24.10 11:11:42 STATS: vdl.0 cache, locks:0
24.10 11:12:11 TIMER: Check auto-disconnect...
24.10 11:12:42 STATS: vdl.0 cache, locks:0
24.10 11:13:11 TIMER: Check auto-disconnect...
24.10 11:13:42 STATS: vdl.0 cache, locks:0
24.10 11:14:11 TIMER: Check auto-disconnect...
24.10 11:14:42 STATS: vdl.0 cache, locks:0
24.10 11:15:11 TIMER: Check auto-disconnect...
24.10 11:15:42 STATS: vdl.0 cache, locks:0
24.10 11:16:11 TIMER: Check auto-disconnect...
24.10 11:16:42 STATS: vdl.0 cache, locks:0
24.10 11:17:11 TIMER: Check auto-disconnect...
24.10 11:17:42 STATS: vdl.0 cache, locks:0
24.10 11:18:11 TIMER: Check auto-disconnect...
24.10 11:18:42 STATS: vdl.0 cache, locks:0
24.10 11:19:11 TIMER: Check auto-disconnect...
24.10 11:19:42 STATS: vdl.0 cache, locks:0
24.10 11:20:11 TIMER: Check auto-disconnect...
24.10 11:20:42 STATS: vdl.0 cache, locks:0
24.10 11:21:11 TIMER: Check auto-disconnect...
24.10 11:21:42 STATS: vdl.0 cache, locks:0
24.10 11:22:11 TIMER: Check auto-disconnect...
24.10 11:22:42 STATS: vdl.0 cache, locks:0
24.10 11:23:11 TIMER: Check auto-disconnect...
24.10 11:23:42 STATS: vdl.0 cache, locks:0
24.10 11:24:11 TIMER: Check auto-disconnect...
24.10 11:24:42 STATS: vdl.0 cache, locks:0
24.10 11:25:11 TIMER: Check auto-disconnect...
24.10 11:25:42 STATS: vdl.0 cache, locks:0
24.10 11:26:11 TIMER: Check auto-disconnect...
24.10 11:26:42 STATS: vdl.0 cache, locks:0
24.10 11:27:11 TIMER: Check auto-disconnect...
24.10 11:27:42 STATS: vdl.0 cache, locks:0
24.10 11:28:11 TIMER: Check auto-disconnect...
24.10 11:28:42 STATS: vdl.0 cache, locks:0
24.10 11:29:11 TIMER: Check auto-disconnect...
24.10 11:29:42 STATS: vdl.0 cache, locks:0
24.10 11:30:11 TIMER: Check auto-disconnect...
24.10 11:30:42 STATS: vdl.0 cache, locks:0
24.10 11:31:11 TIMER: Check auto-disconnect...
24.10 11:31:42 STATS: vdl.0 cache, locks:0
24.10 11:32:11 TIMER: Check auto-disconnect...
24.10 11:32:42 STATS: vdl.0 cache, locks:0
24.10 11:33:11 TIMER: Check auto-disconnect...
24.10 11:33:42 STATS: vdl.0 cache, locks:0
24.10 11:34:11 TIMER: Check auto-disconnect...
24.10 11:34:42 STATS: vdl.0 cache, locks:0
24.10 11:35:11 TIMER: Check auto-disconnect...
24.10 11:35:42 STATS: vdl.0 cache, locks:0
24.10 11:36:11 TIMER: Check auto-disconnect...
24.10 11:36:16 NET: Client (conid:9895240) connected to vdl.0 (clients:1)
24.10 11:36:38 ++ NET: null req: user.register { game => vdl, password => random29, name => player, messageType => user.register }
24.10 11:36:38 DB: SELECT ID FROM Users WHERE Name = 'player'
24.10 11:36:38 ->>-: core/server.query { q => SELECT ID FROM Users WHERE Name = 'player', _type => core/server.query }
24.10 11:36:38 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
24.10 11:36:38 STATS: vdl.0 cache connection, 1189 calls, total 1.33881568908691 sec spent, avg 1.13 ms
24.10 11:36:38 DB: SELECT nextval('Users_id_seq') AS id
24.10 11:36:38 ->>-: core/server.query { q => SELECT nextval('Users_id_seq') AS id, _type => core/server.query }
24.10 11:36:38 -<<-: core/server.query { list => {{ id => 69 }}, errorCode => ok, _type => core/server.query }
24.10 11:36:38 ->>-: core/user.register { password => random29, name => player, fullParams => { game => vdl, password => random29, name => player, networkid => , networktype => , messageType => user.register, id => 69 }, networkid => , connectionID => 9895240, networktype => , email => , id => 69, _type => core/user.register }
24.10 11:36:38 -<<-: core/user.register { errorCode => ok, _type => core/user.register }
24.10 11:36:38 -<<-: core/user.registerResponse { password => random29, name => player, _isNotify => true, fullParams => { game => vdl, password => random29, name => player, networkid => , networktype => , messageType => user.register, id => 69 }, networkid => , connectionID => 9895240, networktype => , email => , id => 69, _type => core/user.registerResponse }
24.10 11:36:38 DB: SELECT token FROM tokens WHERE userid = 69
24.10 11:36:38 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 69, _type => core/server.query }
24.10 11:36:38 -<<-: core/server.query { list => {{ token => cdd739a73da67fd02f5c800efdc1af65 }}, errorCode => ok, _type => core/server.query }
24.10 11:36:38 == NET: null ret: user.register { type => user.register, errorCode => ok, token => cdd739a73da67fd02f5c800efdc1af65 }
24.10 11:36:39 ++ NET: null req: user.login { type => token, messageType => user.login, token => cdd739a73da67fd02f5c800efdc1af65 }
24.10 11:36:39 DB: SELECT name, password FROM users WHERE id = (select userid from tokens where token = 'cdd739a73da67fd02f5c800efdc1af65')
24.10 11:36:39 ->>-: core/server.query { q => SELECT name, password FROM users WHERE id = (select userid from tokens where token = 'cdd739a73da67fd02f5c800efdc1af65'), _type => core/server.query }
24.10 11:36:39 -<<-: core/server.query { list => {{ password => random29, name => player69 }}, errorCode => ok, _type => core/server.query }
24.10 11:36:39 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'player69' AND Password = 'random29'
24.10 11:36:39 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'player69' AND Password = 'random29', _type => core/server.query }
24.10 11:36:39 -<<-: core/server.query { list => {{ name => player69, networkid => , isbanned => false, id => 69 }}, errorCode => ok, _type => core/server.query }
24.10 11:36:39 ->>-: core/user.isOnlineID { id => 69, _type => core/user.isOnlineID }
24.10 11:36:39 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
24.10 11:36:39 ->>-: core/cache.get { type => user, v => -1, id => 69, _type => core/cache.get }
24.10 11:36:39 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {chemrating => 0, biorating => 0, networktype =>   , level => 0, sex => male, networkid => , skinbase => {"body_skin": 1, "head_skin": 1, "hair": 1, "eyes": 1, "mouth": 1}, informaticrating => 0, isbanned => false, params => { inventory => { list => [] }, vars => {}, attrs => {}, effects => { list => [] } }, name => player69, skinaddavaliable => {"head : null; dress : null; weapon : null; acess : null"}, deleted => false, historyrating => 0, school => 1, rang => 0, georating => 0, password => random29, language =>   , region => 1, skinadditional => {"head": 0, "dress": 0, "acces": 0, "weapon": 0}, rangname => новичок                       , rusrating => 0, email => mail, mathrating => 0, regdate => 2016-10-24 11:36:38.766858+00, expirience => 0, city => 1, physrating => 0}, version => 1, id => 69 } }
24.10 11:36:39 ->>-: core/cache.get { type => questdata, v => -1, id => 69, _type => core/cache.get }
24.10 11:36:39 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => {}}, version => 0, id => 69 } }
24.10 11:36:39 NET: Client login (conid:9895240, id:69, name:player69)
24.10 11:36:39 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 69, _type => core/user.loginPost, ipAddr => 41.78.72.148 }
24.10 11:36:39 -<<-: core/user.loginPost { _type => core/user.loginPost }
24.10 11:36:39 DB: SELECT token FROM tokens WHERE userid = 69
24.10 11:36:39 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 69, _type => core/server.query }
24.10 11:36:39 -<<-: core/server.query { list => {{ token => cdd739a73da67fd02f5c800efdc1af65 }}, errorCode => ok, _type => core/server.query }
24.10 11:36:39 DB: SELECT ID FROM TempUserLogins WHERE UserID = 69 AND Date = 'today'::timestamp
24.10 11:36:39 ->>-: core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 69 AND Date = 'today'::timestamp, _type => core/server.query }
24.10 11:36:39 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
24.10 11:36:39 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (69, 'today'::timestamp)
24.10 11:36:39 == NET: player69 ret: user.login { name => player69, type => user.login, errorCode => ok, id => 69, token => cdd739a73da67fd02f5c800efdc1af65 }
24.10 11:36:39 == NET: player69 ret: user.join { name => player69, type => user.join }
24.10 11:36:39 ->>-: core/server.ping { _type => core/server.ping, _notify => {{ q => INSERT INTO TempUserLogins (UserID, Date) VALUES (69, 'today'::timestamp), _type => core/server.pending }} }
24.10 11:36:39 -<<-: core/server.ping { errorCode => ok, _type => core/server.ping }
24.10 11:36:42 STATS: vdl.0 cache, locks:2
24.10 11:36:47 ->>-: core/cache.update { diff => {language => en, params => { attrs => { _lastTime.24hr => 1477308999, lastLoginDate => 298, lastLoadDate => 1025 } }}, type => user, unlock => false, id => 69, _type => core/cache.update }
24.10 11:36:47 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
24.10 11:37:11 TIMER: Check auto-disconnect...
24.10 11:37:38 NET: Client (name:player69 conid:9895240 TCP) disconnected from vdl.0 (clients:0)
24.10 11:37:38 DB: SELECT id FROM battle WHERE firstid=69 OR secondid=69 AND finished <> true
24.10 11:37:38 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=69 OR secondid=69 AND finished <> true, _type => core/server.query }
24.10 11:37:38 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
24.10 11:37:38 ->>-: vdl/cache.battle.deleteRoom { roomId => 0, _type => vdl/cache.battle.deleteRoom }
24.10 11:37:38 -<<-: vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
24.10 11:37:38 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 69, _type => core/cache.update }
24.10 11:37:38 -<<-: core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
24.10 11:37:38 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 69, _type => core/cache.update }
24.10 11:37:38 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
24.10 11:37:38 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 69, _type => core/user.logoutPost }
24.10 11:37:38 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
24.10 11:37:42 STATS: vdl.0 cache, locks:0
24.10 11:38:11 TIMER: Check auto-disconnect...
24.10 11:38:42 STATS: vdl.0 cache, locks:0
24.10 11:39:11 TIMER: Check auto-disconnect...
24.10 11:39:42 STATS: vdl.0 cache, locks:0
24.10 11:40:11 TIMER: Check auto-disconnect...
24.10 11:40:43 STATS: vdl.0 cache, locks:0
24.10 11:41:11 TIMER: Check auto-disconnect...
24.10 11:41:43 STATS: vdl.0 cache, locks:0
24.10 11:42:11 TIMER: Check auto-disconnect...
24.10 11:42:43 STATS: vdl.0 cache, locks:0
24.10 11:43:11 TIMER: Check auto-disconnect...
24.10 11:43:43 STATS: vdl.0 cache, locks:0
24.10 11:44:11 TIMER: Check auto-disconnect...
24.10 11:44:43 STATS: vdl.0 cache, locks:0
24.10 11:45:11 TIMER: Check auto-disconnect...
24.10 11:45:43 STATS: vdl.0 cache, locks:0
24.10 11:46:11 TIMER: Check auto-disconnect...
24.10 11:46:43 STATS: vdl.0 cache, locks:0
24.10 11:47:11 TIMER: Check auto-disconnect...
24.10 11:47:43 STATS: vdl.0 cache, locks:0
24.10 11:48:11 TIMER: Check auto-disconnect...
24.10 11:48:43 STATS: vdl.0 cache, locks:0
24.10 11:49:11 TIMER: Check auto-disconnect...
24.10 11:49:43 STATS: vdl.0 cache, locks:0
24.10 11:50:11 TIMER: Check auto-disconnect...
24.10 11:50:43 STATS: vdl.0 cache, locks:0
24.10 11:51:11 TIMER: Check auto-disconnect...
24.10 11:51:43 STATS: vdl.0 cache, locks:0
24.10 11:52:11 TIMER: Check auto-disconnect...
24.10 11:52:43 STATS: vdl.0 cache, locks:0
24.10 11:53:11 TIMER: Check auto-disconnect...
24.10 11:53:43 STATS: vdl.0 cache, locks:0
24.10 11:54:11 TIMER: Check auto-disconnect...
24.10 11:54:43 STATS: vdl.0 cache, locks:0
24.10 11:55:11 TIMER: Check auto-disconnect...
24.10 11:55:43 STATS: vdl.0 cache, locks:0
24.10 11:56:11 TIMER: Check auto-disconnect...
24.10 11:56:43 STATS: vdl.0 cache, locks:0
24.10 11:57:11 TIMER: Check auto-disconnect...
24.10 11:57:43 STATS: vdl.0 cache, locks:0
24.10 11:58:11 TIMER: Check auto-disconnect...
24.10 11:58:43 STATS: vdl.0 cache, locks:0
24.10 11:59:11 TIMER: Check auto-disconnect...
24.10 11:59:43 STATS: vdl.0 cache, locks:0
