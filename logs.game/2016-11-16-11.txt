16.11 11:00:28 TIMER: Check auto-disconnect...
16.11 11:00:48 STATS: vdl.0 cache, locks:2
16.11 11:01:28 TIMER: Check auto-disconnect...
16.11 11:01:48 STATS: vdl.0 cache, locks:2
16.11 11:02:28 TIMER: Check auto-disconnect...
16.11 11:02:48 STATS: vdl.0 cache, locks:2
16.11 11:03:28 TIMER: Check auto-disconnect...
16.11 11:03:48 STATS: vdl.0 cache, locks:2
16.11 11:04:28 TIMER: Check auto-disconnect...
16.11 11:04:48 STATS: vdl.0 cache, locks:2
16.11 11:05:28 TIMER: Check auto-disconnect...
16.11 11:05:48 STATS: vdl.0 cache, locks:2
16.11 11:06:28 TIMER: Check auto-disconnect...
16.11 11:06:48 STATS: vdl.0 cache, locks:2
16.11 11:07:28 TIMER: Check auto-disconnect...
16.11 11:07:48 STATS: vdl.0 cache, locks:2
16.11 11:08:28 TIMER: Check auto-disconnect...
16.11 11:08:48 STATS: vdl.0 cache, locks:2
16.11 11:09:28 TIMER: Check auto-disconnect...
16.11 11:09:48 STATS: vdl.0 cache, locks:2
16.11 11:10:28 TIMER: Check auto-disconnect...
16.11 11:10:48 STATS: vdl.0 cache, locks:2
16.11 11:11:28 TIMER: Check auto-disconnect...
16.11 11:11:48 STATS: vdl.0 cache, locks:2
16.11 11:12:28 TIMER: Check auto-disconnect...
16.11 11:12:48 STATS: vdl.0 cache, locks:2
16.11 11:13:28 TIMER: Check auto-disconnect...
16.11 11:13:48 STATS: vdl.0 cache, locks:2
16.11 11:14:28 TIMER: Check auto-disconnect...
16.11 11:14:48 STATS: vdl.0 cache, locks:2
16.11 11:15:28 TIMER: Check auto-disconnect...
16.11 11:15:48 STATS: vdl.0 cache, locks:2
16.11 11:16:23 NET: Client (conid:43084748) connected to vdl.0 (clients:1)
16.11 11:16:23 NET: Client (conid:43084748) switched protocol to WS
16.11 11:16:26 ++ NET: null req: user.register { messageType => user.register }
16.11 11:16:26 DB: SELECT * FROM users
16.11 11:16:26 ->>-: core/server.query { q => SELECT * FROM users, _type => core/server.query }
16.11 11:16:26 -<<-: core/server.query { list => {{ city => , password => , name => --- DEFAULT ATTRIBUTES ---, year => , networkid => , params => {"attrs":{},"inventory":{"list":[]}}, "info": {"city":"", "year": "", "email": ""}, networktype =>   , email => , isbanned => false, regdate => 2016-11-10 11:48:59.9391+00, language =>   , id => 1, deleted => false }, { city => , password => uid2, name => uid2, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1478779175,"lastLoginDate":315,"lastLoadDate":1111},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 11:56:09.590311+00, language => en, id => 2, deleted => false }, { city => , password => uid3, name => uid3, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:08:05.144895+00, language =>   , id => 3, deleted => false }, { city => , password => uid4, name => uid4, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:24:23.638304+00, language =>   , id => 4, deleted => false }, { city => , password => uid5, name => uid5, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:28:38.741567+00, language =>   , id => 5, deleted => false }, { city => , password => uid6, name => uid6, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1479119901,"lastLoginDate":319,"lastLoadDate":1115},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:31:41.286497+00, language => en, id => 6, deleted => false }, { city => , password => uid12, name => uid12, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1479212957,"lastLoginDate":320,"lastLoadDate":1116},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-14 12:05:08.368578+00, language => en, id => 12, deleted => false }, { city => , password => uid7, name => uid7, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 13:32:51.765479+00, language =>   , id => 7, deleted => false }, { city => , password => uid11, name => uid11, year => null, networkid => , params => {"info":{"city":"","year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1479067417,"lastLoginDate":319,"lastLoadDate":1115},"effects":{"list":[]}}, networktype =>   , email => null, isbanned => false, regdate => 2016-11-13 20:03:37.670616+00, language => en, id => 11, deleted => false }, { city => , password => uid8, name => uid8, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 15:37:47.142701+00, language =>   , id => 8, deleted => false }, { city => , password => uid9, name => uid9, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-11 07:57:55.30687+00, language =>   , id => 9, deleted => false }, { city => , password => uid10, name => uid10, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1478975056,"lastLoginDate":318,"lastLoadDate":1114},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-11 16:44:40.114978+00, language => en, id => 10, deleted => false }}, errorCode => ok, _type => core/server.query }
16.11 11:16:26 STATS: vdl.0 cache connection, 1826 calls, total 1.25826001167297 sec spent, avg 0.69 ms
16.11 11:16:26 == NET: null ret: user.auth { type => user.auth, token => dWlkMTM= }
16.11 11:16:26 DB: SELECT ID FROM Users WHERE Name = 'uid13'
16.11 11:16:26 ->>-: core/server.query { q => SELECT ID FROM Users WHERE Name = 'uid13', _type => core/server.query }
16.11 11:16:26 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:16:26 DB: SELECT nextval('Users_id_seq') AS id
16.11 11:16:26 ->>-: core/server.query { q => SELECT nextval('Users_id_seq') AS id, _type => core/server.query }
16.11 11:16:26 -<<-: core/server.query { list => {{ id => 13 }}, errorCode => ok, _type => core/server.query }
16.11 11:16:26 ->>-: core/user.register { password => uid13, name => uid13, fullParams => { password => uid13, name => uid13, networkid => , networktype => , messageType => user.register, id => 13 }, networkid => , connectionID => 43084748, networktype => , email => , id => 13, _type => core/user.register }
16.11 11:16:26 -<<-: core/user.register { errorCode => ok, _type => core/user.register }
16.11 11:16:26 -<<-: core/user.registerResponse { password => uid13, name => uid13, _isNotify => true, fullParams => { password => uid13, name => uid13, networkid => , networktype => , messageType => user.register, id => 13 }, networkid => , connectionID => 43084748, networktype => , email => , id => 13, _type => core/user.registerResponse }
16.11 11:16:26 DB: SELECT token FROM tokens WHERE userid = 13
16.11 11:16:26 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 13, _type => core/server.query }
16.11 11:16:26 -<<-: core/server.query { list => {{ token => af1cb9def8799acc5b901f65a7960466 }, { token => a5a41d8f1ef7ef9c7e86ba15b0dddded }}, errorCode => ok, _type => core/server.query }
16.11 11:16:26 == NET: null ret: user.register { type => user.register, errorCode => ok, token => af1cb9def8799acc5b901f65a7960466 }
16.11 11:16:27 ++ NET: null req: user.login { messageType => user.login, token => dWlkMTM= }
16.11 11:16:27 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid13' AND Password = 'uid13'
16.11 11:16:27 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid13' AND Password = 'uid13', _type => core/server.query }
16.11 11:16:27 -<<-: core/server.query { list => {{ name => uid13, networkid => , isbanned => false, id => 13 }}, errorCode => ok, _type => core/server.query }
16.11 11:16:27 ->>-: core/user.isOnlineID { id => 13, _type => core/user.isOnlineID }
16.11 11:16:27 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:16:27 ->>-: core/cache.get { type => user, v => -1, id => 13, _type => core/cache.get }
16.11 11:16:27 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid13, deleted => false, school => 1, year => null, email => null, networktype =>   , password => uid13, isbanned => false, regdate => 2016-11-16 11:16:26.870358+00, city => 1, language =>   , region => 1, networkid => , params => { info => { city => , year => null, email => null }, inventory => { list => [] }, vars => { addAccess => , regionName => null, addDress => , cityName => null, schoolName => null, friendList => [], addWeapon => , addHeader =>  }, attrs => { level => 1, hints => 15 }, effects => { list => [] } }}, version => 19, id => 13 } }
16.11 11:16:27 ->>-: core/cache.get { type => questdata, v => -1, id => 13, _type => core/cache.get }
16.11 11:16:27 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 13 } }
16.11 11:16:27 NET: Client login (conid:43084748, id:13, name:uid13)
16.11 11:16:27 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 13, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:16:27 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:16:27 DB: SELECT token FROM tokens WHERE userid = 13
16.11 11:16:27 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 13, _type => core/server.query }
16.11 11:16:27 -<<-: core/server.query { list => {{ token => af1cb9def8799acc5b901f65a7960466 }, { token => a5a41d8f1ef7ef9c7e86ba15b0dddded }}, errorCode => ok, _type => core/server.query }
16.11 11:16:27 DB: SELECT ID FROM TempUserLogins WHERE UserID = 13 AND Date = 'today'::timestamp
16.11 11:16:27 ->>-: core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 13 AND Date = 'today'::timestamp, _type => core/server.query }
16.11 11:16:27 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:16:27 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (13, 'today'::timestamp)
16.11 11:16:27 == NET: uid13 ret: user.login { name => uid13, type => user.login, errorCode => ok, id => 13, token => af1cb9def8799acc5b901f65a7960466 }
16.11 11:16:27 == NET: uid13 ret: user.join { name => uid13, type => user.join }
16.11 11:16:27 ++ NET: uid13 req: user.login { messageType => user.login, token => dWlkMTM= }
16.11 11:16:27 DB: SELECT id FROM battle WHERE firstid=13 OR secondid=13 AND finished <> true
16.11 11:16:27 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=13 OR secondid=13 AND finished <> true, _type => core/server.query, _notify => {{ q => INSERT INTO TempUserLogins (UserID, Date) VALUES (13, 'today'::timestamp), _type => core/server.pending }} }
16.11 11:16:27 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:16:27 ->>-: vdl/cache.battle.infoRoom { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:16:27 -<<-: vdl/cache.battle.infoRoom { errorCode => _requestException, _type => vdl/cache.battle.infoRoom }
16.11 11:16:27 TRACE: logoutPost battle exception: cacheRequest exception { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:16:27 TRACE: 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 472
Called from modules/VDLBattleModule.hx line 485
Called from snipe/slave/Server.hx line 1009
16.11 11:16:27 ->>-: core/cache.update { diff => {language => en, params => { attrs => { _lastTime.24hr => 1479294987, lastLoginDate => 321, lastLoadDate => 1117 } }}, type => user, unlock => true, id => 13, _type => core/cache.update }
16.11 11:16:27 -<<-: core/cache.update { errorCode => ok, version => 20, _type => core/cache.update }
16.11 11:16:27 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 13, _type => core/cache.update }
16.11 11:16:27 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
16.11 11:16:27 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 13, _type => core/user.logoutPost }
16.11 11:16:27 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:16:27 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid13' AND Password = 'uid13'
16.11 11:16:27 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid13' AND Password = 'uid13', _type => core/server.query }
16.11 11:16:27 -<<-: core/server.query { list => {{ name => uid13, networkid => , isbanned => false, id => 13 }}, errorCode => ok, _type => core/server.query }
16.11 11:16:27 ->>-: core/user.isOnlineID { id => 13, _type => core/user.isOnlineID }
16.11 11:16:27 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:16:27 ->>-: core/cache.get { type => user, v => -1, id => 13, _type => core/cache.get }
16.11 11:16:27 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid13, deleted => false, school => 1, year => null, email => null, networktype =>   , password => uid13, isbanned => false, regdate => 2016-11-16 11:16:26.870358+00, city => 1, language => en, region => 1, networkid => , params => { info => { city => , year => null, email => null }, inventory => { list => [] }, vars => { addAccess => , regionName => null, addDress => , cityName => null, schoolName => null, friendList => [], addWeapon => , addHeader =>  }, attrs => { level => 1, _lastTime.24hr => 1479294987, lastLoginDate => 321, lastLoadDate => 1117, hints => 15 }, effects => { list => [] } }}, version => 20, id => 13 } }
16.11 11:16:27 ->>-: core/cache.get { type => questdata, v => -1, id => 13, _type => core/cache.get }
16.11 11:16:27 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 13 } }
16.11 11:16:27 NET: Client login (conid:43084748, id:13, name:uid13)
16.11 11:16:27 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 13, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:16:27 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:16:27 DB: SELECT token FROM tokens WHERE userid = 13
16.11 11:16:27 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 13, _type => core/server.query }
16.11 11:16:27 -<<-: core/server.query { list => {{ token => af1cb9def8799acc5b901f65a7960466 }, { token => a5a41d8f1ef7ef9c7e86ba15b0dddded }}, errorCode => ok, _type => core/server.query }
16.11 11:16:28 TIMER: Check auto-disconnect...
16.11 11:16:33 ++ NET: uid13 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:16:33 TIME: user.ping 0.17 ms
16.11 11:16:33 ->>-: core/cache.update { diff => {language => en}, type => user, unlock => false, id => 13, _type => core/cache.update }
16.11 11:16:33 -<<-: core/cache.update { errorCode => ok, version => 21, _type => core/cache.update }
16.11 11:16:36 NET: Client (name:uid13 conid:43084748 WS) disconnected from vdl.0 (clients:0)
16.11 11:16:36 DB: SELECT id FROM battle WHERE firstid=13 OR secondid=13 AND finished <> true
16.11 11:16:36 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=13 OR secondid=13 AND finished <> true, _type => core/server.query }
16.11 11:16:36 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:16:36 ->>-: vdl/cache.battle.infoRoom { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:16:36 -<<-: vdl/cache.battle.infoRoom { errorCode => _requestException, _type => vdl/cache.battle.infoRoom }
16.11 11:16:36 TRACE: logoutPost battle exception: cacheRequest exception { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:16:36 TRACE: 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 472
Called from modules/VDLBattleModule.hx line 485
Called from snipe/slave/Server.hx line 1009
16.11 11:16:36 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 13, _type => core/cache.update }
16.11 11:16:36 -<<-: core/cache.update { errorCode => ok, version => 22, _type => core/cache.update }
16.11 11:16:36 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 13, _type => core/cache.update }
16.11 11:16:36 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
16.11 11:16:36 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 13, _type => core/user.logoutPost }
16.11 11:16:36 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:16:36 NET: Client (conid:61781834) connected to vdl.0 (clients:1)
16.11 11:16:36 NET: Client (conid:61781834) switched protocol to WS
16.11 11:16:48 STATS: vdl.0 cache, locks:2
16.11 11:16:55 NET: Client (name:null conid:61781834 WS) disconnected from vdl.0 (clients:0)
16.11 11:17:16 NET: Client (conid:23224614) connected to vdl.0 (clients:1)
16.11 11:17:16 NET: Client (conid:23224614) switched protocol to WS
16.11 11:17:20 ++ NET: null req: user.register { messageType => user.register }
16.11 11:17:20 DB: SELECT * FROM users
16.11 11:17:20 ->>-: core/server.query { q => SELECT * FROM users, _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ city => , password => , name => --- DEFAULT ATTRIBUTES ---, year => , networkid => , params => {"attrs":{},"inventory":{"list":[]}}, "info": {"city":"", "year": "", "email": ""}, networktype =>   , email => , isbanned => false, regdate => 2016-11-10 11:48:59.9391+00, language =>   , id => 1, deleted => false }, { city => , password => uid2, name => uid2, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1478779175,"lastLoginDate":315,"lastLoadDate":1111},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 11:56:09.590311+00, language => en, id => 2, deleted => false }, { city => , password => uid3, name => uid3, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:08:05.144895+00, language =>   , id => 3, deleted => false }, { city => , password => uid4, name => uid4, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:24:23.638304+00, language =>   , id => 4, deleted => false }, { city => , password => uid5, name => uid5, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:28:38.741567+00, language =>   , id => 5, deleted => false }, { city => , password => uid6, name => uid6, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1479119901,"lastLoginDate":319,"lastLoadDate":1115},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 12:31:41.286497+00, language => en, id => 6, deleted => false }, { city => , password => uid12, name => uid12, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1479212957,"lastLoginDate":320,"lastLoadDate":1116},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-14 12:05:08.368578+00, language => en, id => 12, deleted => false }, { city => , password => uid13, name => uid13, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-16 11:16:26.870358+00, language =>   , id => 13, deleted => false }, { city => , password => uid7, name => uid7, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 13:32:51.765479+00, language =>   , id => 7, deleted => false }, { city => , password => uid11, name => uid11, year => null, networkid => , params => {"info":{"city":"","year":null,"email":null},"inventory":{"list":[]},"vars":{},"attrs":{"_lastTime.24hr":1479067417,"lastLoginDate":319,"lastLoadDate":1115},"effects":{"list":[]}}, networktype =>   , email => null, isbanned => false, regdate => 2016-11-13 20:03:37.670616+00, language => en, id => 11, deleted => false }, { city => , password => uid8, name => uid8, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-10 15:37:47.142701+00, language =>   , id => 8, deleted => false }, { city => , password => uid9, name => uid9, year => , networkid => , params => , networktype =>   , email => mail, isbanned => false, regdate => 2016-11-11 07:57:55.30687+00, language =>   , id => 9, deleted => false }, { city => , password => uid10, name => uid10, year => , networkid => , params => {"attrs":{"_lastTime.24hr":1478975056,"lastLoginDate":318,"lastLoadDate":1114},"effects":{"list":[]}}, networktype =>   , email => mail, isbanned => false, regdate => 2016-11-11 16:44:40.114978+00, language => en, id => 10, deleted => false }}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 DB: SELECT ID FROM Users WHERE Name = 'uid14'
16.11 11:17:20 == NET: null ret: user.auth { type => user.auth, token => dWlkMTQ= }
16.11 11:17:20 ->>-: core/server.query { q => SELECT ID FROM Users WHERE Name = 'uid14', _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 DB: SELECT nextval('Users_id_seq') AS id
16.11 11:17:20 ->>-: core/server.query { q => SELECT nextval('Users_id_seq') AS id, _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ id => 14 }}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 ->>-: core/user.register { password => uid14, name => uid14, fullParams => { password => uid14, name => uid14, networkid => , networktype => , messageType => user.register, id => 14 }, networkid => , connectionID => 23224614, networktype => , email => , id => 14, _type => core/user.register }
16.11 11:17:20 -<<-: core/user.register { errorCode => ok, _type => core/user.register }
16.11 11:17:20 -<<-: core/user.registerResponse { password => uid14, name => uid14, _isNotify => true, fullParams => { password => uid14, name => uid14, networkid => , networktype => , messageType => user.register, id => 14 }, networkid => , connectionID => 23224614, networktype => , email => , id => 14, _type => core/user.registerResponse }
16.11 11:17:20 DB: SELECT token FROM tokens WHERE userid = 14
16.11 11:17:20 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 14, _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ token => 12c8c1627a126f138739eb901d9a0365 }, { token => b6634bc249b2b36815705812df56bfb3 }}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 == NET: null ret: user.register { type => user.register, errorCode => ok, token => 12c8c1627a126f138739eb901d9a0365 }
16.11 11:17:20 ++ NET: null req: user.login { messageType => user.login, token => dWlkMTQ= }
16.11 11:17:20 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid14' AND Password = 'uid14'
16.11 11:17:20 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid14' AND Password = 'uid14', _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ name => uid14, networkid => , isbanned => false, id => 14 }}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 ->>-: core/user.isOnlineID { id => 14, _type => core/user.isOnlineID }
16.11 11:17:20 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:17:20 ->>-: core/cache.get { type => user, v => -1, id => 14, _type => core/cache.get }
16.11 11:17:20 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid14, deleted => false, school => 1, year => null, email => null, networktype =>   , password => uid14, isbanned => false, regdate => 2016-11-16 11:17:20.119377+00, city => 1, language =>   , region => 1, networkid => , params => { info => { city => , year => null, email => null }, inventory => { list => [] }, vars => { addAccess => , regionName => null, addDress => , cityName => null, schoolName => null, friendList => [], addWeapon => , addHeader =>  }, attrs => { level => 1, hints => 15 }, effects => { list => [] } }}, version => 19, id => 14 } }
16.11 11:17:20 ->>-: core/cache.get { type => questdata, v => -1, id => 14, _type => core/cache.get }
16.11 11:17:20 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 14 } }
16.11 11:17:20 NET: Client login (conid:23224614, id:14, name:uid14)
16.11 11:17:20 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 14, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:17:20 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:17:20 DB: SELECT token FROM tokens WHERE userid = 14
16.11 11:17:20 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 14, _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ token => 12c8c1627a126f138739eb901d9a0365 }, { token => b6634bc249b2b36815705812df56bfb3 }}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 DB: SELECT ID FROM TempUserLogins WHERE UserID = 14 AND Date = 'today'::timestamp
16.11 11:17:20 ->>-: core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 14 AND Date = 'today'::timestamp, _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (14, 'today'::timestamp)
16.11 11:17:20 == NET: uid14 ret: user.login { name => uid14, type => user.login, errorCode => ok, id => 14, token => 12c8c1627a126f138739eb901d9a0365 }
16.11 11:17:20 == NET: uid14 ret: user.join { name => uid14, type => user.join }
16.11 11:17:20 ++ NET: uid14 req: user.login { messageType => user.login, token => dWlkMTQ= }
16.11 11:17:20 DB: SELECT id FROM battle WHERE firstid=14 OR secondid=14 AND finished <> true
16.11 11:17:20 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=14 OR secondid=14 AND finished <> true, _type => core/server.query, _notify => {{ q => INSERT INTO TempUserLogins (UserID, Date) VALUES (14, 'today'::timestamp), _type => core/server.pending }} }
16.11 11:17:20 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 ->>-: vdl/cache.battle.infoRoom { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:17:20 -<<-: vdl/cache.battle.infoRoom { errorCode => _requestException, _type => vdl/cache.battle.infoRoom }
16.11 11:17:20 TRACE: logoutPost battle exception: cacheRequest exception { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:17:20 TRACE: 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 472
Called from modules/VDLBattleModule.hx line 485
Called from snipe/slave/Server.hx line 1009
16.11 11:17:20 ->>-: core/cache.update { diff => {language => en, params => { attrs => { _lastTime.24hr => 1479295040, lastLoginDate => 321, lastLoadDate => 1117 } }}, type => user, unlock => true, id => 14, _type => core/cache.update }
16.11 11:17:20 -<<-: core/cache.update { errorCode => ok, version => 20, _type => core/cache.update }
16.11 11:17:20 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 14, _type => core/cache.update }
16.11 11:17:20 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
16.11 11:17:20 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 14, _type => core/user.logoutPost }
16.11 11:17:20 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:17:20 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid14' AND Password = 'uid14'
16.11 11:17:20 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid14' AND Password = 'uid14', _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ name => uid14, networkid => , isbanned => false, id => 14 }}, errorCode => ok, _type => core/server.query }
16.11 11:17:20 ->>-: core/user.isOnlineID { id => 14, _type => core/user.isOnlineID }
16.11 11:17:20 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:17:20 ->>-: core/cache.get { type => user, v => -1, id => 14, _type => core/cache.get }
16.11 11:17:20 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid14, deleted => false, school => 1, year => null, email => null, networktype =>   , password => uid14, isbanned => false, regdate => 2016-11-16 11:17:20.119377+00, city => 1, language => en, region => 1, networkid => , params => { info => { city => , year => null, email => null }, inventory => { list => [] }, vars => { addAccess => , regionName => null, addDress => , cityName => null, schoolName => null, friendList => [], addWeapon => , addHeader =>  }, attrs => { level => 1, _lastTime.24hr => 1479295040, lastLoginDate => 321, lastLoadDate => 1117, hints => 15 }, effects => { list => [] } }}, version => 20, id => 14 } }
16.11 11:17:20 ->>-: core/cache.get { type => questdata, v => -1, id => 14, _type => core/cache.get }
16.11 11:17:20 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 14 } }
16.11 11:17:20 NET: Client login (conid:23224614, id:14, name:uid14)
16.11 11:17:20 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 14, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:17:20 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:17:20 DB: SELECT token FROM tokens WHERE userid = 14
16.11 11:17:20 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 14, _type => core/server.query }
16.11 11:17:20 -<<-: core/server.query { list => {{ token => 12c8c1627a126f138739eb901d9a0365 }, { token => b6634bc249b2b36815705812df56bfb3 }}, errorCode => ok, _type => core/server.query }
16.11 11:17:26 ++ NET: uid14 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:17:26 TIME: user.ping 0.16 ms
16.11 11:17:28 ->>-: core/cache.update { diff => {language => en}, type => user, unlock => false, id => 14, _type => core/cache.update }
16.11 11:17:28 -<<-: core/cache.update { errorCode => ok, version => 21, _type => core/cache.update }
16.11 11:17:28 STATS: vdl.0 cache connection, 1878 calls, total 1.30268907546997 sec spent, avg 0.69 ms
16.11 11:17:28 TIMER: Check auto-disconnect...
16.11 11:17:29 NET: Client (name:uid14 conid:23224614 WS) disconnected from vdl.0 (clients:0)
16.11 11:17:29 DB: SELECT id FROM battle WHERE firstid=14 OR secondid=14 AND finished <> true
16.11 11:17:29 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=14 OR secondid=14 AND finished <> true, _type => core/server.query }
16.11 11:17:29 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:17:29 ->>-: vdl/cache.battle.infoRoom { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:17:29 -<<-: vdl/cache.battle.infoRoom { errorCode => _requestException, _type => vdl/cache.battle.infoRoom }
16.11 11:17:29 TRACE: logoutPost battle exception: cacheRequest exception { roomId => 0, _type => vdl/cache.battle.infoRoom }
16.11 11:17:29 TRACE: 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 472
Called from modules/VDLBattleModule.hx line 485
Called from snipe/slave/Server.hx line 1009
16.11 11:17:29 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 14, _type => core/cache.update }
16.11 11:17:29 -<<-: core/cache.update { errorCode => ok, version => 22, _type => core/cache.update }
16.11 11:17:29 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 14, _type => core/cache.update }
16.11 11:17:29 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
16.11 11:17:29 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 14, _type => core/user.logoutPost }
16.11 11:17:29 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:17:29 NET: Client (conid:29884088) connected to vdl.0 (clients:1)
16.11 11:17:29 NET: Client (conid:29884088) switched protocol to WS
16.11 11:17:48 STATS: vdl.0 cache, locks:2
16.11 11:18:28 TIMER: Check auto-disconnect...
16.11 11:18:32 ++ NET: null req: user.ping { messageType => user.ping, msg => ok }
16.11 11:18:32 TRACE: User not logon yet.
16.11 11:18:32 NET: Client (name:null conid:29884088 WS) disconnected from vdl.0 (clients:0)
16.11 11:18:32 NET: Client (conid:39159016) connected to vdl.0 (clients:1)
16.11 11:18:32 NET: Client (conid:39159016) switched protocol to WS
16.11 11:18:48 STATS: vdl.0 cache, locks:2
16.11 11:19:28 TIMER: Check auto-disconnect...
16.11 11:19:35 ++ NET: null req: user.ping { messageType => user.ping, msg => ok }
16.11 11:19:35 TRACE: User not logon yet.
16.11 11:19:35 NET: Client (name:null conid:39159016 WS) disconnected from vdl.0 (clients:0)
16.11 11:19:35 NET: Client (conid:44671106) connected to vdl.0 (clients:1)
16.11 11:19:35 NET: Client (conid:44671106) switched protocol to WS
16.11 11:19:48 STATS: vdl.0 cache, locks:2
16.11 11:20:28 TIMER: Check auto-disconnect...
16.11 11:20:36 ++ NET: null req: user.ping { messageType => user.ping, msg => ok }
16.11 11:20:36 TRACE: User not logon yet.
16.11 11:20:36 NET: Client (name:null conid:44671106 WS) disconnected from vdl.0 (clients:0)
16.11 11:20:36 NET: Client (conid:62098537) connected to vdl.0 (clients:1)
16.11 11:20:36 NET: Client (conid:62098537) switched protocol to WS
16.11 11:20:48 STATS: vdl.0 cache, locks:2
16.11 11:21:28 TIMER: Check auto-disconnect...
16.11 11:21:48 STATS: vdl.0 cache, locks:2
16.11 11:22:28 TIMER: Check auto-disconnect...
16.11 11:22:48 STATS: vdl.0 cache, locks:2
16.11 11:23:28 TIMER: Check auto-disconnect...
16.11 11:23:48 STATS: vdl.0 cache, locks:2
16.11 11:24:28 TIMER: Check auto-disconnect...
16.11 11:24:48 STATS: vdl.0 cache, locks:2
16.11 11:25:28 TIMER: Check auto-disconnect...
16.11 11:25:48 STATS: vdl.0 cache, locks:2
16.11 11:26:28 TIMER: Check auto-disconnect...
16.11 11:26:48 STATS: vdl.0 cache, locks:2
16.11 11:27:28 TIMER: Check auto-disconnect...
16.11 11:27:48 STATS: vdl.0 cache, locks:2
16.11 11:28:28 TIMER: Check auto-disconnect...
16.11 11:28:48 STATS: vdl.0 cache, locks:2
16.11 11:28:48 NET: Client (conid:91175974) connected to vdl.0 (clients:2)
16.11 11:28:48 NET: Client (conid:91175974) switched protocol to WS
16.11 11:28:49 ++ NET: null req: user.login { messageType => user.login, token => dWlkMTI= }
16.11 11:28:49 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12'
16.11 11:28:49 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12', _type => core/server.query }
16.11 11:28:49 -<<-: core/server.query { list => {{ name => uid12, networkid => , isbanned => false, id => 12 }}, errorCode => ok, _type => core/server.query }
16.11 11:28:49 STATS: vdl.0 cache connection, 1884 calls, total 1.30714011192322 sec spent, avg 0.69 ms
16.11 11:28:49 ->>-: core/user.isOnlineID { id => 12, _type => core/user.isOnlineID }
16.11 11:28:49 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:28:49 ->>-: core/cache.get { type => user, v => -1, id => 12, _type => core/cache.get }
16.11 11:28:49 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid12, deleted => false, year => , email => mail, networktype =>   , password => uid12, isbanned => false, regdate => 2016-11-14 12:05:08.368578+00, city => , language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479212957, lastLoginDate => 320, lastLoadDate => 1116 }, effects => { list => [] } }}, version => 0, id => 12 } }
16.11 11:28:49 ->>-: core/cache.get { type => questdata, v => -1, id => 12, _type => core/cache.get }
16.11 11:28:49 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 12 } }
16.11 11:28:49 NET: Client login (conid:91175974, id:12, name:uid12)
16.11 11:28:49 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 12, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:28:49 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:28:49 DB: SELECT token FROM tokens WHERE userid = 12
16.11 11:28:49 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 12, _type => core/server.query }
16.11 11:28:49 -<<-: core/server.query { list => {{ token => c77fd91fe6aa6da7f891cd46f9c19f76 }, { token => 410a8336ca702fbfc8b0abd7075eb930 }}, errorCode => ok, _type => core/server.query }
16.11 11:28:49 DB: SELECT ID FROM TempUserLogins WHERE UserID = 12 AND Date = 'today'::timestamp
16.11 11:28:49 ->>-: core/server.query { q => SELECT ID FROM TempUserLogins WHERE UserID = 12 AND Date = 'today'::timestamp, _type => core/server.query }
16.11 11:28:49 -<<-: core/server.query { list => {}, errorCode => ok, _type => core/server.query }
16.11 11:28:49 PENDING: INSERT INTO TempUserLogins (UserID, Date) VALUES (12, 'today'::timestamp)
16.11 11:28:49 == NET: uid12 ret: user.login { name => uid12, type => user.login, errorCode => ok, id => 12, token => c77fd91fe6aa6da7f891cd46f9c19f76 }
16.11 11:28:49 == NET: uid12 ret: user.join { name => null, type => user.join }
16.11 11:28:49 == NET: uid12 ret: user.join { name => uid12, type => user.join }
16.11 11:28:49 == NET: null ret: user.join { name => uid12, type => user.join }
16.11 11:28:49 ->>-: core/server.ping { _type => core/server.ping, _notify => {{ q => INSERT INTO TempUserLogins (UserID, Date) VALUES (12, 'today'::timestamp), _type => core/server.pending }} }
16.11 11:28:49 -<<-: core/server.ping { errorCode => ok, _type => core/server.ping }
16.11 11:28:49 NET: Client (name:null conid:62098537 WS) disconnected from vdl.0 (clients:1)
16.11 11:28:52 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:28:52 TIME: user.ping 0.13 ms
16.11 11:28:52 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:28:58 ->>-: core/cache.update { diff => {language => en, params => { attrs => { lastLoginDate => 321, lastLoadDate => 1117 } }}, type => user, unlock => false, id => 12, _type => core/cache.update }
16.11 11:28:58 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
16.11 11:29:14 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:29:14 TIME: user.ping 0.15 ms
16.11 11:29:14 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:29:28 TIMER: Check auto-disconnect...
16.11 11:29:48 STATS: vdl.0 cache, locks:4
16.11 11:30:07 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:30:07 TIME: user.ping 0.12 ms
16.11 11:30:07 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:30:28 TIMER: Check auto-disconnect...
16.11 11:30:29 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:30:29 TIME: user.ping 0.14 ms
16.11 11:30:29 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:30:48 STATS: vdl.0 cache, locks:4
16.11 11:31:28 TIMER: Check auto-disconnect...
16.11 11:31:47 ++ NET: uid12 req: battle.find { type => random, messageType => battle.find, roundTime => 60 }
16.11 11:31:47 ->>-: vdl/cache.battle.findRandom { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:31:47 -<<-: vdl/cache.battle.findRandom { errorCode => _requestException, _type => vdl/cache.battle.findRandom }
16.11 11:31:47 STATS: vdl.0 cache connection, 1893 calls, total 1.32193636894226 sec spent, avg 0.7 ms
16.11 11:31:47 TRACE: battle.find : cacheRequest exception { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:31:47 TRACE: battle.find : 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 221
Called from modules/VDLBattleModule.hx line 170
Called from modules/VDLBattleModule.hx line 58
Called from modules/VDLBattleModule.hx line 40
Called from snipe/slave/Server.hx line 1225
16.11 11:31:48 STATS: vdl.0 cache, locks:4
16.11 11:32:27 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:32:27 TIME: user.ping 0.14 ms
16.11 11:32:27 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:32:27 NET: Client (name:uid12 conid:91175974 WS) disconnected from vdl.0 (clients:0)
16.11 11:32:27 DB: SELECT id FROM battle WHERE firstid=12 OR secondid=12 AND finished <> true
16.11 11:32:27 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=12 OR secondid=12 AND finished <> true, _type => core/server.query }
16.11 11:32:27 -<<-: core/server.query { list => {{ id => 7 }}, errorCode => ok, _type => core/server.query }
16.11 11:32:27 ->>-: vdl/cache.battle.infoRoom { roomId => 7, _type => vdl/cache.battle.infoRoom }
16.11 11:32:27 -<<-: vdl/cache.battle.infoRoom { secondId => 19, firstId => 12, _type => vdl/cache.battle.infoRoom, turnId => 12 }
16.11 11:32:27 ->>-: vdl/cache.battle.deleteRoom { roomId => 7, _type => vdl/cache.battle.deleteRoom }
16.11 11:32:27 -<<-: vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
16.11 11:32:27 ->>-: vdl/cache.battle.finishRoom { roomId => 7, _type => vdl/cache.battle.finishRoom }
16.11 11:32:27 -<<-: vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
16.11 11:32:27 ->>-: core/user.sendTo { id => 19, _type => core/user.sendTo, msg => { _type => battle.leave } }
16.11 11:32:27 -<<-: core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
16.11 11:32:27 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 12, _type => core/cache.update }
16.11 11:32:27 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
16.11 11:32:27 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 12, _type => core/cache.update }
16.11 11:32:27 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
16.11 11:32:27 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 12, _type => core/user.logoutPost }
16.11 11:32:27 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:32:28 TIMER: Check auto-disconnect...
16.11 11:32:32 NET: Client (conid:20958506) connected to vdl.0 (clients:1)
16.11 11:32:32 NET: Client (conid:20958506) switched protocol to WS
16.11 11:32:48 STATS: vdl.0 cache, locks:2
16.11 11:33:28 TIMER: Check auto-disconnect...
16.11 11:33:48 STATS: vdl.0 cache, locks:2
16.11 11:34:28 TIMER: Check auto-disconnect...
16.11 11:34:48 STATS: vdl.0 cache, locks:2
16.11 11:35:28 TIMER: Check auto-disconnect...
16.11 11:35:48 STATS: vdl.0 cache, locks:2
16.11 11:36:28 TIMER: Check auto-disconnect...
16.11 11:36:48 STATS: vdl.0 cache, locks:2
16.11 11:37:28 TIMER: Check auto-disconnect...
16.11 11:37:48 STATS: vdl.0 cache, locks:2
16.11 11:37:59 NET: Client (name:null conid:20958506 WS) disconnected from vdl.0 (clients:0)
16.11 11:38:06 NET: Client (conid:51319502) connected to vdl.0 (clients:1)
16.11 11:38:06 NET: Client (conid:51319502) switched protocol to WS
16.11 11:38:08 ++ NET: null req: user.login { messageType => user.login, token => dWlkMTI= }
16.11 11:38:08 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12'
16.11 11:38:08 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12', _type => core/server.query }
16.11 11:38:08 -<<-: core/server.query { list => {{ name => uid12, networkid => , isbanned => false, id => 12 }}, errorCode => ok, _type => core/server.query }
16.11 11:38:08 STATS: vdl.0 cache connection, 1902 calls, total 1.32912445068359 sec spent, avg 0.7 ms
16.11 11:38:08 ->>-: core/user.isOnlineID { id => 12, _type => core/user.isOnlineID }
16.11 11:38:08 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:38:08 ->>-: core/cache.get { type => user, v => -1, id => 12, _type => core/cache.get }
16.11 11:38:08 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid12, deleted => false, year => , email => mail, networktype =>   , password => uid12, isbanned => false, regdate => 2016-11-14 12:05:08.368578+00, city => , language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479212957, lastLoginDate => 321, lastLoadDate => 1117 }, effects => { list => [] } }}, version => 0, id => 12 } }
16.11 11:38:08 ->>-: core/cache.get { type => questdata, v => -1, id => 12, _type => core/cache.get }
16.11 11:38:08 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 0, id => 12 } }
16.11 11:38:08 NET: Client login (conid:51319502, id:12, name:uid12)
16.11 11:38:08 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 12, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:38:08 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:38:08 DB: SELECT token FROM tokens WHERE userid = 12
16.11 11:38:08 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 12, _type => core/server.query }
16.11 11:38:08 -<<-: core/server.query { list => {{ token => c77fd91fe6aa6da7f891cd46f9c19f76 }, { token => 410a8336ca702fbfc8b0abd7075eb930 }}, errorCode => ok, _type => core/server.query }
16.11 11:38:08 == NET: uid12 ret: user.login { name => uid12, type => user.login, errorCode => ok, id => 12, token => c77fd91fe6aa6da7f891cd46f9c19f76 }
16.11 11:38:08 == NET: uid12 ret: user.join { name => uid12, type => user.join }
16.11 11:38:13 ->>-: core/cache.update { diff => {language => en}, type => user, unlock => false, id => 12, _type => core/cache.update }
16.11 11:38:13 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
16.11 11:38:13 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:38:13 TIME: user.ping 0.14 ms
16.11 11:38:13 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:38:28 TIMER: Check auto-disconnect...
16.11 11:38:48 STATS: vdl.0 cache, locks:4
16.11 11:39:28 TIMER: Check auto-disconnect...
16.11 11:39:48 STATS: vdl.0 cache, locks:4
16.11 11:40:28 TIMER: Check auto-disconnect...
16.11 11:40:48 STATS: vdl.0 cache, locks:4
16.11 11:41:28 TIMER: Check auto-disconnect...
16.11 11:41:48 STATS: vdl.0 cache, locks:4
16.11 11:42:28 TIMER: Check auto-disconnect...
16.11 11:42:43 ++ NET: uid12 req: battle.find { type => random, messageType => battle.find, roundTime => 60 }
16.11 11:42:43 ->>-: vdl/cache.battle.findRandom { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:42:43 -<<-: vdl/cache.battle.findRandom { errorCode => _requestException, _type => vdl/cache.battle.findRandom }
16.11 11:42:43 STATS: vdl.0 cache connection, 1909 calls, total 1.33720898628235 sec spent, avg 0.7 ms
16.11 11:42:43 TRACE: battle.find : cacheRequest exception { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:42:43 TRACE: battle.find : 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 221
Called from modules/VDLBattleModule.hx line 170
Called from modules/VDLBattleModule.hx line 58
Called from modules/VDLBattleModule.hx line 40
Called from snipe/slave/Server.hx line 1225
16.11 11:42:48 STATS: vdl.0 cache, locks:4
16.11 11:43:28 TIMER: Check auto-disconnect...
16.11 11:43:48 STATS: vdl.0 cache, locks:4
16.11 11:44:28 TIMER: Check auto-disconnect...
16.11 11:44:48 STATS: vdl.0 cache, locks:4
16.11 11:45:28 TIMER: Check auto-disconnect...
16.11 11:45:48 STATS: vdl.0 cache, locks:4
16.11 11:46:28 TIMER: Check auto-disconnect...
16.11 11:46:48 STATS: vdl.0 cache, locks:4
16.11 11:47:28 TIMER: Check auto-disconnect...
16.11 11:47:48 STATS: vdl.0 cache, locks:4
16.11 11:48:28 TIMER: Check auto-disconnect...
16.11 11:48:48 STATS: vdl.0 cache, locks:4
16.11 11:49:28 TIMER: Check auto-disconnect...
16.11 11:49:48 STATS: vdl.0 cache, locks:4
16.11 11:50:28 TIMER: Check auto-disconnect...
16.11 11:50:48 STATS: vdl.0 cache, locks:4
16.11 11:51:28 TIMER: Check auto-disconnect...
16.11 11:51:48 STATS: vdl.0 cache, locks:4
16.11 11:52:28 TIMER: Check auto-disconnect...
16.11 11:52:48 STATS: vdl.0 cache, locks:4
16.11 11:53:28 TIMER: Check auto-disconnect...
16.11 11:53:48 STATS: vdl.0 cache, locks:4
16.11 11:54:28 TIMER: Check auto-disconnect...
16.11 11:54:48 STATS: vdl.0 cache, locks:4
16.11 11:55:28 TIMER: Check auto-disconnect...
16.11 11:55:48 STATS: vdl.0 cache, locks:4
16.11 11:56:15 NET: Client (name:uid12 conid:51319502 WS) disconnected from vdl.0 (clients:0)
16.11 11:56:15 DB: SELECT id FROM battle WHERE firstid=12 OR secondid=12 AND finished <> true
16.11 11:56:15 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=12 OR secondid=12 AND finished <> true, _type => core/server.query }
16.11 11:56:15 -<<-: core/server.query { list => {{ id => 8 }}, errorCode => ok, _type => core/server.query }
16.11 11:56:15 STATS: vdl.0 cache connection, 1910 calls, total 1.33799505233765 sec spent, avg 0.7 ms
16.11 11:56:15 ->>-: vdl/cache.battle.infoRoom { roomId => 8, _type => vdl/cache.battle.infoRoom }
16.11 11:56:15 -<<-: vdl/cache.battle.infoRoom { secondId => 19, firstId => 12, _type => vdl/cache.battle.infoRoom, turnId => 12 }
16.11 11:56:15 ->>-: vdl/cache.battle.deleteRoom { roomId => 8, _type => vdl/cache.battle.deleteRoom }
16.11 11:56:15 -<<-: vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
16.11 11:56:15 ->>-: vdl/cache.battle.finishRoom { roomId => 8, _type => vdl/cache.battle.finishRoom }
16.11 11:56:15 -<<-: vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
16.11 11:56:15 ->>-: core/user.sendTo { id => 19, _type => core/user.sendTo, msg => { _type => battle.leave } }
16.11 11:56:15 -<<-: core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
16.11 11:56:15 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 12, _type => core/cache.update }
16.11 11:56:15 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
16.11 11:56:15 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 12, _type => core/cache.update }
16.11 11:56:15 -<<-: core/cache.update { errorCode => ok, version => 1, _type => core/cache.update }
16.11 11:56:15 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 12, _type => core/user.logoutPost }
16.11 11:56:15 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:56:18 NET: Client (conid:42041535) connected to vdl.0 (clients:1)
16.11 11:56:18 NET: Client (conid:42041535) switched protocol to WS
16.11 11:56:20 ++ NET: null req: user.login { messageType => user.login, token => dWlkMTI= }
16.11 11:56:20 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12'
16.11 11:56:20 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12', _type => core/server.query }
16.11 11:56:20 -<<-: core/server.query { list => {{ name => uid12, networkid => , isbanned => false, id => 12 }}, errorCode => ok, _type => core/server.query }
16.11 11:56:20 ->>-: core/user.isOnlineID { id => 12, _type => core/user.isOnlineID }
16.11 11:56:20 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:56:20 ->>-: core/cache.get { type => user, v => -1, id => 12, _type => core/cache.get }
16.11 11:56:20 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid12, deleted => false, year => , email => mail, networktype =>   , password => uid12, isbanned => false, regdate => 2016-11-14 12:05:08.368578+00, city => , language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479212957, lastLoginDate => 321, lastLoadDate => 1117 }, effects => { list => [] } }}, version => 2, id => 12 } }
16.11 11:56:20 ->>-: core/cache.get { type => questdata, v => -1, id => 12, _type => core/cache.get }
16.11 11:56:20 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 1, id => 12 } }
16.11 11:56:20 NET: Client login (conid:42041535, id:12, name:uid12)
16.11 11:56:20 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 12, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:56:20 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:56:20 DB: SELECT token FROM tokens WHERE userid = 12
16.11 11:56:20 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 12, _type => core/server.query }
16.11 11:56:20 -<<-: core/server.query { list => {{ token => c77fd91fe6aa6da7f891cd46f9c19f76 }, { token => 410a8336ca702fbfc8b0abd7075eb930 }}, errorCode => ok, _type => core/server.query }
16.11 11:56:20 == NET: uid12 ret: user.login { name => uid12, type => user.login, errorCode => ok, id => 12, token => c77fd91fe6aa6da7f891cd46f9c19f76 }
16.11 11:56:20 == NET: uid12 ret: user.join { name => uid12, type => user.join }
16.11 11:56:26 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:56:26 TIME: user.ping 0.17 ms
16.11 11:56:26 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:56:28 ->>-: core/cache.update { diff => {language => en}, type => user, unlock => false, id => 12, _type => core/cache.update }
16.11 11:56:28 -<<-: core/cache.update { errorCode => ok, version => 3, _type => core/cache.update }
16.11 11:56:28 TIMER: Check auto-disconnect...
16.11 11:56:31 ++ NET: uid12 req: battle.find { type => random, messageType => battle.find, roundTime => 60 }
16.11 11:56:31 ->>-: vdl/cache.battle.findRandom { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:56:31 -<<-: vdl/cache.battle.findRandom { errorCode => _requestException, _type => vdl/cache.battle.findRandom }
16.11 11:56:31 TRACE: battle.find : cacheRequest exception { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:56:31 TRACE: battle.find : 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 221
Called from modules/VDLBattleModule.hx line 170
Called from modules/VDLBattleModule.hx line 58
Called from modules/VDLBattleModule.hx line 40
Called from snipe/slave/Server.hx line 1225
16.11 11:56:48 STATS: vdl.0 cache, locks:4
16.11 11:57:28 TIMER: Check auto-disconnect...
16.11 11:57:48 STATS: vdl.0 cache, locks:4
16.11 11:57:49 NET: Client (name:uid12 conid:42041535 WS) disconnected from vdl.0 (clients:0)
16.11 11:57:49 DB: SELECT id FROM battle WHERE firstid=12 OR secondid=12 AND finished <> true
16.11 11:57:49 ->>-: core/server.query { q => SELECT id FROM battle WHERE firstid=12 OR secondid=12 AND finished <> true, _type => core/server.query }
16.11 11:57:49 -<<-: core/server.query { list => {{ id => 9 }}, errorCode => ok, _type => core/server.query }
16.11 11:57:49 STATS: vdl.0 cache connection, 1926 calls, total 1.35514712333679 sec spent, avg 0.7 ms
16.11 11:57:49 ->>-: vdl/cache.battle.infoRoom { roomId => 9, _type => vdl/cache.battle.infoRoom }
16.11 11:57:49 -<<-: vdl/cache.battle.infoRoom { secondId => 19, firstId => 12, _type => vdl/cache.battle.infoRoom, turnId => 12 }
16.11 11:57:49 ->>-: vdl/cache.battle.deleteRoom { roomId => 9, _type => vdl/cache.battle.deleteRoom }
16.11 11:57:49 -<<-: vdl/cache.battle.deleteRoom { errorCode => ok, _type => vdl/cache.battle.deleteRoom }
16.11 11:57:49 ->>-: vdl/cache.battle.finishRoom { roomId => 9, _type => vdl/cache.battle.finishRoom }
16.11 11:57:49 -<<-: vdl/cache.battle.finishRoom { errorCode => ok, _type => vdl/cache.battle.finishRoom }
16.11 11:57:49 ->>-: core/user.sendTo { id => 19, _type => core/user.sendTo, msg => { _type => battle.leave } }
16.11 11:57:49 -<<-: core/user.sendTo { errorCode => userNotOnline, _type => core/user.sendTo }
16.11 11:57:49 ->>-: core/cache.update { diff => {}, type => user, unlock => true, id => 12, _type => core/cache.update }
16.11 11:57:49 -<<-: core/cache.update { errorCode => ok, version => 4, _type => core/cache.update }
16.11 11:57:49 ->>-: core/cache.update { diff => {}, type => questdata, unlock => true, id => 12, _type => core/cache.update }
16.11 11:57:49 -<<-: core/cache.update { errorCode => ok, version => 2, _type => core/cache.update }
16.11 11:57:49 ->>-: core/user.logoutPost { networkid => , networktype =>   , id => 12, _type => core/user.logoutPost }
16.11 11:57:49 -<<-: core/user.logoutPost { errorCode => ok, _type => core/user.logoutPost }
16.11 11:57:52 NET: Client (conid:15710372) connected to vdl.0 (clients:1)
16.11 11:57:52 NET: Client (conid:15710372) switched protocol to WS
16.11 11:57:54 ++ NET: null req: user.login { messageType => user.login, token => dWlkMTI= }
16.11 11:57:54 DB: SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12'
16.11 11:57:54 ->>-: core/server.query { q => SELECT ID, Name, NetworkID, IsBanned FROM Users WHERE Name = 'uid12' AND Password = 'uid12', _type => core/server.query }
16.11 11:57:54 -<<-: core/server.query { list => {{ name => uid12, networkid => , isbanned => false, id => 12 }}, errorCode => ok, _type => core/server.query }
16.11 11:57:54 ->>-: core/user.isOnlineID { id => 12, _type => core/user.isOnlineID }
16.11 11:57:54 -<<-: core/user.isOnlineID { isOnline => false, errorCode => ok, _type => core/user.isOnlineID }
16.11 11:57:54 ->>-: core/cache.get { type => user, v => -1, id => 12, _type => core/cache.get }
16.11 11:57:54 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {name => uid12, deleted => false, year => , email => mail, networktype =>   , password => uid12, isbanned => false, regdate => 2016-11-14 12:05:08.368578+00, city => , language => en, networkid => , params => { attrs => { _lastTime.24hr => 1479212957, lastLoginDate => 321, lastLoadDate => 1117 }, effects => { list => [] } }}, version => 4, id => 12 } }
16.11 11:57:54 ->>-: core/cache.get { type => questdata, v => -1, id => 12, _type => core/cache.get }
16.11 11:57:54 -<<-: core/cache.get { errorCode => ok, _type => core/cache.get, block => { list => {params => { quests => { list => [] } }}, version => 2, id => 12 } }
16.11 11:57:54 NET: Client login (conid:15710372, id:12, name:uid12)
16.11 11:57:54 ->>-: core/user.loginPost { lang => en, networkid => , platform => web, networktype =>   , id => 12, _type => core/user.loginPost, ipAddr => 91.225.76.192 }
16.11 11:57:54 -<<-: core/user.loginPost { _type => core/user.loginPost }
16.11 11:57:54 DB: SELECT token FROM tokens WHERE userid = 12
16.11 11:57:54 ->>-: core/server.query { q => SELECT token FROM tokens WHERE userid = 12, _type => core/server.query }
16.11 11:57:54 -<<-: core/server.query { list => {{ token => c77fd91fe6aa6da7f891cd46f9c19f76 }, { token => 410a8336ca702fbfc8b0abd7075eb930 }}, errorCode => ok, _type => core/server.query }
16.11 11:57:54 == NET: uid12 ret: user.login { name => uid12, type => user.login, errorCode => ok, id => 12, token => c77fd91fe6aa6da7f891cd46f9c19f76 }
16.11 11:57:54 == NET: uid12 ret: user.join { name => uid12, type => user.join }
16.11 11:58:00 ++ NET: uid12 req: user.ping { messageType => user.ping, msg => ok }
16.11 11:58:00 TIME: user.ping 0.13 ms
16.11 11:58:00 == NET: uid12 ret: user.ping { type => user.ping, errorCode => ok }
16.11 11:58:03 ->>-: core/cache.update { diff => {language => en}, type => user, unlock => false, id => 12, _type => core/cache.update }
16.11 11:58:03 -<<-: core/cache.update { errorCode => ok, version => 5, _type => core/cache.update }
16.11 11:58:05 ++ NET: uid12 req: battle.find { type => random, messageType => battle.find, roundTime => 60 }
16.11 11:58:05 ->>-: vdl/cache.battle.findRandom { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:58:05 -<<-: vdl/cache.battle.findRandom { errorCode => _requestException, _type => vdl/cache.battle.findRandom }
16.11 11:58:05 TRACE: battle.find : cacheRequest exception { user => { time => 60, player => 12 }, _type => vdl/cache.battle.findRandom }
16.11 11:58:05 TRACE: battle.find : 
Called from snipe/slave/CacheConnection.hx line 199
Called from modules/VDLBattleModule.hx line 221
Called from modules/VDLBattleModule.hx line 170
Called from modules/VDLBattleModule.hx line 58
Called from modules/VDLBattleModule.hx line 40
Called from snipe/slave/Server.hx line 1225
16.11 11:58:28 TIMER: Check auto-disconnect...
16.11 11:58:48 STATS: vdl.0 cache, locks:4
16.11 11:59:28 TIMER: Check auto-disconnect...
16.11 11:59:48 STATS: vdl.0 cache, locks:4
